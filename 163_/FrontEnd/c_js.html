<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2024-03-07 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>JavaScript (ECMAScript)</title>
<meta name="author" content="31415929" />
<meta name="generator" content="Org Mode" />
<link rel='stylesheet' href='/asset/common.css?33442' />
<script src='https://cdn.bootcss.com/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdn.bootcss.com/bootstrap/3.3.4/js/bootstrap.min.js'></script>
<script src='/asset/common.js'></script>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<header>
<h1 class="title">JavaScript (ECMAScript)</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgcf71bd6">1. Hello</a>
<ul>
<li><a href="#org7027796">1.1. 基本示例 (Hello World)</a></li>
<li><a href="#org5672c4c">1.2. 在浏览器中使用 JavaScript</a>
<ul>
<li><a href="#orgd93e891">1.2.1. 内嵌在 html 代码中</a></li>
<li><a href="#org29bc30b">1.2.2. 作为外部的 JS 文件存在</a></li>
<li><a href="#org0c567ce">1.2.3. [示例] 创建一个网页，点击按钮刷新节点的时间</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org6538115">2. 概述</a></li>
<li><a href="#orgb7bdf9a">3. 变量 (Variable)</a>
<ul>
<li><a href="#org2845ed2">3.1. 变量的声明的若干方式</a></li>
</ul>
</li>
<li><a href="#org7f71dbb">4. 类型 (Type)</a>
<ul>
<li><a href="#org353511b">4.1. number</a>
<ul>
<li><a href="#org6045cb0">4.1.1. 声明</a></li>
<li><a href="#org1ee1834">4.1.2. 运算</a></li>
<li><a href="#org144b13b">4.1.3. NaN (Not a Number)</a></li>
<li><a href="#orgbfab365">4.1.4. Infinity</a></li>
<li><a href="#orgfcadc80">4.1.5. Number/parseInt/parseFloat</a></li>
<li><a href="#org0f1f84e">4.1.6. 0.30000000000000004</a></li>
</ul>
</li>
<li><a href="#org37fd29a">4.2. string</a></li>
<li><a href="#org3c14721">4.3. boolean</a></li>
<li><a href="#orga419c60">4.4. function</a>
<ul>
<li><a href="#org262e8d7">4.4.1. 基本的声明与使用</a></li>
<li><a href="#org6c596f2">4.4.2. 函数的定义</a></li>
<li><a href="#org34b0c0e">4.4.3. 函数是一等公民 (回调函数)</a></li>
<li><a href="#org7588866">4.4.4. 递归函数</a></li>
<li><a href="#org66d292f">4.4.5. 变量的提升 (var)</a></li>
<li><a href="#orgc80b5a5">4.4.6. 变量的作用域 (var)</a></li>
<li><a href="#org976ca52">4.4.7. ES6 提出了两个进行变量定义的关键词 let/const</a></li>
<li><a href="#org41c0ac9">4.4.8. 词法作用域 (Lexical Scope)</a></li>
<li><a href="#orgdeb64fc">4.4.9. 闭包 (Closure)</a></li>
</ul>
</li>
<li><a href="#orgeeb2fd9">4.5. undefined (null is not a type)</a></li>
<li><a href="#org288221d">4.6. Object</a>
<ul>
<li><a href="#orgab2af4a">4.6.1. 封装</a></li>
<li><a href="#org894a861">4.6.2. 继承 (基于原型链)</a></li>
<li><a href="#orge3ce40c">4.6.3. 使用构造函数，简化对象的创建</a></li>
<li><a href="#org9547756">4.6.4. ES5 中的 Object.create</a></li>
<li><a href="#org4ce06eb">4.6.5. ES6 中的 class 语法糖</a></li>
<li><a href="#org1d05eae">4.6.6. Object 对象</a></li>
</ul>
</li>
<li><a href="#org0c5ef6c">4.7. 运算符优先级</a></li>
</ul>
</li>
<li><a href="#orgc9669a5">5. 标准内置对象 (Global Objects)</a>
<ul>
<li><a href="#orgcf6d4fd">5.1. Number/String/Boolean/Function</a></li>
<li><a href="#orgc6d1c65">5.2. Array</a>
<ul>
<li><a href="#org4e85a5f">5.2.1. 数组的创建</a></li>
<li><a href="#org09882a1">5.2.2. 数组的基本用法</a></li>
<li><a href="#org685f070">5.2.3. 字符串跟数组的美好友谊</a></li>
<li><a href="#org4c1b551">5.2.4. Array 与 function 的美好生活</a></li>
<li><a href="#org88c30ec">5.2.5. ES6 添加的 Array 的一些静态方法</a></li>
<li><a href="#orgd98a636">5.2.6. [示例] 常规操作</a></li>
</ul>
</li>
<li><a href="#org01fa03d">5.3. Math</a></li>
<li><a href="#org04d9443">5.4. Date</a></li>
<li><a href="#org203ea4d">5.5. RegExp</a>
<ul>
<li><a href="#orgf906bd1">5.5.1. 补充</a></li>
</ul>
</li>
<li><a href="#org314722f">5.6. JSON</a></li>
<li><a href="#org6cf43e6">5.7. Symbol</a></li>
<li><a href="#org082fb0b">5.8. Set/Map/WeakSet/WeakMap</a></li>
<li><a href="#orgd36ab02">5.9. ArrayBuffer/DataView</a></li>
<li><a href="#org250d887">5.10. Promise/async</a></li>
</ul>
</li>
<li><a href="#orgd274123">6. 执行逻辑</a>
<ul>
<li><a href="#org316644e">6.1. 顺序执行</a></li>
<li><a href="#orge279384">6.2. 分支判断</a>
<ul>
<li><a href="#orgbb9e6f1">6.2.1. IF/ELSE</a></li>
<li><a href="#org3cdba04">6.2.2. Switch/Case</a></li>
<li><a href="#org20e40e8">6.2.3. 三目运算</a></li>
</ul>
</li>
<li><a href="#orgfb074e4">6.3. 循环迭代</a></li>
</ul>
</li>
<li><a href="#org714beee">7. 作用域及模块化</a>
<ul>
<li><a href="#org45f7362">7.1. var: 古老的函数级别作用域</a></li>
<li><a href="#org3573acc">7.2. let/const: 块级作用域的华丽登场</a></li>
<li><a href="#org23c1b96">7.3. &lt;script src="xxx.js"&gt; 划文件而治</a></li>
<li><a href="#org942def2">7.4. 模块化的第三方解决方案 CommonJS/AMD</a></li>
<li><a href="#org9882ef3">7.5. 终于，在 ES6 中，推出了标准化的模块写法</a></li>
</ul>
</li>
<li><a href="#org0583c2f">8. ES6 快速预览</a>
<ul>
<li><a href="#org8a7f213">8.1. 对象的扩展</a></li>
<li><a href="#org9a781df">8.2. 块级作用域</a></li>
<li><a href="#org5ed8df5">8.3. 函数默认值</a></li>
<li><a href="#orgc1c91ae">8.4. spread/rest</a></li>
<li><a href="#org0016d33">8.5. destructuring</a></li>
<li><a href="#org6ac4229">8.6. Arrow Function</a></li>
<li><a href="#orgb9f196b">8.7. 循环</a></li>
<li><a href="#org4eadf92">8.8. 模板字符串</a></li>
</ul>
</li>
<li><a href="#org951c4ec">9. 其他</a>
<ul>
<li><a href="#org07776e4">9.1. 严格模式 (strict mode)</a></li>
<li><a href="#org6502229">9.2. 异常处理</a></li>
<li><a href="#org1ef9950">9.3. Object.defineProperty / Proxy</a></li>
</ul>
</li>
<li><a href="#org48a8035">10. 问题集锦</a>
<ul>
<li><a href="#org2f92193">10.1. 运算符优先级</a></li>
<li><a href="#orga9a6722">10.2. 正则表达式</a></li>
<li><a href="#org92de93c">10.3. 从文件名取后缀名</a></li>
<li><a href="#org5a4da91">10.4. undefine/null</a></li>
<li><a href="#orgedfe05f">10.5. 数字 + 字符串 + NaN</a></li>
<li><a href="#orgce8f6e2">10.6. 浮点数计算</a></li>
<li><a href="#org5ea31ce">10.7. 求取斐波那契数列的某项 [递归]</a></li>
<li><a href="#org819945b">10.8. 自增运算符</a></li>
</ul>
</li>
</ul>
</div>
</nav>


<section id="outline-container-orgcf71bd6" class="outline-2">
<h2 id="orgcf71bd6"><span class="section-number-2">1.</span> Hello</h2>
<div class="outline-text-2" id="text-1">
<p>
<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript</a>
</p>

<p>
浏览器发展史:
</p>
<ol class="org-ol">
<li>网景浏览器</li>
<li>IE 浏览器</li>
<li>Chrome 浏览器</li>
</ol>

<p>
JavaScript 发展史:
</p>
<ol class="org-ol">
<li>JavaScript</li>
<li>ES5</li>
<li>ES6</li>
<li>Node.js</li>
</ol>

<p>
整个 JavaScript 的学习，分为三部分:
</p>
<ol class="org-ol">
<li>ECMAScript 语言核心</li>
<li>BOM 操作</li>
<li>DOM 操作</li>
</ol>
</div>

<div id="outline-container-org7027796" class="outline-3">
<h3 id="org7027796"><span class="section-number-3">1.1.</span> 基本示例 (Hello World)</h3>
<div class="outline-text-3" id="text-1-1">
<p>
<a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/First_steps/What_is_JavaScript">https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/First_steps/What_is_JavaScript</a>
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #fb4933;">!DOCTYPE</span> html&gt;
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">html</span> <span style="color: #83a598;">lang</span>=<span style="color: #b8bb26;">"en"</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">meta</span> <span style="color: #83a598;">charset</span>=<span style="color: #b8bb26;">"UTF-8"</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">meta</span> <span style="color: #83a598;">name</span>=<span style="color: #b8bb26;">"viewport"</span> <span style="color: #83a598;">content</span>=<span style="color: #b8bb26;">"width=device-width, initial-scale=1.0"</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">first blood</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">style</span><span style="color: #458588;">&gt;</span>
        <span style="color: #fabd2f;">.xiaoming</span> <span style="color: #458588;">{</span>
            <span style="color: #fb4933;">font-size</span>: 30pt;
            <span style="color: #fb4933;">font-family</span>: &#23435;&#20307;;
            <span style="color: #fb4933;">font-weight</span>: 400; 
            <span style="color: #fb4933;">color</span>:<span style="color: #ffffff; background-color: #ff0000;">red</span>
        <span style="color: #458588;">}</span>
    <span style="color: #458588;">&lt;</span>/style<span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span> <span style="color: #83a598;">type</span>=<span style="color: #b8bb26;">"text/javascript"</span><span style="color: #458588;">&gt;</span>
        <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">bianyanse</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
            <span style="color: #fb4933;">var</span> <span style="color: #83a598;">new_name</span> = prompt<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#35831;&#36755;&#20837;&#24744;&#24819;&#35201;&#30340;&#21517;&#23383;!"</span><span style="color: #b16286;">)</span>;
            xiaoming.style.color = <span style="color: #b8bb26;">"green"</span>;
            xiaoming.style.background = <span style="color: #b8bb26;">"red"</span>;
            xiaoming.innerText = new_name;
        <span style="color: #458588;">}</span>
    <span style="color: #458588;">&lt;</span>/script<span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
    &#31034;&#20363;:
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">p</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">span</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"xiaoming"</span>
         <span style="color: #83a598;">class</span>=<span style="color: #b8bb26;">"xiaoming"</span>
         <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"bianyanse()"</span><span style="color: #458588;">&gt;</span>&#23567;&#26126;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>&#26159;&#20010;&#22909;&#21516;&#23398;&#12290;
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">p</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">html</span><span style="color: #458588;">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5672c4c" class="outline-3">
<h3 id="org5672c4c"><span class="section-number-3">1.2.</span> 在浏览器中使用 JavaScript</h3>
<div class="outline-text-3" id="text-1-2">
</div>
<div id="outline-container-orgd93e891" class="outline-4">
<h4 id="orgd93e891"><span class="section-number-4">1.2.1.</span> 内嵌在 html 代码中</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
可以在 html 文档的任意部位添加 JavaScript 代码:
</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>...&lt;/<span style="color: #fabd2f;">scirpt</span>&gt;
&lt;script&gt;...&lt;/scirpt&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;script&gt;...&lt;/scirpt&gt;
&lt;div&gt;hello&lt;/div&gt;
&lt;script&gt;...&lt;/scirpt&gt;
&lt;/body&gt;
</pre>
</div>

<p>
只不过，一定要注意，JS 代码需要使用 script 标签包围:
</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#36825;&#37324;&#23384;&#22312;&#30340;&#26159; Html &#20195;&#30721;&#65292;&#25105;&#26159;&#27880;&#37322;</span><span style="color: #7c6f64;"> --&gt;</span>
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span> <span style="color: #83a598;">type</span>=<span style="color: #b8bb26;">"text/javascript"</span><span style="color: #458588;">&gt;</span>
  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36825;&#37324;&#23384;&#22312;&#30340;&#26159;&#23436;&#20840;&#30340; JavaScript &#20195;&#30721;</span>
  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20351;&#29992; // &#20316;&#20026;&#27880;&#37322;&#30340;&#24320;&#22987;</span>
  <span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = 2;
  alert<span style="color: #458588;">(</span>a<span style="color: #458588;">)</span>;
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>

<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">....</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
</pre>
</div>

<p>
另外:
</p>
<ul class="org-ul">
<li>如果 script 标签不闭合，会导致页面渲染出问题</li>
<li>浏览器渲染 html 是从上到下的，所以，前面的 script 会比后面的先执行</li>
<li>一个页面中可以有多个 script 块</li>
<li>一般来说，会将 script 放到 head 中，但是为了渲染速度，很多时候，会放到 body 的最后</li>
</ul>
</div>
</div>

<div id="outline-container-org29bc30b" class="outline-4">
<h4 id="org29bc30b"><span class="section-number-4">1.2.2.</span> 作为外部的 JS 文件存在</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
引入外部 JavaScript 脚本的语法:
</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#21152;&#36733; html &#25991;&#20214;&#30456;&#21516;&#30446;&#24405;&#30340; hello.js &#25991;&#20214;</span><span style="color: #7c6f64;"> --&gt;</span>
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span> <span style="color: #83a598;">src</span>=<span style="color: #b8bb26;">"hello.js"</span><span style="color: #458588;">&gt;&lt;</span>/<span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span> <span style="color: #83a598;">src</span>=<span style="color: #b8bb26;">"./hello.js"</span><span style="color: #458588;">&gt;&lt;</span>/<span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>

<span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">/html/aaa/bbb/hello.html</span><span style="color: #7c6f64;"> --&gt;</span>
<span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">/html/js/hello.js</span><span style="color: #7c6f64;"> --&gt;</span>
<span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#38169;&#35823;&#30340;&#31034;&#20363;&#65306; /html/hello.html</span><span style="color: #7c6f64;"> --&gt;</span>
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span> <span style="color: #83a598;">src</span>=<span style="color: #b8bb26;">"../../js/hello.js"</span><span style="color: #458588;">&gt;&lt;</span>/<span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>

<span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#32477;&#23545;&#36335;&#24452;</span><span style="color: #7c6f64;"> --&gt;</span>
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span> <span style="color: #83a598;">src</span>=<span style="color: #b8bb26;">"/html/hello.js"</span><span style="color: #458588;">&gt;&lt;</span>/<span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>

<span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#19968;&#23450;&#27880;&#24847;&#65292;&#26631;&#31614;&#35201;&#38381;&#21512;&#12290;&#20808;&#20004;&#31181;&#20889;&#27861;&#37117;&#26159;&#38169;&#35823;&#30340;</span><span style="color: #7c6f64;"> --&gt;</span>
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span> <span style="color: #83a598;">src</span>=<span style="color: #b8bb26;">"hello.js"</span><span style="color: #458588;">&gt;</span>
&lt;script src=<span style="color: #b8bb26;">"hello.js"</span>/&gt;
</pre>
</div>

<p>
也可以直接使用外部的链接作为 JS 脚本直接使用:
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #fb4933;">!doctype</span> html&gt;
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">html</span> <span style="color: #83a598;">lang</span>=<span style="color: #b8bb26;">"en"</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">meta</span> <span style="color: #83a598;">charset</span>=<span style="color: #b8bb26;">"UTF-8"</span>/<span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">&#24341;&#20837;&#22806;&#37096;&#30340; JS</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span> <span style="color: #83a598;">src</span>=<span style="color: #b8bb26;">"https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"</span><span style="color: #458588;">&gt;&lt;</span>/<span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
     alert<span style="color: #458588;">(</span>$<span style="color: #458588;">)</span>;
    <span style="color: #458588;">&lt;</span>/script<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">html</span><span style="color: #458588;">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org0c567ce" class="outline-4">
<h4 id="org0c567ce"><span class="section-number-4">1.2.3.</span> [示例] 创建一个网页，点击按钮刷新节点的时间</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
首先，创建一个网页 aaa.html，确定其中的「内容」和「结构」:
</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">html</span> <span style="color: #83a598;">lang</span>=<span style="color: #b8bb26;">"en"</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">meta</span> <span style="color: #83a598;">charset</span>=<span style="color: #b8bb26;">"UTF-8"</span>/<span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">Time</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
    &#29616;&#22312;&#26102;&#38388;&#26159;:
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">p</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"time_node"</span><span style="color: #458588;">&gt;</span>No time now<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">p</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"time_button"</span><span style="color: #458588;">&gt;</span>&#21047;&#26032;&#26102;&#38388;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">html</span><span style="color: #458588;">&gt;</span>
</pre>
</div>

<p>
其次，添加样式，使用外部 css 文件 aaa.css:
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #fabd2f;">p</span> <span style="color: #458588;">{</span> 
    <span style="color: #fb4933;">color</span>: <span style="color: #ffffff; background-color: #ff0000;">red</span>;
<span style="color: #458588;">}</span>
</pre>
</div>

<p>
然后，添加交互逻辑，使用外部 JavaScript 文件 aaa.js:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">showTime</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    node_time.innerText = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Date</span><span style="color: #b16286;">()</span>;
<span style="color: #458588;">}</span>
node_button = showTime;
</pre>
</div>

<p>
最后，确保将 aaa.css 和 aaa.js 添加到 html 中。要注意添加的位置:
</p>
<div class="org-src-container">
<pre class="src src-html">...
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">link</span> <span style="color: #83a598;">rel</span>=<span style="color: #b8bb26;">"stylesheet"</span> <span style="color: #83a598;">href</span>=<span style="color: #b8bb26;">"hello.css"</span><span style="color: #458588;">&gt;</span>
...
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span> <span style="color: #83a598;">src</span>=<span style="color: #b8bb26;">"hello.js"</span><span style="color: #458588;">&gt;&lt;</span>/<span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
...
</pre>
</div>

<hr>

<p>
上述就是编写一个网页的基本流程。
</p>

<p>
将「样式」和「交互逻辑」从页面中 分离 出来，这样结构更加分明，
方便分工协作，而且有益于维护和重构。
</p>
</div>
</div>
</div>
</section>

<section id="outline-container-org6538115" class="outline-2">
<h2 id="org6538115"><span class="section-number-2">2.</span> 概述</h2>
<div class="outline-text-2" id="text-2">
<p>
JavaScript 语法上特别像 Java，实质上更像 Scheme，另外它的基于原型 (prototype) 的对象系统，是来自于 Self。
</p>

<p>
JavaScript 网络第一语言:
</p>
<ul class="org-ul">
<li>定义数据的时候，不需要指定类型</li>
<li>是一门 <b>弱类型</b> 的语言</li>
<li>是一门 <b>动态类型</b> 的语言</li>
<li>一切都是变量！！！函数跟数据一样的地位，函数是一等公民 (First Class)</li>
<li>一切都是对象！！！</li>
</ul>

<div class="div" id="org9208d68">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">aaa</span> = 333;
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">int aaa = 333;</span>

aaa = <span style="color: #b8bb26;">"hello"</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">java &#20250;&#25253;&#38169;</span>

print<span style="color: #458588;">(</span>aaa<span style="color: #458588;">)</span>;
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">Java &#20250;&#30830;&#23450; aaa &#32943;&#23450;&#26159; int</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-java"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">1. &#21872;&#21990;</span>
<span style="color: #fb4933;">package</span> com.xxx.<span style="color: #d3869b;">yyy</span>;
<span style="color: #fb4933;">public</span> <span style="color: #fb4933;">class</span> <span style="color: #d3869b;">Asd</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">public</span> <span style="color: #d3869b;">int</span> <span style="color: #fabd2f;">getAge</span> <span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">return</span> 18;
    <span style="color: #b16286;">}</span>
    <span style="color: #fb4933;">public</span> <span style="color: #fb4933;">static</span> <span style="color: #d3869b;">void</span> <span style="color: #fabd2f;">main</span> <span style="color: #b16286;">(</span><span style="color: #d3869b;">String</span>... <span style="color: #83a598;">arg</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #d3869b;">int</span> <span style="color: #83a598;">aaa</span> = 1; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2. &#24517;&#39035;&#25163;&#21160;&#25351;&#23450;&#31867;&#22411;&#65292;&#22914;&#26524;&#24573;&#30053;&#30452;&#25509;&#25253;&#38169;</span>
        aaa = <span style="color: #b8bb26;">"hello"</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">3. &#24378;&#31867;&#22411;&#12289;&#38745;&#24577;&#31867;&#22411;</span>
        System.out.println<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"hello, world"</span><span style="color: #8ec07c;">)</span>;

        <span style="color: #d3869b;">Asd</span> <span style="color: #83a598;">asd</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Asd</span><span style="color: #8ec07c;">()</span>;
        asd.getAge<span style="color: #8ec07c;">()</span>;
        System.out.println<span style="color: #8ec07c;">(</span>getAge<span style="color: #8ec07c;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">error!</span>
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
</pre>
</div>

</div>

<p>
函数是一等公民:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">aaa</span> = 1;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">zzz</span> = <span style="color: #b8bb26;">"hello world"</span>;
zzz = <span style="color: #b8bb26;">"&#20320;&#22909;&#65292;&#19990;&#30028;"</span>;

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">bbb</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#25105;&#26159; bbb"</span><span style="color: #b16286;">)</span>;
    <span style="color: #fb4933;">return</span> <span style="color: #b8bb26;">"hello"</span>;
<span style="color: #458588;">}</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">var bbb = function bbb () {</span>
<span style="color: #7c6f64;">//     </span><span style="color: #7c6f64;">alert("&#25105;&#26159; bbb");</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">}</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">fff</span> <span style="color: #458588;">(</span><span style="color: #83a598;">f</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    f<span style="color: #b16286;">()</span>;
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#25105;&#25509;&#21463;&#30340;&#36825;&#20010;&#20989;&#25968;"</span> + f<span style="color: #8ec07c;">()</span> + <span style="color: #b8bb26;">"&#30495;&#30340;&#22909;"</span><span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>

fff<span style="color: #458588;">(</span>bbb<span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">var ccc = bbb;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">var ddd = ccc;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">var eee = ddd;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">eee();</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">alert(aaa);</span>
</pre>
</div>

<details id="orgd253640">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#39034;&#24207;&#25191;&#34892;&#65292;&#20174;&#19978;&#32780;&#19979;&#65292;&#20808; bbb &#23450;&#20041;&#65292;&#21518; fff &#23450;&#20041;&#65292;&#35843;&#29992; fff(bbb)</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">1. &#25105;&#35201;&#23450;&#20041;&#19968;&#20010;&#21517;&#23383;&#20026; bbb &#30340;&#20989;&#25968;&#12290;&#37324;&#38754;&#26159;&#20160;&#20040;&#25105;&#19981;&#30693;&#36947;</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">bbb</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#25105;&#26159; bbb"</span><span style="color: #b16286;">)</span>;
    <span style="color: #fb4933;">return</span> <span style="color: #b8bb26;">"hello"</span>;
<span style="color: #458588;">}</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2. &#25105;&#35201;&#23450;&#20041;&#19968;&#20010;&#21517;&#23383;&#20026; fff &#24102;&#19968;&#20010;&#21442;&#25968;&#30340;&#20989;&#25968;&#12290;&#37324;&#38754;&#26159;&#20160;&#20040;&#25105;&#19981;&#30693;&#36947;&#65292;&#25105;&#20063;&#19981;&#24819;&#30693;&#36947;</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">fff</span> <span style="color: #458588;">(</span><span style="color: #83a598;">f</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    f<span style="color: #b16286;">()</span>;
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#25105;&#25509;&#21463;&#30340;&#36825;&#20010;&#20989;&#25968;"</span> + f<span style="color: #8ec07c;">()</span> + <span style="color: #b8bb26;">"&#30495;&#30340;&#22909;"</span><span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">3. &#35843;&#29992;&#21517;&#23383;&#20026; fff &#30340;&#20989;&#25968;&#65292;&#23558; bbb &#21890;&#32473;&#23427;</span>
fff<span style="color: #458588;">(</span>bbb<span style="color: #458588;">)</span>;
</pre>
</div>
</details>
</div>
</section>

<section id="outline-container-orgb7bdf9a" class="outline-2">
<h2 id="orgb7bdf9a"><span class="section-number-2">3.</span> 变量 (Variable)</h2>
<div class="outline-text-2" id="text-3">
<p>
变量的的定义:
</p>
<ul class="org-ul">
<li>使用关键词 var (variable)</li>
<li>在 ES6 中，建议使用 let/const 定义变量和常量</li>
<li>变量实质上就是数据地址的一个别名</li>
<li>另一种说法，变量是数据的一个容器</li>
<li>让反复使用同一个数据，成为了可能</li>
</ul>

<p>
另外:
</p>
<ul class="org-ul">
<li>声明变量千万不要丢掉 var/let/const!!!</li>
<li>变量的名字，建议您一定要取得有意义</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = 1;
alert<span style="color: #458588;">(</span>a<span style="color: #458588;">)</span>;   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">1</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">b</span>;
alert<span style="color: #458588;">(</span>b<span style="color: #458588;">)</span>;   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">undefined&#65292;&#22768;&#26126;&#20102;&#65292;&#20294;&#26159;&#27809;&#26377;&#36171;&#20540;</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21517;&#23383;&#35201;&#26377;&#24847;&#20041;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">shengao</span> = 1;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">xs_xingm</span> = <span style="color: #b8bb26;">'lll'</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">xsXingm</span> = <span style="color: #b8bb26;">'lll'</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21453;&#38754;&#20363;&#23376;:</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">ksdjksdjfksjdkfjsdlkjfksdjfkjalkfdjlksdajflkdsajlkfj</span> = 1;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">i</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">j</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">xs</span>-skdfjskd = <span style="color: #b8bb26;">'kkk'</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22810;&#20010;&#36171;&#20540;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">i</span> = 1, <span style="color: #83a598;">j</span>, <span style="color: #83a598;">k</span> = 1;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">i</span> = j = k = 1;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#24555;&#25463;&#26041;&#24335;</span>
i = i + 1;
i++;
++i;
i = i - 1;
i--;
--i;
i = i + 2;
i += 2;
i /= 2;
i *= 2;
i -= 2;
</pre>
</div>
</div>

<div id="outline-container-org2845ed2" class="outline-3">
<h3 id="org2845ed2"><span class="section-number-3">3.1.</span> 变量的声明的若干方式</h3>
<div class="outline-text-3" id="text-3-1">
<p>
第一种:
</p>
<div class="org-src-container">
<pre class="src src-js">a = 1;
</pre>
</div>

<p>
第二种:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = 1;

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span>;
a = 1;
</pre>
</div>

<p>
第三种:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">let</span> <span style="color: #83a598;">a</span> = 1;
a++;

<span style="color: #fb4933;">const</span> <span style="color: #83a598;">pi</span> = 3.142;
pi++;  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">Error!</span>
</pre>
</div>

<p>
小结:
</p>
<ul class="org-ul">
<li>勿用 1</li>
<li>优先级: const &gt; let &gt; var</li>
</ul>
</div>
</div>
</section>

<section id="outline-container-org7f71dbb" class="outline-2">
<h2 id="org7f71dbb"><span class="section-number-2">4.</span> 类型 (Type)</h2>
<div class="outline-text-2" id="text-4">
<ul class="org-ul">
<li>原始类型 (Primitive Type): number/string/boolean/function/undefined</li>
<li>对象(Object): Array/Object/&#x2026;/null</li>
</ul>
</div>

<div id="outline-container-org353511b" class="outline-3">
<h3 id="org353511b"><span class="section-number-3">4.1.</span> number</h3>
<div class="outline-text-3" id="text-4-1">
<p>
在 JS 中，number 表示一切数字，包括整数和浮点数。全都是 64 位。
</p>
</div>

<div id="outline-container-org6045cb0" class="outline-4">
<h4 id="org6045cb0"><span class="section-number-4">4.1.1.</span> 声明</h4>
<div class="outline-text-4" id="text-4-1-1">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">int a = 1;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">number a = 1;</span>

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = 1;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">b</span> = 1.2;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">c</span> = 0.0000004;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">d</span> = 12323232323;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">f</span> = 0o12345;  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">8 &#36827;&#21046;&#30340;&#34920;&#29616;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">e</span> = 0xffffff; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">16 &#36827;&#21046;&#30340;&#34920;&#29616;</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#29992;&#26469;&#26597;&#30475;&#20854;&#22522;&#26412;&#31867;&#22411;</span>
<span style="color: #fb4933;">typeof</span> a; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">"number"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1ee1834" class="outline-4">
<h4 id="org1ee1834"><span class="section-number-4">4.1.2.</span> 运算</h4>
<div class="outline-text-4" id="text-4-1-2">
<ul class="org-ul">
<li>+ - x / %</li>
<li>around/ceil/floor</li>
<li>power/exp/sqrt</li>
<li>sin/cos/tan/log/ln</li>
<li>random</li>
</ul>
</div>
</div>

<div id="outline-container-org144b13b" class="outline-4">
<h4 id="org144b13b"><span class="section-number-4">4.1.3.</span> NaN (Not a Number)</h4>
<div class="outline-text-4" id="text-4-1-3">
<ul class="org-ul">
<li>表示不是一个数字</li>
<li>跟其他数字进行数学计算的结果还是 NaN</li>
<li>NaN 本质是一个 Number 上的属性，它表示一个不可知数字</li>
</ul>

<p>
进行数学计算的顺序是:
</p>
<ol class="org-ol">
<li><p>
首先，将运算符两边的 <b>元素</b> 都强制转换为 Number，然后进行计算
</p>
<pre class="example">
'3' * '5a'
</pre></li>
<li>如果在转换时，有一个转换失败了，那么运算的结果直接是 NaN</li>
<li><p>
加法例外，只要做不了数学运算，就强制转换为字符串拼接
</p>
<pre class="example">
'3' + '5'
3 + '5'
</pre></li>
<li><p>
如果一个结果无法表示，那么结果也会被表示为 NaN
</p>
<pre class="example">
Math.sqrt(-1)
</pre></li>
</ol>

<p>
如果要判断某个变量是否为 NaN。这两个有什么区别:
</p>
<ul class="org-ul">
<li>isNaN()</li>
<li>Number.isNaN()</li>
</ul>
</div>
</div>

<div id="outline-container-orgbfab365" class="outline-4">
<h4 id="orgbfab365"><span class="section-number-4">4.1.4.</span> Infinity</h4>
<div class="outline-text-4" id="text-4-1-4">
<pre class="example">
5 / 0
</pre>
</div>
</div>

<div id="outline-container-orgfcadc80" class="outline-4">
<h4 id="orgfcadc80"><span class="section-number-4">4.1.5.</span> Number/parseInt/parseFloat</h4>
<div class="outline-text-4" id="text-4-1-5">
<p>
parseInt 和 parseFloat 只转化第一个无效字符之前的字符串:
</p>
<div class="org-src-container">
<pre class="src src-js">Number<span style="color: #458588;">(</span><span style="color: #b8bb26;">"123"</span><span style="color: #458588;">)</span>;      <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">123</span>
parseInt<span style="color: #458588;">(</span><span style="color: #b8bb26;">"123"</span><span style="color: #458588;">)</span>;    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">123</span>

Number<span style="color: #458588;">(</span><span style="color: #b8bb26;">"123abc"</span><span style="color: #458588;">)</span>;   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">NaN</span>
parseInt<span style="color: #458588;">(</span><span style="color: #b8bb26;">"123abc"</span><span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">123</span>

Number<span style="color: #458588;">(</span><span style="color: #b8bb26;">"abc123"</span><span style="color: #458588;">)</span>;   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">NaN</span>
parseInt<span style="color: #458588;">(</span><span style="color: #b8bb26;">"abc123"</span><span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">NaN</span>

Number<span style="color: #458588;">(</span><span style="color: #d3869b;">null</span><span style="color: #458588;">)</span>;       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">0</span>
parseInt<span style="color: #458588;">(</span><span style="color: #d3869b;">null</span><span style="color: #458588;">)</span>;     <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">NaN</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org0f1f84e" class="outline-4">
<h4 id="org0f1f84e"><span class="section-number-4">4.1.6.</span> 0.30000000000000004</h4>
<div class="outline-text-4" id="text-4-1-6">
<ul class="org-ul">
<li>浮点数计算偏差，典型的 \(0.1 + 0.2 \ne 0.3\)</li>
<li>如果存在过大的数，是不能使用 Number 来表示的；使用内置的对象 BigInt 可以解决之</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org37fd29a" class="outline-3">
<h3 id="org37fd29a"><span class="section-number-3">4.2.</span> string</h3>
<div class="outline-text-3" id="text-4-2">
<p>
字符串的字面表达:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21452;&#24341;&#21495;&#12289;&#21333;&#24341;&#21495;&#65292;&#37117;&#26159;&#23383;&#31526;&#20018;</span>

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">b</span> = <span style="color: #b8bb26;">'&#23383;&#31526;&#20018;'</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">c</span> = <span style="color: #b8bb26;">"&#23383;&#31526;&#20018;"</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">c1</span> = &#8216;hello&#8217;; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#19981;&#33021;&#20351;&#29992;&#20013;&#25991;&#29366;&#24577;&#30340;&#24341;&#21495;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">d</span> = <span style="color: #b8bb26;">```&#27169;&#26495;&#23383;&#31526;&#20018;${c} ${c.length + 1}&#24456;&#22909;&#29992;```</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21487;&#20197;&#23884;&#20837;&#21464;&#37327;&#65307;&#21487;&#20197;&#22810;&#34892;</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#25645;&#37197;&#20351;&#29992;&#65292;for your free</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">var e = 'there're some body crying.'</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">e</span> = <span style="color: #b8bb26;">"there're some body crying."</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">var f = "&#21452;&#21495; " &#26159;&#19968;&#20010;&#29992;&#26469;&#21253;&#25324;&#23383;&#31526;&#24418;&#25104;&#20018;&#30340;&#19968;&#31181;&#35821;&#27861;&#31526;&#21495;"</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">f</span> = <span style="color: #b8bb26;">'&#21452;&#21495; " &#26159;&#19968;&#20010;&#29992;&#26469;&#21253;&#25324;&#23383;&#31526;&#24418;&#25104;&#20018;&#30340;&#19968;&#31181;&#35821;&#27861;&#31526;&#21495;'</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">var g = "&#21452;&#24341;&#21495; " &#26159;&#36825;&#26679;&#30340;&#65292;&#20294;&#26159; &#21333;&#24341;&#21495; ' &#26377;&#26159;&#36825;&#26679;&#30340;"</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36716;&#20041;&#23383;&#31526;&#26159;&#20320;&#30340;&#22909;&#26379;&#21451;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">h</span> = <span style="color: #b8bb26;">'\n\n\n\tffff\n'</span> <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36716;&#20041;&#23383;&#31526;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">g</span> = <span style="color: #b8bb26;">"&#21452;&#24341;&#21495; \" &#26159;&#36825;&#26679;&#30340;&#65292;&#20294;&#26159; &#21333;&#24341;&#21495; \' &#26377;&#26159;&#36825;&#26679;&#30340;"</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">i</span> = <span style="color: #b8bb26;">'\\\''</span>
</pre>
</div>

<p>
因为字符串本身就是一个对象，所以它遵循对象的使用方式:
</p>
<pre class="example">
sss.length    // 属性
sss.charAt(1) // 方法
</pre>


<div class="org-src-container">
<pre class="src src-js"><span style="color: #b8bb26;">"Hello"</span>.charAt<span style="color: #458588;">(</span>1<span style="color: #458588;">)</span>             <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">'e'</span>
<span style="color: #b8bb26;">"hello"</span>.charCodeAt<span style="color: #458588;">(</span>1<span style="color: #458588;">)</span>         <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">101</span>

<span style="color: #b8bb26;">"Hello"</span>.concat<span style="color: #458588;">(</span><span style="color: #b8bb26;">" world"</span><span style="color: #458588;">)</span>      <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36830;&#25509;: "Hello" + " World"</span>
d.getFullYear<span style="color: #458588;">()</span>.concat<span style="color: #458588;">(</span>d.getMonth<span style="color: #b16286;">()</span>.concat<span style="color: #b16286;">(</span>d.getDay<span style="color: #8ec07c;">()</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#27491;&#21017;&#34920;&#36798;&#24335;</span>
<span style="color: #b8bb26;">"Hel000lo"</span>.match<span style="color: #458588;">(</span><span style="color: #b8bb26;">/\d/</span><span style="color: #458588;">)</span>;       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36820;&#22238;&#31532;&#19968;&#20010;&#21305;&#37197;&#30340;&#39033;</span>
<span style="color: #b8bb26;">"Hel000lo"</span>.match<span style="color: #458588;">(</span><span style="color: #b8bb26;">/\d/</span>g<span style="color: #458588;">)</span>;      <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36820;&#22238;&#25152;&#26377;&#21305;&#37197;&#30340;&#39033;</span>
<span style="color: #b8bb26;">"Hel000lo"</span>.search<span style="color: #458588;">(</span><span style="color: #b8bb26;">/\d/</span><span style="color: #458588;">)</span>;      <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#25628;&#32034;&#28385;&#36275;&#26465;&#20214;&#30340;&#24207;&#21495;</span>
<span style="color: #b8bb26;">"Hel lo"</span>.replace<span style="color: #458588;">(</span><span style="color: #b8bb26;">/\s/</span>g, <span style="color: #b8bb26;">""</span><span style="color: #458588;">)</span>;  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#27491;&#21017;&#26367;&#25442;</span>
<span style="color: #b8bb26;">"Hello"</span>.search<span style="color: #458588;">(</span><span style="color: #b8bb26;">"e"</span><span style="color: #458588;">)</span>;          <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#25628;&#32034;&#12289;&#23547;&#25214;</span>
<span style="color: #b8bb26;">"Hello"</span>.replace<span style="color: #458588;">(</span><span style="color: #b8bb26;">"o"</span>, <span style="color: #b8bb26;">"O"</span><span style="color: #458588;">)</span>;    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21442;&#25968;&#21487;&#20197;&#26159;&#23383;&#31526;&#20018;&#65292;&#20063;&#21487;&#20197;&#26159;&#27491;&#21017;&#34920;&#36798;&#24335;&#23545;&#35937;</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#25628;&#32034;&#12289;&#20301;&#32622;</span>
<span style="color: #b8bb26;">"Hello"</span>.startsWith<span style="color: #458588;">(</span><span style="color: #b8bb26;">'h'</span><span style="color: #458588;">)</span>       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">false</span>
<span style="color: #b8bb26;">"Hello"</span>.startsWith<span style="color: #458588;">(</span><span style="color: #b8bb26;">'H'</span><span style="color: #458588;">)</span>       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">true &#26159;&#19981;&#26159;&#29992;&#20160;&#20040;&#24320;&#22987;</span>
<span style="color: #b8bb26;">"Hello"</span>.endsWith<span style="color: #458588;">(</span><span style="color: #b8bb26;">'lo'</span><span style="color: #458588;">)</span>        <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">true &#26159;&#19981;&#26159;&#29992;&#20160;&#20040;&#32467;&#23614;</span>
<span style="color: #b8bb26;">"hello world"</span>.indexOf<span style="color: #458588;">(</span><span style="color: #b8bb26;">"world"</span><span style="color: #458588;">)</span> <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">6&#65292;&#27880;&#24847;: (1) &#24207;&#21495;&#26159;&#20174; 0 &#24320;&#22987;&#30340; (2) &#22914;&#26524;&#19981;&#23384;&#22312;&#65292;&#36820;&#22238; -1 (3) &#22823;&#23567;&#20889;&#25935;&#24863;&#30340;</span>
<span style="color: #b8bb26;">"hello world"</span>.indexOf<span style="color: #458588;">(</span><span style="color: #b8bb26;">"World"</span><span style="color: #458588;">)</span>
<span style="color: #b8bb26;">"hello wOrLd"</span>.toUpperCase<span style="color: #458588;">()</span>.indexOf<span style="color: #458588;">(</span><span style="color: #b8bb26;">"WORLD"</span><span style="color: #458588;">)</span>
<span style="color: #b8bb26;">"hello wOrLd"</span>.toLowerCase<span style="color: #458588;">()</span>.indexOf<span style="color: #458588;">(</span><span style="color: #b8bb26;">"world"</span><span style="color: #458588;">)</span>
<span style="color: #b8bb26;">"hello WoRLd"</span>.search<span style="color: #458588;">(</span><span style="color: #b8bb26;">/world/</span>i<span style="color: #458588;">)</span>  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20351;&#29992; i &#26469;&#34920;&#31034;&#19981;&#32771;&#34385;&#22823;&#23567;&#20889;</span>
<span style="color: #b8bb26;">"hello world"</span>.includes<span style="color: #458588;">(</span><span style="color: #b8bb26;">"world"</span><span style="color: #458588;">)</span> <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">true, ES6</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23376;&#23383;&#31526;&#20018; (&#20102;&#35299;&#26377;&#20160;&#20040;&#21306;&#21035;)</span>
<span style="color: #b8bb26;">"hello world"</span>.substring<span style="color: #458588;">(</span>3<span style="color: #458588;">)</span>
<span style="color: #b8bb26;">"hello world"</span>.substring<span style="color: #458588;">(</span>3, 5<span style="color: #458588;">)</span>
<span style="color: #b8bb26;">"hello world"</span>.substring<span style="color: #458588;">(</span>3, -3<span style="color: #458588;">)</span>
<span style="color: #b8bb26;">"hello world"</span>.substr<span style="color: #458588;">(</span>3<span style="color: #458588;">)</span>
<span style="color: #b8bb26;">"hello world"</span>.substr<span style="color: #458588;">(</span>3, 1<span style="color: #458588;">)</span>
<span style="color: #b8bb26;">"hello world"</span>.slice<span style="color: #458588;">()</span>       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21019;&#24314;&#19968;&#20010; s &#30340;&#21103;&#26412;</span>
<span style="color: #b8bb26;">"hello world"</span>.slice<span style="color: #458588;">(</span>3<span style="color: #458588;">)</span>      <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21482;&#26159;&#22797;&#21046;&#20174;&#31532; 3 &#20301;&#24320;&#22987;&#30340;&#23383;&#31526;&#20018;</span>
<span style="color: #b8bb26;">"hello world"</span>.slice<span style="color: #458588;">(</span>3, 5<span style="color: #458588;">)</span>   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20174;&#21738;&#20799;&#21040;&#21738;&#20799;&#65292;&#36827;&#34892;&#22797;&#21046;</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#34917;&#20805;&#12289;&#25130;&#26029;</span>
<span style="color: #b8bb26;">"hello"</span>.padStart<span style="color: #458588;">(</span>10<span style="color: #458588;">)</span> <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#34917;&#40784;</span>
<span style="color: #b8bb26;">"hello"</span>.padStart<span style="color: #458588;">(</span>10, <span style="color: #b8bb26;">"-"</span><span style="color: #458588;">)</span>
<span style="color: #b8bb26;">"hello"</span>.padEnd<span style="color: #458588;">(</span>10<span style="color: #458588;">)</span>
<span style="color: #b8bb26;">"hello"</span>.padEnd<span style="color: #458588;">(</span>10, <span style="color: #b8bb26;">"-"</span><span style="color: #458588;">)</span>
<span style="color: #b8bb26;">" hello    "</span>.trim<span style="color: #458588;">()</span>
<span style="color: #b8bb26;">" hello    "</span>.trimStart<span style="color: #458588;">()</span>
<span style="color: #b8bb26;">" hello    "</span>.trimEnd<span style="color: #458588;">()</span>

<span style="color: #b8bb26;">"x"</span>.repeat<span style="color: #458588;">(</span>1000<span style="color: #458588;">)</span>   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21019;&#24314;&#37325;&#22797;&#22810;&#23569;&#27425;&#30340;&#19968;&#20010;&#23383;&#31526;&#20018;</span>
</pre>
</div>

<p>
<code>+</code> 是一个重载 (overload) 的运算符:
</p>
<ul class="org-ul">
<li>在其中一个是字符串的时候，它表示字符串的拼接</li>
<li>如果两边都是 Number 的时候，它表示数学运算的加法</li>
</ul>
</div>
</div>

<div id="outline-container-org3c14721" class="outline-3">
<h3 id="org3c14721"><span class="section-number-3">4.3.</span> boolean</h3>
<div class="outline-text-3" id="text-4-3">
<p>
用来配合 if/while 进行条件判断的，只有两个值:
</p>
<ul class="org-ul">
<li>true</li>
<li>false</li>
</ul>

<p>
布尔类型的运算:
</p>
<ul class="org-ul">
<li>否，! true</li>
<li>与，false &amp;&amp; true</li>
<li>或，false ||  true</li>
<li>搭配使用 false || (! true) || ((! true) &amp;&amp; (false || true))</li>
</ul>

<p>
创建 boolean 类型:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">b</span> = <span style="color: #d3869b;">true</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">c</span> = <span style="color: #d3869b;">false</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">d</span> = !b;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">e</span> = b &amp;&amp; d;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36890;&#36807;&#36827;&#34892;&#21028;&#26029;&#65292;&#21487;&#20197;&#24471;&#21040;&#24067;&#23572;&#20540;</span>
2222 == 3333
2222 != 3333
2222 &gt; 3333
2222 &lt; 3333
2222 &lt;= 3333
<span style="color: #b8bb26;">'2222'</span> == <span style="color: #b8bb26;">'2222'</span>
<span style="color: #b8bb26;">'2222'</span>.length &gt; 3
<span style="color: #b8bb26;">'2222'</span>.includes<span style="color: #458588;">(</span><span style="color: #b8bb26;">'2'</span><span style="color: #458588;">)</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">JS &#26159;&#19968;&#38376;&#24369;&#31867;&#22411;&#30340;&#35821;&#35328;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21518;&#32493;&#20351;&#29992;&#30340;&#26102;&#20505;&#65292;&#35831;&#22823;&#23478;&#21153;&#24517;&#20248;&#20808;&#20351;&#29992; === &#36827;&#34892;&#21028;&#26029;</span>
2222 == <span style="color: #b8bb26;">'2222'</span>  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21482;&#27604;&#36739;&#20540;&#65292;&#19981;&#27604;&#36739;&#31867;&#22411;</span>
2222 === <span style="color: #b8bb26;">'2222'</span> <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#26082;&#27604;&#36739;&#31867;&#22411;&#65292;&#21448;&#27604;&#36739;&#20540;&#12290;&#30495;&#31561;</span>
2222 !== <span style="color: #b8bb26;">'2222'</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22914;&#26524;&#26465;&#20214;&#26159;&#20854;&#20182;&#31867;&#22411;&#30340;&#35805;&#65292;&#20250;&#24378;&#21046;&#36716;&#25442;&#20026; boolean &#31867;&#22411;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">- &#22914;&#26524;&#26159;&#25968;&#23383;&#65292;&#19988;&#20026; 0/NaN &#30340;&#35805;&#65292;&#20250;&#30475;&#20570; false&#65292;&#20854;&#20182; true</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">- &#22914;&#26524;&#26159;&#23383;&#31526;&#20018;&#65292;&#37027;&#20040;&#20026; "" &#30340;&#35805;&#65292;&#30475;&#20570; false</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">- &#22914;&#26524;&#31867;&#22411;&#26159; undefined&#65292;&#25110;&#32773;&#36171;&#20540;&#20026; null &#30340;&#35805;&#65292;&#30475;&#20570; false</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">xxx</span> = <span style="color: #d3869b;">null</span>;
<span style="color: #fb4933;">if</span> <span style="color: #458588;">(</span>xxx<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
   console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#23558; A &#24403;&#20316; true &#26469;&#30475;&#24453;"</span><span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #458588;">{</span>
   console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#23558; A &#24403;&#20316; false &#26469;&#30475;&#24453;"</span><span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
<span style="color: #fb4933;">if</span> <span style="color: #458588;">(</span>!xxx<span style="color: #458588;">)</span> <span style="color: #458588;">{</span> alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#23427;&#19981;&#26159; 0&#65292;&#23427;&#20063;&#19981;&#26159; ''&#65292;&#23427;&#19981;&#26159; null&#65292;&#23427;&#20063;&#19981;&#26159; undefined..."</span><span style="color: #b16286;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga419c60" class="outline-3">
<h3 id="orga419c60"><span class="section-number-3">4.4.</span> function</h3>
<div class="outline-text-3" id="text-4-4">
</div>
<div id="outline-container-org262e8d7" class="outline-4">
<h4 id="org262e8d7"><span class="section-number-4">4.4.1.</span> 基本的声明与使用</h4>
<div class="outline-text-4" id="text-4-4-1">
<p>
函数就是 <b>执行逻辑</b> 的一种封装。
</p>

<p>
数学中的函数:
\[
f(x) = x^3 + 2x^2 + 1
\]
</p>

<p>
类比之下，函数最重要的元素:
</p>
<ol class="org-ol">
<li>函数的名字（功能）</li>
<li>函数必须要有输入值 (输入参数，简称入参)</li>
<li>函数必须要有输出值 (输出值，又称返回值)</li>
</ol>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">mysum</span> <span style="color: #458588;">(</span><span style="color: #83a598;">a</span>, <span style="color: #83a598;">b</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span><span style="color: #fb4933;">typeof</span> a === <span style="color: #b8bb26;">"string"</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        a = Number<span style="color: #8ec07c;">(</span>a<span style="color: #8ec07c;">)</span>
    <span style="color: #b16286;">}</span>
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>isNaN<span style="color: #8ec07c;">(</span>a<span style="color: #8ec07c;">)</span> || isNaN<span style="color: #8ec07c;">(</span>b<span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"error! NaN"</span><span style="color: #8ec07c;">)</span>;
        <span style="color: #fb4933;">return</span> <span style="color: #d3869b;">NaN</span>;
    <span style="color: #b16286;">}</span>
    <span style="color: #fb4933;">return</span> a + b + b + b + b;
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"hahaha"</span><span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">doNothing</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'aaa'</span><span style="color: #b16286;">)</span>;
    console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'bbb'</span><span style="color: #b16286;">)</span>;
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">return undefined;</span>
<span style="color: #458588;">}</span>

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">doNothing</span> = <span style="color: #fb4933;">function</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"hello"</span><span style="color: #b16286;">)</span>
    <span style="color: #fb4933;">return</span> 1;
<span style="color: #458588;">}</span>

<span style="color: #458588;">(</span><span style="color: #fb4933;">function</span> <span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span>
    console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"woyebuzhidaowoshizale"</span><span style="color: #8ec07c;">)</span>;
<span style="color: #b16286;">}</span><span style="color: #458588;">)()</span>;

<span style="color: #458588;">(</span><span style="color: #fb4933;">function</span> <span style="color: #b16286;">(</span><span style="color: #83a598;">a</span>, <span style="color: #83a598;">b</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
    console.log<span style="color: #8ec07c;">(</span>a + b<span style="color: #8ec07c;">)</span>;
<span style="color: #b16286;">}</span><span style="color: #458588;">)()</span>;

<span style="color: #458588;">(</span><span style="color: #fb4933;">function</span> <span style="color: #b16286;">(</span><span style="color: #83a598;">a</span>, <span style="color: #83a598;">b</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
    console.log<span style="color: #8ec07c;">(</span>a + b<span style="color: #8ec07c;">)</span>;
<span style="color: #b16286;">}</span><span style="color: #458588;">)(</span>2, 3<span style="color: #458588;">)</span>;
</pre>
</div>

<p>
举例说明:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22768;&#26126;&#20102;&#19968;&#20010;&#21464;&#37327;&#65292;&#20026; getBMI</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">getBMI &#20195;&#34920;&#20102;&#19968;&#27573;&#23553;&#35013;&#30340;&#36923;&#36753;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36825;&#27573;&#36923;&#36753; *&#25551;&#36848;&#20102;* &#22914;&#20309;&#21435;&#33719;&#21462; BMI</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36825;&#27573;&#20195;&#30721;&#19981;&#20250;&#34987;&#25191;&#34892;&#65292;&#20294;&#26159;&#34987;&#20445;&#23384;&#20026; getBMI &#30340;&#21517;&#23383;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#31561;&#21518;&#38754;&#65292;&#20986;&#29616; getBMI() &#24773;&#20917;&#30340;&#26102;&#20505;&#65292;&#25165;&#20250;&#35843;&#29992;&#37324;&#38754;&#30340;&#36923;&#36753;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36825;&#20010; getBMI &#23601;&#26159;&#19968;&#20010;&#20989;&#25968;</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20989;&#25968;&#21487;&#20197;&#30475;&#20570;&#19968;&#20010;&#40657;&#31665;&#23376;&#65292;&#20320;&#22914;&#26524;&#21482;&#26159;&#19968;&#20010;&#35843;&#29992;&#32773;&#65292;&#20320;&#19981;&#38656;&#35201;&#20851;&#24515;&#37324;&#38754;&#24590;&#20040;&#23454;&#29616;&#30340;</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">getBMI</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">1. &#33719;&#21462;&#29992;&#25143;&#30340;&#36523;&#39640;&#12289;&#20307;&#37325;</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2. &#36827;&#34892;&#20102;&#19968;&#20123;&#21015;&#30340;&#36716;&#25442;&#21644;&#35745;&#31639;</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">3. &#24471;&#21040; BMI &#30340;&#32467;&#35770;</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">4. &#36820;&#22238;&#32467;&#26524;</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"hehe"</span><span style="color: #b16286;">)</span>;
    <span style="color: #fb4933;">return</span> <span style="color: #b8bb26;">"ksdjfksd"</span>;
<span style="color: #458588;">}</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">getBMI</span> <span style="color: #458588;">(</span><span style="color: #83a598;">h</span>, <span style="color: #83a598;">w</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2. &#36827;&#34892;&#20102;&#19968;&#20123;&#21015;&#30340;&#36716;&#25442;&#21644;&#35745;&#31639;</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">3. &#24471;&#21040; BMI &#30340;&#32467;&#35770;</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">4. &#36820;&#22238;&#32467;&#26524;</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"hehe"</span><span style="color: #b16286;">)</span>;
    <span style="color: #fb4933;">return</span> <span style="color: #b8bb26;">"ksdjfksd"</span>;
<span style="color: #458588;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6c596f2" class="outline-4">
<h4 id="org6c596f2"><span class="section-number-4">4.4.2.</span> 函数的定义</h4>
<div class="outline-text-4" id="text-4-4-2">
<p>
function -&gt; Function
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">1, &#20256;&#32479;&#26041;&#24335;</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">aaa</span> <span style="color: #458588;">(</span><span style="color: #83a598;">a</span>, <span style="color: #83a598;">b</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span><span style="color: #d3869b;">this</span><span style="color: #b16286;">)</span>;       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">this: &#35841;&#35843;&#29992;&#30340;&#25105;</span>
    console.log<span style="color: #b16286;">(</span><span style="color: #d3869b;">arguments</span><span style="color: #b16286;">)</span>;  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">arguments: &#25152;&#26377;&#20837;&#21442;&#26500;&#25104;&#30340;&#25968;&#32452;</span>
    <span style="color: #fb4933;">return</span> a + b;
<span style="color: #458588;">}</span>
aaa<span style="color: #458588;">()</span>;
window.aaa<span style="color: #458588;">()</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2, &#21464;&#37327;&#26041;&#24335;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">aaa</span> = <span style="color: #fb4933;">function</span> <span style="color: #458588;">(</span><span style="color: #83a598;">a</span>, <span style="color: #83a598;">b</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">return</span> a + b;
<span style="color: #458588;">}</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">3, &#38754;&#21521;&#23545;&#35937;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">aaa</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Function</span><span style="color: #458588;">(</span><span style="color: #b8bb26;">"a"</span>, <span style="color: #b8bb26;">"b"</span>, <span style="color: #b8bb26;">"a + b"</span><span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">4, &#31661;&#22836;&#20989;&#25968; (&#31616;&#27905;+this)</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">aaa</span> = <span style="color: #458588;">(</span>a, b<span style="color: #458588;">)</span> =&gt; <span style="color: #458588;">{</span>
  <span style="color: #fb4933;">return</span> a + b;
<span style="color: #458588;">}</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">aaa</span> = <span style="color: #458588;">(</span>a, b<span style="color: #458588;">)</span> =&gt; a + b;

aaa<span style="color: #458588;">(</span>2, 3<span style="color: #458588;">)</span>;     <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">this: window</span>
xxx.aaa<span style="color: #458588;">(</span>2, 3<span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">this: xxx</span>
</pre>
</div>

<p>
Arguments:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">myAdd</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
  <span style="color: #fb4933;">let</span> <span style="color: #83a598;">sum</span> = 0;
  <span style="color: #fb4933;">for</span> <span style="color: #b16286;">(</span><span style="color: #fb4933;">let</span> <span style="color: #83a598;">i</span> = 0; i &lt; <span style="color: #d3869b;">arguments</span>.length; i++<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
    sum += <span style="color: #d3869b;">arguments</span><span style="color: #8ec07c;">[</span>i<span style="color: #8ec07c;">]</span>;
  <span style="color: #b16286;">}</span>
  <span style="color: #fb4933;">return</span> sum;
<span style="color: #458588;">}</span>

myAdd<span style="color: #458588;">(</span>2, 3<span style="color: #458588;">)</span>;
myAdd<span style="color: #458588;">(</span>2, 3, 4, 6, 8<span style="color: #458588;">)</span>;
</pre>
</div>

<p>
apply/call/bind 强行改变 function 内部 this 的值:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">p</span> = <span style="color: #458588;">{</span>
    x: 1
<span style="color: #458588;">}</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">o</span> = <span style="color: #458588;">{</span>
    x: 2,
    <span style="color: #fabd2f;">a</span>: <span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">a</span>, <span style="color: #83a598;">b</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        console.log<span style="color: #8ec07c;">(</span><span style="color: #d3869b;">this</span>.x + a + b<span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>;

o.a<span style="color: #458588;">(</span>1, 1<span style="color: #458588;">)</span>;   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">4</span>

o.a.call<span style="color: #458588;">(</span>p, 1, 1<span style="color: #458588;">)</span>;    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">3</span>
o.a.apply<span style="color: #458588;">(</span>p, <span style="color: #b16286;">[</span>1, 1<span style="color: #b16286;">]</span><span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">3</span>
o.a.bind<span style="color: #458588;">(</span>p, 1, 1<span style="color: #458588;">)()</span>   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">3</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">b</span> = o.a.bind<span style="color: #458588;">(</span>p, 1, 1<span style="color: #458588;">)</span>; b<span style="color: #458588;">()</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">3</span>

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">b</span> = document.write; b<span style="color: #458588;">(</span><span style="color: #b8bb26;">"hello"</span><span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">Error</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">c</span> = document.write.bind<span style="color: #458588;">(</span>document<span style="color: #458588;">)</span>; c<span style="color: #458588;">(</span><span style="color: #b8bb26;">"hello"</span><span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">OK</span>
</pre>
</div>

<p>
古语有云:
</p>
<pre class="example" id="org0940588">
函数内部有 this，默认指向调用者
如果调用在顶层，this 的值是 window
强行指定 this 值，请你使用 apply/call/bind 
</pre>
</div>
</div>

<div id="outline-container-org34b0c0e" class="outline-4">
<h4 id="org34b0c0e"><span class="section-number-4">4.4.3.</span> 函数是一等公民 (回调函数)</h4>
<div class="outline-text-4" id="text-4-4-3">
<p>
函数作为另一个函数的参数的情况，叫回调函数。
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23558;&#38169;&#35823;&#30340;&#36923;&#36753;&#65292;&#36319;&#20027;&#24178;&#36923;&#36753;&#25319;&#21512;&#22312;&#19968;&#36215;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20989;&#25968;&#30340;&#20195;&#30721;&#38750;&#24120;&#27515;&#26495;&#65292;&#32780;&#19988;&#19981;&#20415;&#20110;&#32500;&#25252;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22240;&#27492;&#65292;&#25105;&#20204;&#30340;&#24605;&#36335;&#26159;&#65292;&#23558;&#21487;&#20197;&#39057;&#32321;&#21464;&#21270;&#30340;&#38750;&#20027;&#35201;&#36923;&#36753;&#20998;&#31163;&#20986;&#21435;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20998;&#31163;&#30340;&#36884;&#24452;&#65292;&#23601;&#26159;&#23558;&#20854;&#36716;&#25442;&#20026; &#20837;&#21442;&#65292;&#22238;&#35843;&#20989;&#25968;</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">mysum</span><span style="color: #458588;">(</span><span style="color: #83a598;">a</span>, <span style="color: #83a598;">b</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>isNaN<span style="color: #8ec07c;">(</span>a<span style="color: #8ec07c;">)</span> || isNaN<span style="color: #8ec07c;">(</span>b<span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"&#20986;&#38169;&#20102;&#65292;&#19981;&#33021;&#26159; NaN &#21834;"</span><span style="color: #8ec07c;">)</span>
        <span style="color: #fb4933;">return</span> <span style="color: #d3869b;">null</span>;
    <span style="color: #b16286;">}</span>
    <span style="color: #fb4933;">return</span> a + b;
<span style="color: #458588;">}</span>


<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">f &#26159;&#19968;&#20010;&#20989;&#25968;&#65292;&#23427;&#29992;&#26469;&#34920;&#31034;&#20986;&#38169;&#30340;&#26102;&#20505;&#30340;&#36923;&#36753;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36890;&#36807;&#22238;&#35843;&#20989;&#25968;&#23454;&#29616;&#20102;&#36923;&#36753;&#30340;&#20998;&#31163;&#65292;&#28789;&#27963;&#36890;&#36807;&#20256;&#21442;&#30340;&#26041;&#24335;&#36827;&#34892;&#35843;&#29992;</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">mysum2</span><span style="color: #458588;">(</span><span style="color: #83a598;">a</span>, <span style="color: #83a598;">b</span>, <span style="color: #83a598;">f</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>isNaN<span style="color: #8ec07c;">(</span>a<span style="color: #8ec07c;">)</span> || isNaN<span style="color: #8ec07c;">(</span>b<span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">return</span> f<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"&#20986;&#38169;&#20102;&#65292;&#19981;&#33021;&#26159; NaN &#21834;"</span><span style="color: #8ec07c;">)</span>
    <span style="color: #b16286;">}</span>
    <span style="color: #fb4933;">return</span> a + b;
<span style="color: #458588;">}</span>
mysum2<span style="color: #458588;">(</span>1, <span style="color: #b8bb26;">'hello'</span>, console.log<span style="color: #458588;">)</span>


<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#25105;&#20204;&#19968;&#33324;&#20250;&#20351;&#29992;&#65292;&#36171;&#20104;&#40664;&#35748;&#20540;&#30340;&#26041;&#24335;&#65292;&#26469;&#31616;&#21270;&#35843;&#29992;&#30340;&#26102;&#20505;&#21442;&#25968;&#36755;&#20837;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22768;&#26126;&#30340;&#20989;&#25968;&#65292;&#22914;&#26524;&#35843;&#29992;&#30340;&#26102;&#20505;&#65292;&#20256;&#20837;&#21442;&#25968;&#36807;&#23569;&#30340;&#26102;&#20505;&#65292;&#22810;&#20313;&#30340;&#20837;&#21442;&#23558;&#34987;&#36171;&#20540;&#20026; undefined</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">mysum3</span><span style="color: #458588;">(</span><span style="color: #83a598;">a</span>, <span style="color: #83a598;">b</span>, <span style="color: #83a598;">f</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">console.log("f &#30340;&#31867;&#22411;&#26159;", typeof f);</span>
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>!f<span style="color: #b16286;">)</span> f = console.log;
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>isNaN<span style="color: #8ec07c;">(</span>a<span style="color: #8ec07c;">)</span> || isNaN<span style="color: #8ec07c;">(</span>b<span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">return</span> f<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"&#20986;&#38169;&#20102;&#65292;&#19981;&#33021;&#26159; NaN &#21834;"</span><span style="color: #8ec07c;">)</span>
    <span style="color: #b16286;">}</span>
    <span style="color: #fb4933;">return</span> a + b;
<span style="color: #458588;">}</span>
mysum3<span style="color: #458588;">(</span>1, <span style="color: #b8bb26;">'hello'</span><span style="color: #458588;">)</span>;        <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">f &#26159; undefined&#65292;&#25152;&#20197;&#22312;&#20989;&#25968;&#20869;&#37096;&#65292;&#20351;&#29992; console.log &#26367;&#20195;&#20102;&#23427;</span>
mysum3<span style="color: #458588;">(</span>1, <span style="color: #b8bb26;">'hello'</span>, alert<span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">f &#26159; alert</span>
</pre>
</div>

<p>
借助函数参数，进行链式处理:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">chuli</span> <span style="color: #458588;">(</span><span style="color: #83a598;">a</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">for</span> <span style="color: #b16286;">(</span><span style="color: #fb4933;">let</span> <span style="color: #83a598;">i</span> = 1; i &lt; <span style="color: #d3869b;">arguments</span>.length; i++<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        a = <span style="color: #d3869b;">arguments</span><span style="color: #8ec07c;">[</span>i<span style="color: #8ec07c;">](</span>a<span style="color: #8ec07c;">)</span>;
        console.log<span style="color: #8ec07c;">(</span><span style="color: #d3869b;">arguments</span><span style="color: #d65d0e;">[</span>i<span style="color: #d65d0e;">]</span> + <span style="color: #b8bb26;">": "</span> + a<span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span>
    <span style="color: #fb4933;">return</span> a;
<span style="color: #458588;">}</span>

<span style="color: #fb4933;">let</span> <span style="color: #83a598;">jia2</span> = x =&gt; x + 2; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">let jia2 = function (hello) { return hello + 2 }</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">cheng3</span> = x =&gt; x * 3;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">pingfang</span> = x =&gt; x * x;

chuli<span style="color: #458588;">(</span>3, jia2, cheng3, <span style="color: #b16286;">(</span>x<span style="color: #b16286;">)</span> =&gt; x - 5, x =&gt; x*x*x*x, pingfang<span style="color: #458588;">)</span>;
</pre>
</div>

<ul class="org-ul">
<li>Callback Hell</li>
</ul>
</div>
</div>

<div id="outline-container-org7588866" class="outline-4">
<h4 id="org7588866"><span class="section-number-4">4.4.4.</span> 递归函数</h4>
<div class="outline-text-4" id="text-4-4-4">
<p>
不断调用自己，千层套娃:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">rec</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"hello"</span><span style="color: #b16286;">)</span>;
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>Math.random<span style="color: #8ec07c;">()</span> &gt; 0.999<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">return</span>;
    <span style="color: #b16286;">}</span>
    rec<span style="color: #b16286;">()</span>;
<span style="color: #458588;">}</span>
rec<span style="color: #458588;">()</span>;
</pre>
</div>

<p>
计算从 0 到 1000 的和，不使用循环:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">s</span><span style="color: #458588;">(</span><span style="color: #83a598;">i</span><span style="color: #458588;">){</span>
    <span style="color: #fb4933;">if</span><span style="color: #b16286;">(</span>i == 1<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> <span style="color: #fb4933;">return</span> 1; <span style="color: #b16286;">}</span> <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">if(i == 2) { return 3; }</span>
    <span style="color: #fb4933;">return</span> i + s<span style="color: #b16286;">(</span>i - 1<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
s<span style="color: #458588;">(</span>1000<span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#35299;&#26512; s(10) &#30340;&#22522;&#26412;&#35745;&#31639;&#27493;&#39588;:</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">return 10 + s(9)</span>
<span style="color: #7c6f64;">//             </span><span style="color: #7c6f64;">9 + s(8)</span>
<span style="color: #7c6f64;">//                 </span><span style="color: #7c6f64;">8 + s(7)</span>
<span style="color: #7c6f64;">//                     </span><span style="color: #7c6f64;">7 + s(6)</span>
<span style="color: #7c6f64;">//                         </span><span style="color: #7c6f64;">6 + s(5)</span>
<span style="color: #7c6f64;">//                             </span><span style="color: #7c6f64;">5 + s(4)</span>
<span style="color: #7c6f64;">//                                 </span><span style="color: #7c6f64;">4 + s(3)</span>
<span style="color: #7c6f64;">//                                     </span><span style="color: #7c6f64;">3 + s(2)</span>
<span style="color: #7c6f64;">//                                         </span><span style="color: #7c6f64;">2 + s(1)</span>
<span style="color: #7c6f64;">//                                             </span><span style="color: #7c6f64;">1</span>
<span style="color: #7c6f64;">//                                         </span><span style="color: #7c6f64;">3</span>
<span style="color: #7c6f64;">//                                     </span><span style="color: #7c6f64;">6</span>
<span style="color: #7c6f64;">//                                 </span><span style="color: #7c6f64;">10</span>
<span style="color: #7c6f64;">//                             </span><span style="color: #7c6f64;">15</span>
<span style="color: #7c6f64;">//                         </span><span style="color: #7c6f64;">21</span>
<span style="color: #7c6f64;">//                     </span><span style="color: #7c6f64;">28</span>
<span style="color: #7c6f64;">//                 </span><span style="color: #7c6f64;">36</span>
<span style="color: #7c6f64;">//             </span><span style="color: #7c6f64;">45</span>
<span style="color: #7c6f64;">//         </span><span style="color: #7c6f64;">55</span>
<span style="color: #7c6f64;">/// </span><span style="color: #7c6f64;">10 + 9 + 8 + 7 + 6 + 5 + 4 + 3 + 2 + 1</span>
</pre>
</div>

<p>
关于递归:
</p>
<ul class="org-ul">
<li>它是计算机进行计算更加本质的一种行为</li>
<li>它可以完全替换掉循环语句</li>
<li>烧脑，不够直观</li>
<li>烧内存，爆栈。没有递归做进一步优化，尾递归优化</li>
<li>递归必须要有边界条件 ！！！</li>
</ul>
</div>
</div>

<div id="outline-container-org66d292f" class="outline-4">
<h4 id="org66d292f"><span class="section-number-4">4.4.5.</span> 变量的提升 (var)</h4>
<div class="outline-text-4" id="text-4-4-5">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">aaa</span>;

console.log<span style="color: #458588;">(</span>a<span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">undefined</span>
a = 1000; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">var a = 1000;</span>

bbb<span style="color: #458588;">()</span>;

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">bbb</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#29616;&#22312;&#21602;?"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span>

aaa<span style="color: #458588;">()</span>;

aaa = <span style="color: #fb4933;">function</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'&#37027;&#29616;&#22312;&#21602;?'</span><span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc80b5a5" class="outline-4">
<h4 id="orgc80b5a5"><span class="section-number-4">4.4.6.</span> 变量的作用域 (var)</h4>
<div class="outline-text-4" id="text-4-4-6">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = 9;

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">x</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = 10;
    console.log<span style="color: #b16286;">(</span>a<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
x<span style="color: #458588;">()</span>;

console.log<span style="color: #458588;">(</span>a<span style="color: #458588;">)</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = 9;

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">x</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span>a<span style="color: #b16286;">)</span>;
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = 10;

    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">var a;</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">console.log(a);</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">a = 10;</span>
<span style="color: #458588;">}</span>
x<span style="color: #458588;">()</span>;

console.log<span style="color: #458588;">(</span>a<span style="color: #458588;">)</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = 9;

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">x</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = 10;
    console.log<span style="color: #b16286;">(</span>a<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
x<span style="color: #458588;">()</span>;

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">y</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span>a<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
y<span style="color: #458588;">()</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = 9;

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">x</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = 10;
    console.log<span style="color: #b16286;">(</span>a<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
x<span style="color: #458588;">()</span>;

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">y</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span>a<span style="color: #b16286;">)</span>;
    a = 22
<span style="color: #458588;">}</span>
y<span style="color: #458588;">()</span>;
console.log<span style="color: #458588;">(</span>a<span style="color: #458588;">)</span>;
x<span style="color: #458588;">()</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">z</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span>a<span style="color: #b16286;">)</span>;
    a = 33;
<span style="color: #458588;">}</span>
z<span style="color: #458588;">()</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">z</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    a = 33;
    console.log<span style="color: #b16286;">(</span>a<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
z<span style="color: #458588;">()</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">z</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    a = 33;
    console.log<span style="color: #b16286;">(</span>a<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
z<span style="color: #458588;">()</span>;
console.log<span style="color: #458588;">(</span>a<span style="color: #458588;">)</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">z</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">for</span> <span style="color: #b16286;">(</span><span style="color: #fb4933;">var</span> <span style="color: #83a598;">i</span> = 1; i &lt; 10; i++<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #7c6f64;">//</span><span style="color: #7c6f64;">...</span>
    <span style="color: #b16286;">}</span>
    console.log<span style="color: #b16286;">(</span>i<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
z<span style="color: #458588;">()</span>;
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">console.log(i);</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">z</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">let</span> <span style="color: #83a598;">i</span> = 999;
    <span style="color: #fb4933;">for</span> <span style="color: #b16286;">(</span><span style="color: #fb4933;">let</span> <span style="color: #83a598;">i</span> = 1; i &lt; 10; i++<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #7c6f64;">//</span><span style="color: #7c6f64;">...</span>
    <span style="color: #b16286;">}</span>
    console.log<span style="color: #b16286;">(</span>i<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
z<span style="color: #458588;">()</span>;
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">console.log(i);</span>
</pre>
</div>

<ul class="org-ul">
<li>使用 var 定义的变量，它是有作用范围的。默认的范围是函数级别</li>
<li>优先使用 const/let</li>
</ul>
</div>
</div>

<div id="outline-container-org976ca52" class="outline-4">
<h4 id="org976ca52"><span class="section-number-4">4.4.7.</span> ES6 提出了两个进行变量定义的关键词 let/const</h4>
<div class="outline-text-4" id="text-4-4-7">
<p>
区别:
</p>
<ul class="org-ul">
<li>块级别的作用域</li>
<li>优先使用 const，在数据需要修改的时候，使用 let，迫不得已 var</li>
<li>千万不能忘掉 var 的原理跟使用方式，因为面试需要</li>
</ul>

<p>
举例，Java 中的块级作用域: 
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #fb4933;">for</span> <span style="color: #458588;">(</span><span style="color: #d3869b;">int</span> <span style="color: #83a598;">i</span> = 0; i &lt; 11; i++<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    System.out.print<span style="color: #b16286;">(</span>i<span style="color: #b16286;">)</span>;
    <span style="color: #fb4933;">for</span> <span style="color: #b16286;">(</span><span style="color: #d3869b;">int</span> <span style="color: #83a598;">j</span> = 0; j &lt; 11; j++<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        System.out.print<span style="color: #8ec07c;">(</span>j<span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span>
    System.out.print<span style="color: #b16286;">(</span>j<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
System.out.print<span style="color: #458588;">(</span>i<span style="color: #458588;">)</span>;

<span style="color: #458588;">{</span>
    <span style="color: #d3869b;">int</span> <span style="color: #83a598;">iii</span> = 222;
<span style="color: #458588;">}</span>
System.out.print<span style="color: #458588;">(</span>iii<span style="color: #458588;">)</span>;
</pre>
</div>

<p>
let 使用的是块级作用域，它可以完全避免 var 带来的一些列问题:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">z</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">for</span> <span style="color: #b16286;">(</span><span style="color: #fb4933;">let</span> <span style="color: #83a598;">i</span> = 1; i &lt; 10; i++<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
    <span style="color: #b16286;">}</span>
    console.log<span style="color: #b16286;">(</span>i<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
z<span style="color: #458588;">()</span>;
</pre>
</div>

<p>
const 是初始化之后，不能再重新赋值的 <b>常量</b>:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">const</span> <span style="color: #83a598;">a</span> = 1;
a = 2;  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#25253;&#38169;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org41c0ac9" class="outline-4">
<h4 id="org41c0ac9"><span class="section-number-4">4.4.8.</span> 词法作用域 (Lexical Scope)</h4>
<div class="outline-text-4" id="text-4-4-8">
<p>
即静态绑定。
</p>

<p>
函数使用的自由变量 (引用到外部的变量)，在定义的时候就开始绑定了。
比如，下面的例子，函数 hello 中的 a 在 hello 声明的时候就绑定了外层的 a (即 'Dog')。
</p>

<p>
词法作用域的好处是:
</p>
<ul class="org-ul">
<li>函数定义时绑定了某个变量，后面就不会发生变化</li>
<li>便于理解、便于调试，不容易出错</li>
</ul>

<p>
基本现在所有的语言都是基于词法作用域的。
</p>

<p>
青梅竹马胜过千军万马:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = <span style="color: #b8bb26;">'Dog'</span>;

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">hello</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"hello, "</span> + a<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
a = <span style="color: #b8bb26;">"Sheep"</span>;

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">test</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = <span style="color: #b8bb26;">'Cat'</span>;
    hello<span style="color: #b16286;">()</span>;
<span style="color: #458588;">}</span>

test<span style="color: #458588;">()</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdeb64fc" class="outline-4">
<h4 id="orgdeb64fc"><span class="section-number-4">4.4.9.</span> 闭包 (Closure)</h4>
<div class="outline-text-4" id="text-4-4-9">
<p>
闭包的根源是 *词法作用域*！
</p>


<p>
主要目的:
</p>
<ul class="org-ul">
<li>为了保护变量，不被外部修改</li>
<li>为了使数据在内存中驻留</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">aaa</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">name</span> = <span style="color: #b8bb26;">"tom"</span>;
    console.log<span style="color: #b16286;">(</span>name<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
aaa<span style="color: #458588;">()</span>;

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">aaa</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">let</span> <span style="color: #83a598;">name</span> = <span style="color: #b8bb26;">"tom"</span>;
    <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">inner</span> <span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span>
        console.log<span style="color: #8ec07c;">(</span>name<span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span>
    <span style="color: #fb4933;">return</span> inner;
<span style="color: #458588;">}</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">inner_fun</span> = aaa<span style="color: #458588;">()</span>;
inner_fun<span style="color: #458588;">()</span>;
</pre>
</div>

<p>
举个例子:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20256;&#32479;&#23454;&#29616;:</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">count &#26159;&#26292;&#38706;&#30340;&#65292;&#21487;&#33021;&#34987;&#31713;&#25913;&#30340;&#65292;&#26159;&#38750;&#24120;&#19981;&#23433;&#20840;&#30340;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">count</span> = 1;
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">incrCount</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#26377;&#19968;&#20010;..."</span><span style="color: #b16286;">)</span>;
    <span style="color: #fb4933;">return</span> count++;
<span style="color: #458588;">}</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20351;&#29992;&#38381;&#21253;&#23454;&#29616;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">1. &#20445;&#25252; count &#30340;&#23433;&#20840;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2. &#33021;&#22815;&#30830;&#20445; count &#22312;&#20989;&#25968;&#35843;&#29992;&#20043;&#21518;&#20250;&#19968;&#30452;&#23384;&#22312;&#65292;&#19981;&#20250;&#34987;&#37322;&#25918;</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">Counter</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">let</span> <span style="color: #83a598;">count1</span> = 1;
    <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">incr</span> <span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">return</span> ++count1;
    <span style="color: #b16286;">}</span>
    <span style="color: #fb4933;">return</span> incr;
<span style="color: #458588;">}</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">c</span> = Counter<span style="color: #458588;">()</span>;
c<span style="color: #458588;">()</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36827;&#19968;&#27493;</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">Counter</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">let</span> <span style="color: #83a598;">count</span> = 0;
    <span style="color: #fb4933;">return</span> <span style="color: #b16286;">{</span>
        <span style="color: #fabd2f;">incr</span>: <span style="color: #fb4933;">function</span> <span style="color: #8ec07c;">()</span> <span style="color: #8ec07c;">{</span>
            <span style="color: #fb4933;">return</span> ++count;
        <span style="color: #8ec07c;">}</span>,
        <span style="color: #fabd2f;">get</span>: <span style="color: #fb4933;">function</span> <span style="color: #8ec07c;">()</span> <span style="color: #8ec07c;">{</span>
            <span style="color: #fb4933;">return</span> count
        <span style="color: #8ec07c;">}</span>,
        <span style="color: #fabd2f;">reset</span>: <span style="color: #fb4933;">function</span> <span style="color: #8ec07c;">()</span> <span style="color: #8ec07c;">{</span>
            count = 0;
            <span style="color: #fb4933;">return</span> count;
        <span style="color: #8ec07c;">}</span>,
        <span style="color: #fabd2f;">derc</span>: <span style="color: #fb4933;">function</span> <span style="color: #8ec07c;">()</span> <span style="color: #8ec07c;">{</span>
            <span style="color: #fb4933;">return</span> --count;
        <span style="color: #8ec07c;">}</span>
    <span style="color: #b16286;">}</span>;
<span style="color: #458588;">}</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">c</span> = Counter<span style="color: #458588;">()</span>;
c.incr<span style="color: #458588;">()</span>;
c.incr<span style="color: #458588;">()</span>;
c.decr<span style="color: #458588;">()</span>;
c.get<span style="color: #458588;">()</span>;
c.reset<span style="color: #458588;">()</span>;
</pre>
</div>

<p>
另外，了解:
</p>
<ul class="org-ul">
<li>闭包可能会引发内存泄漏的问题 [小问题]</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgeeb2fd9" class="outline-3">
<h3 id="orgeeb2fd9"><span class="section-number-3">4.5.</span> undefined (null is not a type)</h3>
<div class="outline-text-3" id="text-4-5">
<ul class="org-ul">
<li>undefined 表示的是变量已经声明，但是没有赋值！</li>
<li>null 不是一种类型，而是一个 <b>object</b> 对象，它表示将某个变量置空</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">aaaaa</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">bbbbb</span> = <span style="color: #d3869b;">null</span>;
<span style="color: #fb4933;">typeof</span> aaaaa; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#31867;&#22411;&#20026; undefined; &#20540;&#26159; undefined</span>
<span style="color: #fb4933;">typeof</span> bbbbb; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#31867;&#22411;&#20026; object; &#20540;&#26159; null</span>
</pre>
</div>


<figure id="org5ddda60">
<img src="img/undefined-vs-null.png" alt="undefined-vs-null.png">

</figure>
</div>
</div>

<div id="outline-container-org288221d" class="outline-3">
<h3 id="org288221d"><span class="section-number-3">4.6.</span> Object</h3>
<div class="outline-text-3" id="text-4-6">
</div>
<div id="outline-container-orgab2af4a" class="outline-4">
<h4 id="orgab2af4a"><span class="section-number-4">4.6.1.</span> 封装</h4>
<div class="outline-text-4" id="text-4-6-1">
<p>
Array 是一种集合:
</p>
<ul class="org-ul">
<li>表述简单 [xx, yy, zz]</li>
<li>使用简单 xx[1,3,4] 以数字下标的方式访问 顺序</li>
<li>缺点: arr[102]</li>
</ul>

<p>
Object 也是一种集合:
</p>
<ul class="org-ul">
<li>下标再也不是数字，而是字符串了</li>
</ul>

<p>
对象的基本表述:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">arr</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Array</span><span style="color: #458588;">()</span>;
arr<span style="color: #458588;">[</span>1<span style="color: #458588;">]</span> = <span style="color: #b8bb26;">'tom'</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">arr</span> = <span style="color: #458588;">[</span>1, 2, 3 ,5, <span style="color: #b8bb26;">'laohu'</span><span style="color: #458588;">]</span>;
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">var arr = { 0:1, 1:2, 2:3, 3:5, 4:'laohu' };</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">Key-Value &#38190;-&#20540;</span>

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">obj</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Object</span><span style="color: #458588;">()</span>;
obj<span style="color: #458588;">[</span><span style="color: #b8bb26;">'name'</span><span style="color: #458588;">]</span> = <span style="color: #b8bb26;">'tom'</span>;
obj.age = 123;

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">obj</span> = <span style="color: #458588;">{</span> <span style="color: #b8bb26;">"name"</span>: <span style="color: #b8bb26;">'tom'</span>, <span style="color: #b8bb26;">"age"</span>, 123  <span style="color: #458588;">}</span>;

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">obj</span> = <span style="color: #458588;">{</span>
    <span style="color: #b8bb26;">"name"</span>: <span style="color: #b8bb26;">'tom'</span>,
    <span style="color: #b8bb26;">"age"</span>: 123,
    <span style="color: #b8bb26;">"greet"</span>: <span style="color: #fb4933;">function</span> <span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span> alert<span style="color: #8ec07c;">(</span>222<span style="color: #8ec07c;">)</span> <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>;

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">obj</span> = <span style="color: #458588;">{</span>
    name: <span style="color: #b8bb26;">'tom'</span>,
    age: 123,
    <span style="color: #fabd2f;">greet</span>: <span style="color: #fb4933;">function</span> <span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span> alert<span style="color: #8ec07c;">(</span>222<span style="color: #8ec07c;">)</span> <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#35775;&#38382;</span>
console.log<span style="color: #458588;">(</span>obj.name<span style="color: #458588;">)</span>;
alert<span style="color: #458588;">(</span>obj.age<span style="color: #458588;">)</span>;
alert<span style="color: #458588;">(</span>obj<span style="color: #b16286;">[</span><span style="color: #b8bb26;">"age"</span><span style="color: #b16286;">]</span><span style="color: #458588;">)</span>;
obj.greet<span style="color: #458588;">()</span>;  <span style="color: #7c6f64;">/// </span><span style="color: #7c6f64;">obj["greet"]()</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36171;&#20540;&#12289;&#28155;&#21152;&#26032;&#30340;&#20803;&#32032;</span>
obj.age = obj.age + 1;
obj.age++;
obj.school = <span style="color: #b8bb26;">'nfit'</span>;
</pre>
</div>

<p>
Java 中创建对象方式 [参考]:
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #fb4933;">public</span> <span style="color: #fb4933;">class</span> <span style="color: #d3869b;">Person</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">public</span> <span style="color: #d3869b;">void</span> <span style="color: #fabd2f;">eat</span><span style="color: #b16286;">()</span> <span style="color: #b16286;">{}</span>
<span style="color: #458588;">}</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#39318;&#20808;&#65292;&#38656;&#35201;&#21019;&#24314;&#19968;&#20010;&#31867;</span>
<span style="color: #fb4933;">public</span> <span style="color: #fb4933;">class</span> <span style="color: #d3869b;">Student</span> <span style="color: #fb4933;">extends</span> <span style="color: #d3869b;">Person</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">public</span> <span style="color: #d3869b;">String</span> <span style="color: #83a598;">name</span>;
    <span style="color: #fb4933;">public</span> <span style="color: #d3869b;">String</span> <span style="color: #83a598;">age</span>;

    <span style="color: #fb4933;">public</span> <span style="color: #d3869b;">void</span> <span style="color: #fabd2f;">greet</span><span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span>
        System.out.println<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"hello "</span> + <span style="color: #fb4933;">this</span>.name<span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#25509;&#19979;&#26469;&#65292;&#23454;&#20363;&#21270;</span>
<span style="color: #d3869b;">Student</span> <span style="color: #83a598;">xiaoming</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Student</span><span style="color: #458588;">()</span>;
xiaoming.eat<span style="color: #458588;">()</span>;

</pre>
</div>
</div>
</div>

<div id="outline-container-org894a861" class="outline-4">
<h4 id="org894a861"><span class="section-number-4">4.6.2.</span> 继承 (基于原型链)</h4>
<div class="outline-text-4" id="text-4-6-2">
<p>
JS 中，基于原型链的继承:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">animal</span> = <span style="color: #458588;">{</span>
    <span style="color: #fabd2f;">play</span>: <span style="color: #fb4933;">function</span><span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span> console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"ooOOoooo..."</span><span style="color: #8ec07c;">)</span> <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">person</span> = <span style="color: #458588;">{</span>
    <span style="color: #fabd2f;">eat</span>: <span style="color: #fb4933;">function</span><span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span> console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#19968;&#23450;&#35201;&#21507;&#39281;&#21834;'</span><span style="color: #8ec07c;">)</span> <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">xiaoming</span> = <span style="color: #458588;">{</span>
    name: <span style="color: #b8bb26;">"xiaoming"</span>,
    age: 22
<span style="color: #458588;">}</span>;
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">prototype (&#21407;&#22411;&#65292;&#29240;&#29240;) &#26159;&#36890;&#36807; __proto__ &#23646;&#24615;&#25351;&#23450;&#30340;!</span>
xiaoming.__proto__ = person;
person.__proto__ = animal;
animal.__proto__ = Object;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21487;&#20197;&#21160;&#24577;&#25913;&#21464;&#26576;&#20010; object &#30340;&#29240;&#29240;:</span>
xiaoming.__proto__ = animal;
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#25442;&#23436;&#29240;&#29240;&#20043;&#21518;&#65292;&#19979;&#38754;&#30340;&#25191;&#34892;&#23601;&#20250;&#25253;&#38169;</span>
xiaoming.eat<span style="color: #458588;">()</span>;
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21487;&#20197;&#38543;&#26102;&#23558;&#29240;&#29240;&#25442;&#22238;&#26469;</span>
xiaoming.__proto__ = person;
xiaoming.eat<span style="color: #458588;">()</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">ok</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#25105;&#20204;&#21487;&#20197;&#38543;&#26102;&#22312;&#20219;&#20309;&#30340; object &#19978;&#28155;&#21152;&#23646;&#24615;&#12289;&#26041;&#27861;:</span>
person.study = <span style="color: #fb4933;">function</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span> console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'hello, xuexi'</span><span style="color: #b16286;">)</span>; <span style="color: #458588;">}</span>;
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#28982;&#21518;&#65292;study &#23601;&#20250;&#34987; xiaoming &#32473;&#32487;&#25215;</span>
xiaoming.study<span style="color: #458588;">()</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#25152;&#20197;&#65292;JS &#20013;&#65292;&#26041;&#27861;&#12289;&#23646;&#24615;&#30340;&#35843;&#29992;&#65292;&#23601;&#26159;&#19981;&#26029;&#25214;&#29240;&#29240;&#30340;&#36807;&#31243;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#39318;&#20808;&#26597;&#30475;&#33258;&#36523;&#23545;&#35937;&#26377;&#27809;&#26377;&#30456;&#24212;&#30340;&#23646;&#24615;&#26041;&#27861;&#65292;&#22914;&#26524;&#26377;&#65292;&#21017;&#36820;&#22238;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22914;&#26524;&#27809;&#26377;&#65292;&#36890;&#36807; __proto__ &#21435;&#23547;&#25214;&#20854;&#29238;&#65292;&#28982;&#21518;&#26597;&#30475;&#20854;&#29238;&#26377;&#27809;&#26377;&#36825;&#20010;&#23646;&#24615;&#26041;&#27861;&#65292;&#26377;&#21017;&#36820;&#22238;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22914;&#26524;&#27809;&#26377;&#65292;&#27589;&#31181;&#24490;&#29615;&#65292;&#30693;&#36947;&#25214;&#21040;&#22836;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#39034;&#24207;:</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">1. xiaoming.xxx()</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2. xiaoming.__proto__.xxx() / person.xxx()</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">3. xiaoming.__proto__.__proto__.xxx() / animal.xxx()</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">4. xiaoming.__proto__.__proto__.__proto__.xxx() / Object.xxx()</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">5. &#22914;&#26524;&#20877;&#25214;&#19981;&#21040;&#65292;&#37027;&#23601;&#21482;&#33021;&#25253;&#38169;&#20102;</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36825;&#26679;&#19968;&#31181;&#26041;&#24335;&#65292;&#23601;&#26159;&#22522;&#20110;&#21407;&#22411;&#38142;&#30340;&#23545;&#35937;&#27169;&#22411;&#12290;(Prototype-Based OOP)</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#31616;&#21333;&#12289;&#31895;&#26292;&#12289;&#38750;&#24120;&#38750;&#24120;&#28789;&#27963;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">Self/Lua &#37117;&#26159;&#22522;&#20110;&#21407;&#22411;&#38142;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge3ce40c" class="outline-4">
<h4 id="orge3ce40c"><span class="section-number-4">4.6.3.</span> 使用构造函数，简化对象的创建</h4>
<div class="outline-text-4" id="text-4-6-3">
<p>
如果想构建结果类似的 object 数据，普通的写法有点罗嗦:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">person</span> = <span style="color: #458588;">{</span>
    <span style="color: #fabd2f;">eat</span>: <span style="color: #fb4933;">function</span> <span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span> console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"&#26159;&#37240;&#30340;"</span><span style="color: #8ec07c;">)</span>; <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#19968;&#20010;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">tom</span> = <span style="color: #458588;">{</span>
    name: <span style="color: #b8bb26;">"tom"</span>,
    age: 18,
    <span style="color: #fabd2f;">lol</span>: <span style="color: #fb4933;">function</span><span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span> console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"&#24536;&#20046;&#25152;&#20197;"</span><span style="color: #8ec07c;">)</span> <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
tom.__proto__ = person;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#19968;&#20010;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">xiaoming</span> = <span style="color: #458588;">{</span>
    name: <span style="color: #b8bb26;">"xiaoming"</span>,
    age: 19,
    <span style="color: #fabd2f;">lol</span>: <span style="color: #fb4933;">function</span><span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span> console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"&#24536;&#20046;&#25152;&#20197;"</span><span style="color: #8ec07c;">)</span> <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
xiaoming.__proto__ = person;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21448;&#19968;&#20010;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">xiaohong</span> = <span style="color: #458588;">{</span>
    name: <span style="color: #b8bb26;">"xiaohong"</span>,
    age: 16,
    <span style="color: #fabd2f;">lol</span>: <span style="color: #fb4933;">function</span><span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span> console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"&#24536;&#20046;&#25152;&#20197;"</span><span style="color: #8ec07c;">)</span> <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
xiaohong.__proto__ = person;
</pre>
</div>

<p>
为了让事情变得简化，我们可以写一个函数来帮助我们创建新对象，即使用函数消除冗余:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">person</span> = <span style="color: #458588;">{</span>
    <span style="color: #fabd2f;">eat</span>: <span style="color: #fb4933;">function</span> <span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span> console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"&#26159;&#37240;&#30340;"</span><span style="color: #8ec07c;">)</span>; <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">createStudent</span> <span style="color: #458588;">(</span><span style="color: #83a598;">name</span>, <span style="color: #83a598;">age</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">s</span> = <span style="color: #b16286;">{</span>
        name: name,
        age: age,
        <span style="color: #fabd2f;">lol</span>: <span style="color: #fb4933;">function</span><span style="color: #8ec07c;">()</span> <span style="color: #8ec07c;">{</span> console.log<span style="color: #d65d0e;">(</span><span style="color: #b8bb26;">'&#22909;&#29609;'</span><span style="color: #d65d0e;">)</span> <span style="color: #8ec07c;">}</span>
    <span style="color: #b16286;">}</span>;
    s.__proto__ = person;
    <span style="color: #fb4933;">return</span> s;
<span style="color: #458588;">}</span>

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">xiaohong</span> = createStudent<span style="color: #458588;">(</span><span style="color: #b8bb26;">"&#23567;&#32418;"</span>, 16<span style="color: #458588;">)</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">xiaolan</span> = createStudent<span style="color: #458588;">(</span><span style="color: #b8bb26;">"&#23567;lan"</span>, 19<span style="color: #458588;">)</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">xiaozi</span> = createStudent<span style="color: #458588;">(</span><span style="color: #b8bb26;">"&#23567;&#32043;"</span>, 19<span style="color: #458588;">)</span>;
</pre>
</div>

<p>
上面的解决方案已经足够好了，但是因为这种使用方法实在常见，JS 内部就给提供了下面一种语法糖，简直甜死了:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">Person</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #d3869b;">this</span>.eat = <span style="color: #fb4933;">function</span> <span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span> console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"&#26159;&#37240;&#30340;"</span><span style="color: #8ec07c;">)</span>; <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">Syntax Suger, &#35821;&#27861;&#31958;&#65292;&#26500;&#36896;&#20989;&#25968;</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">Student</span><span style="color: #458588;">(</span><span style="color: #83a598;">name</span>, <span style="color: #83a598;">age</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #d3869b;">this</span>.name = name; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">window</span>
    <span style="color: #d3869b;">this</span>.age = age;
    <span style="color: #d3869b;">this</span>.lol = <span style="color: #fb4933;">function</span><span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span> console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"kkk"</span><span style="color: #8ec07c;">)</span> <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
Student.<span style="color: #d3869b;">prototype</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Person</span><span style="color: #458588;">()</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">xiaohong.__proto__ == Student.prototype</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">xiaohong</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Student</span><span style="color: #458588;">(</span><span style="color: #b8bb26;">"&#23567;&#32418;"</span>, 15<span style="color: #458588;">)</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">xiaolan</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Student</span><span style="color: #458588;">(</span><span style="color: #b8bb26;">"&#23567;&#20848;"</span>, 12<span style="color: #458588;">)</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">xiaogreen</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Student</span><span style="color: #458588;">(</span><span style="color: #b8bb26;">"&#23567;&#21346;"</span>, 15<span style="color: #458588;">)</span>;

xiaohong.study = <span style="color: #fb4933;">function</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span> console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#30171;&#23450;&#24605;&#30171;&#65292;&#22909;&#22909;&#23398;&#20064;"</span><span style="color: #b16286;">)</span> <span style="color: #458588;">}</span>
</pre>
</div>

<p>
于是，使用函数作为构造方法的方式，就有点类似 Java 中的 class/instance 方式了，使用简单:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">Phone</span> <span style="color: #458588;">(</span><span style="color: #83a598;">name</span>, <span style="color: #83a598;">price</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #d3869b;">this</span>.name = name;
    <span style="color: #d3869b;">this</span>.price = price;
    <span style="color: #d3869b;">this</span>.show = <span style="color: #fb4933;">function</span> <span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span>
        console.log<span style="color: #8ec07c;">(</span><span style="color: #d3869b;">this</span>.name + <span style="color: #b8bb26;">" &#25163;&#26426;&#30340;&#20215;&#26684;&#20026;: &#65509;"</span> + <span style="color: #d3869b;">this</span>.price + <span style="color: #b8bb26;">"&#20803;"</span><span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">iphone</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Phone</span><span style="color: #458588;">(</span><span style="color: #b8bb26;">"iphoneX"</span>, 5555<span style="color: #458588;">)</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">huawei</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Phone</span><span style="color: #458588;">(</span><span style="color: #b8bb26;">"huawei"</span>, 4444<span style="color: #458588;">)</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">xiaomi</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Phone</span><span style="color: #458588;">(</span><span style="color: #b8bb26;">"xiaomi"</span>, 6666<span style="color: #458588;">)</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">samsung</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Phone</span><span style="color: #458588;">(</span><span style="color: #b8bb26;">"samsung"</span>, 9999<span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#19977;&#26143;&#25163;&#26426;&#21487;&#33021;&#20250;&#29190;&#28856;&#65292;&#25152;&#20197;&#65292;&#28155;&#21152;&#29190;&#28856;&#30340;&#36923;&#36753;&#65292;&#21363;&#19968;&#20010;&#20989;&#25968;</span>
samsung.baozha = <span style="color: #fb4933;">function</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>Math.random<span style="color: #8ec07c;">()</span> &gt; 0.9<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        alert<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"&#29190;&#28856;&#20102;"</span><span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #b16286;">{</span>
        console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"&#21035;&#20900;&#26505;&#25105;&#65292;&#25105;&#25165;&#19981;&#20250;&#36825;&#27425;&#29190;&#28856;&#21602;."</span><span style="color: #8ec07c;">)</span>
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>;
samsung.baozha<span style="color: #458588;">()</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22914;&#26524;&#24819;&#20026;&#27599;&#20010;&#26500;&#36896;&#20986;&#26469;&#30340;&#23545;&#35937;&#65292;&#37117;&#28155;&#21152;&#21516;&#26679;&#30340;&#21151;&#33021;&#65292;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#37027;&#20040;&#21482;&#38656;&#35201;&#20026;&#20182;&#20204;&#20849;&#21516;&#30340;&#29240;&#29240;&#65292;&#28155;&#21152;&#27492;&#23646;&#24615;&#25110;&#26041;&#27861;&#21363;&#21487;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#27604;&#22914;&#35828;&#65292;&#21028;&#26029;&#27599;&#20010;&#25163;&#26426;&#26159;&#21542;&#25903;&#25345; 5G&#65292;&#25105;&#20204;&#21482;&#38656;&#35201;&#20026;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36825;&#20123;&#25163;&#26426;&#30340;&#29240;&#29240; (Phone.prototype) &#28155;&#21152; isSupport5G &#26041;&#27861;&#21363;&#21487;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">Phone.prototype &#20195;&#34920; &#20351;&#29992; Phone &#21019;&#24314;&#20986;&#26469;&#30340;&#23545;&#35937;&#30340;&#29241;</span>
Phone.<span style="color: #d3869b;">prototype</span>.isSupport5G = <span style="color: #fb4933;">function</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
   <span style="color: #fb4933;">return</span> <span style="color: #d3869b;">this</span>.price &gt; 5000; 
   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">this &#25351;&#30340;&#26159;&#65292;&#35843;&#29992;&#30340;&#26102;&#20505;&#30340;&#23545;&#35937;</span>
   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#27604;&#22914;&#65292;&#21518;&#38754;&#25105;&#35843;&#29992; huawei.isSupport5G() &#37027;&#20040; this &#25351;&#30340;&#23601;&#26159; huawei &#23545;&#35937;</span>
<span style="color: #458588;">}</span>
huawei.isSupport5G<span style="color: #458588;">()</span>;
samsung.isSupport5G<span style="color: #458588;">()</span>;
</pre>
</div>

<p>
因此可以说，使用内置构造函数构建对象，跟自己写一个普通函数来构建对象，实际上是等价的:
</p>

<div class="div" id="org75e8a3f">
<p>

</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#26500;&#36896;&#20989;&#25968;</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">Phone</span> <span style="color: #458588;">(</span><span style="color: #83a598;">name</span>, <span style="color: #83a598;">price</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #d3869b;">this</span>.name = name;
    <span style="color: #d3869b;">this</span>.price = price;
    <span style="color: #d3869b;">this</span>.show = <span style="color: #fb4933;">function</span> <span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span>
        console.log<span style="color: #8ec07c;">(</span><span style="color: #d3869b;">this</span>.name + <span style="color: #b8bb26;">" &#20215;&#26684;: &#65509;"</span> + <span style="color: #d3869b;">this</span>.price<span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20197;&#26500;&#36896;&#20989;&#25968;&#20026;&#27169;&#26495;&#65292;&#21019;&#24314; iphone &#23545;&#35937;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#26032;&#21019;&#24314;&#30340;&#23545;&#35937;&#26377; name/price/show &#23646;&#24615;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20854;&#29238;&#20146; (__proto__) &#20026; Phone.prototype</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">iphone</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Phone</span><span style="color: #458588;">(</span><span style="color: #b8bb26;">"iphoneX"</span>, 5555<span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20026;&#25152;&#26377;&#20351;&#29992; Phone &#26500;&#24314;&#20986;&#26469;&#30340;&#23545;&#35937;&#28155;&#21152;&#20849;&#21516;&#26041;&#27861;:</span>
Phone.<span style="color: #d3869b;">prototype</span>.hello = <span style="color: #fb4933;">function</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'hello'</span><span style="color: #b16286;">)</span><span style="color: #458588;">}</span>;
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">yes</span>
iphone.hello<span style="color: #458588;">()</span>;
</pre>
</div>
<p>
使用「构造函数 + new」构建对象。
</p>

<p>
:break:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#26222;&#36890;&#20989;&#25968;</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">createPhone</span> <span style="color: #458588;">(</span><span style="color: #83a598;">name</span>, <span style="color: #83a598;">price</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">p</span> = <span style="color: #b16286;">{</span>
        name: name,
        price: price,
        <span style="color: #fabd2f;">show</span>: <span style="color: #fb4933;">function</span> <span style="color: #8ec07c;">()</span> <span style="color: #8ec07c;">{</span> 
            console.log<span style="color: #d65d0e;">(</span><span style="color: #d3869b;">this</span>.name + <span style="color: #b8bb26;">"&#20215;&#26684;: &#65509;"</span> + <span style="color: #d3869b;">this</span>.price<span style="color: #d65d0e;">)</span> 
        <span style="color: #8ec07c;">}</span>
    <span style="color: #b16286;">}</span>;
    p.__proto__ = createPhone.die; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20026;&#20854;&#25351;&#23450;&#29238;&#20146;</span>
    <span style="color: #fb4933;">return</span> p;
<span style="color: #458588;">}</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22312; createPhone &#30340; die &#23646;&#24615;&#19978;&#32465;&#23450;&#19968;&#20010;&#23545;&#35937;&#20316;&#20026;&#25152;&#26377;&#26032;&#24314;&#23545;&#35937;&#30340;&#29238;&#20146;</span>
createPhone.die = <span style="color: #458588;">{</span> constructor: createPhone <span style="color: #458588;">}</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36890;&#36807;&#36825;&#20010;&#26222;&#36890;&#20989;&#25968;&#26500;&#24314;&#20986;&#26469;&#30340; iphone &#23545;&#35937;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20855;&#26377;&#23646;&#24615; name/price/show</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#24182;&#19988;&#20854;&#29238;&#20146; (__proto__) &#20026; createPhone.die</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">iphone</span> = createPhone<span style="color: #458588;">(</span><span style="color: #b8bb26;">"iphoneX"</span>, 5555<span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20026;&#25152;&#26377;&#20351;&#29992; createPhone &#26500;&#24314;&#20986;&#26469;&#30340;&#23545;&#35937;&#28155;&#21152;&#20849;&#21516;&#26041;&#27861;:</span>
createPhone.die.hello = <span style="color: #fb4933;">function</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span> console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'hello'</span><span style="color: #b16286;">)</span> <span style="color: #458588;">}</span>;
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">yes</span>
iphone.hello<span style="color: #458588;">()</span>;
</pre>
</div>
<p>
自行创建普通函数，借助这个函数完成对象的构建。
</p>

</div>

<p>
<b>instanceof</b> 用来判断是否是某个对象:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">Student</span><span style="color: #458588;">()</span> <span style="color: #458588;">{}</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">tom</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Student</span><span style="color: #458588;">()</span>;

<span style="color: #fb4933;">if</span> <span style="color: #458588;">(</span>tom <span style="color: #fb4933;">instanceof</span> <span style="color: #d3869b;">Student</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span> console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#22909;&#22909;&#23398;&#20064;&#65292;&#22825;&#22825;&#21521;&#19978;"</span><span style="color: #b16286;">)</span> <span style="color: #458588;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9547756" class="outline-4">
<h4 id="org9547756"><span class="section-number-4">4.6.4.</span> ES5 中的 Object.create</h4>
<div class="outline-text-4" id="text-4-6-4">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">person</span> = <span style="color: #458588;">{}</span>;

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">student</span> = <span style="color: #458588;">{}</span>; student.__proto__ = person;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">student</span> = Object.create<span style="color: #458588;">(</span>person<span style="color: #458588;">)</span>;
Object.assign<span style="color: #458588;">(</span>student, <span style="color: #b16286;">{</span> name: <span style="color: #b8bb26;">"xxx"</span>, age: 18 <span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org4ce06eb" class="outline-4">
<h4 id="org4ce06eb"><span class="section-number-4">4.6.5.</span> ES6 中的 class 语法糖</h4>
<div class="outline-text-4" id="text-4-6-5">
<p>
一定要注意，这只是一种 <b>语法糖</b> ！
</p>

<p>
在 JS 中是不存在真正的类的。
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">class</span> Person <span style="color: #458588;">{</span>
    constructor<span style="color: #b16286;">(</span>name, address<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#26500;&#36896;&#20989;&#25968;</span>
        <span style="color: #d3869b;">this</span>.name = name;
        <span style="color: #d3869b;">this</span>.address = address;
    <span style="color: #b16286;">}</span>
    eat<span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span> <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#26041;&#27861;</span>
        console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"Please eat."</span><span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span>
    drink<span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span> <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#26041;&#27861;</span>
        console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"Please drink."</span><span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
<span style="color: #fb4933;">class</span> Student <span style="color: #fb4933;">extends</span> Person <span style="color: #458588;">{}</span>

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">xiaoming</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Person</span><span style="color: #458588;">(</span><span style="color: #b8bb26;">'xiaoming'</span>, <span style="color: #b8bb26;">'China'</span><span style="color: #458588;">)</span>;
xiaoming.eat<span style="color: #458588;">()</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org1d05eae" class="outline-4">
<h4 id="org1d05eae"><span class="section-number-4">4.6.6.</span> Object 对象</h4>
<div class="outline-text-4" id="text-4-6-6">
<p>
hasOwnProperty 用来判断某个属性是否定义在某个对象自身上:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">p</span> = <span style="color: #458588;">{</span> a: 1 <span style="color: #458588;">}</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">q</span> = <span style="color: #458588;">{</span> b: 1 <span style="color: #458588;">}</span>;
p.__proto__ = q;

p.hasOwnProperty<span style="color: #458588;">(</span><span style="color: #b8bb26;">"b"</span><span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">false</span>
p.hasOwnProperty<span style="color: #458588;">(</span><span style="color: #b8bb26;">"a"</span><span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">true</span>
</pre>
</div>

<p>
Object.assign，用来将若干对象合并到一个上面:
</p>
<div class="org-src-container">
<pre class="src src-js">Object.assign<span style="color: #458588;">(</span>a, b, c<span style="color: #458588;">)</span>;    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23558; b/c &#19978;&#30340;&#25152;&#26377;&#23646;&#24615;&#37117;&#28155;&#21152;&#21040; a &#19978;</span>
Object.assign<span style="color: #458588;">(</span><span style="color: #b16286;">{}</span>, xiaolv<span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22797;&#21046;</span>
</pre>
</div>

<p>
Object.defineProperty，从 ES5 开始，对象的属性变得不单纯了:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21333;&#32431;&#30340;&#24180;&#20195;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = 2;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">o</span> = <span style="color: #458588;">{}</span>;
o.c = 3;
o.c;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21487;&#20197;&#33258;&#24049;&#23454;&#29616;&#20989;&#25968;&#26469;&#36827;&#34892;&#38480;&#21046;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">o</span> = <span style="color: #458588;">{}</span>;
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">setAge</span><span style="color: #458588;">(</span><span style="color: #83a598;">age</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>age &gt; 99<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        o.age = 99;
    <span style="color: #b16286;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #b16286;">{</span>
        o.age = age;
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
setAge<span style="color: #458588;">(</span>19<span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#33258;&#20174; ES5 &#20043;&#21518;&#65292;&#23646;&#24615;&#24182;&#19981;&#26159;&#30495;&#27491;&#30340;&#23646;&#24615;&#65292;&#23427;&#21464;&#25104;&#19968;&#20010;&#22797;&#21512;&#30340;&#27010;&#24565;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#25152;&#20197;&#65292;&#21487;&#20197;&#20351;&#29992;&#22914;&#19979;&#35821;&#27861;&#32473;&#23646;&#24615;&#25351;&#23450;&#26356;&#22810;&#29305;&#24615;</span>
Object.defineProperty<span style="color: #458588;">(</span>o, <span style="color: #b8bb26;">"age"</span>, <span style="color: #b16286;">{</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">writable: true,</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">value: 18,</span>
    <span style="color: #fabd2f;">get</span>: <span style="color: #fb4933;">function</span><span style="color: #8ec07c;">()</span> <span style="color: #8ec07c;">{</span>
        console.log<span style="color: #d65d0e;">(</span><span style="color: #b8bb26;">"&#20320;&#24819;&#30693;&#36947;&#25105;&#30340;&#24180;&#40836;&#21527;&#65292;&#35752;&#21388;&#39740;!&#37027;&#25105;&#23601;&#21578;&#35785;&#20320;&#22043;"</span><span style="color: #d65d0e;">)</span>;
        <span style="color: #fb4933;">return</span> <span style="color: #d3869b;">this</span>._age ? <span style="color: #d3869b;">this</span>._age - 5 : 16;
    <span style="color: #8ec07c;">}</span>,
    <span style="color: #fabd2f;">set</span>: <span style="color: #fb4933;">function</span><span style="color: #8ec07c;">(</span><span style="color: #83a598;">age</span><span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
        console.log<span style="color: #d65d0e;">(</span><span style="color: #b8bb26;">"&#27491;&#22312;&#35774;&#32622;&#24180;&#40836;: "</span> + <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Date</span><span style="color: #458588;">()</span><span style="color: #d65d0e;">)</span>;
        <span style="color: #d3869b;">this</span>._age = age;
    <span style="color: #8ec07c;">}</span>
<span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#29978;&#33267;&#19968;&#27425;&#21487;&#20197;&#23450;&#20041;&#22810;&#20010;</span>
Object.defineProperties<span style="color: #458588;">(</span>o, <span style="color: #b16286;">{</span>
  age: <span style="color: #8ec07c;">{</span>
  <span style="color: #8ec07c;">}</span>,
  score: <span style="color: #8ec07c;">{</span>
  <span style="color: #8ec07c;">}</span>
<span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0c5ef6c" class="outline-3">
<h3 id="org0c5ef6c"><span class="section-number-3">4.7.</span> 运算符优先级</h3>
<div class="outline-text-3" id="text-4-7">

<figure id="org35dfcf8">
<img src="img/var-youxianji.png" alt="var-youxianji.png">

</figure>
</div>
</div>
</section>

<section id="outline-container-orgc9669a5" class="outline-2">
<h2 id="orgc9669a5"><span class="section-number-2">5.</span> 标准内置对象 (Global Objects)</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgcf6d4fd" class="outline-3">
<h3 id="orgcf6d4fd"><span class="section-number-3">5.1.</span> Number/String/Boolean/Function</h3>
<div class="outline-text-3" id="text-5-1">
<p>
包装类型 (Wrapper)：因为一切都是对象嘛……
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">d1</span> = 123;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">d2</span> = Number<span style="color: #458588;">(</span>123<span style="color: #458588;">)</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">d3</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Number</span><span style="color: #458588;">(</span>123<span style="color: #458588;">)</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">s1</span> = <span style="color: #b8bb26;">"abc"</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">s2</span> = String<span style="color: #458588;">(</span><span style="color: #b8bb26;">"abc"</span><span style="color: #458588;">)</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">s3</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">String</span><span style="color: #458588;">(</span><span style="color: #b8bb26;">"abc"</span><span style="color: #458588;">)</span>;

s1 == s2   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">true</span>
s1 === s2  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">true</span>

s1 == s3   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">true</span>
s1 === s3  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">false typeof(s3): object</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">aaa</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{}</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">aaa</span> = <span style="color: #fb4933;">function</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{}</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">aaa</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Function</span><span style="color: #458588;">(</span><span style="color: #b8bb26;">'a'</span>, <span style="color: #b8bb26;">'b'</span>, <span style="color: #b8bb26;">'return a + b'</span><span style="color: #458588;">)</span>;
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">typeof aaa: function</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc6d1c65" class="outline-3">
<h3 id="orgc6d1c65"><span class="section-number-3">5.2.</span> Array</h3>
<div class="outline-text-3" id="text-5-2">
</div>
<div id="outline-container-org4e85a5f" class="outline-4">
<h4 id="org4e85a5f"><span class="section-number-4">5.2.1.</span> 数组的创建</h4>
<div class="outline-text-4" id="text-5-2-1">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">arr</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Array</span><span style="color: #458588;">()</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">arr</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Array</span><span style="color: #458588;">(</span>1, 2, <span style="color: #b8bb26;">'hello'</span><span style="color: #458588;">)</span>;
<span style="color: #fb4933;">typeof</span> arr;

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">arr</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Array</span><span style="color: #458588;">()</span>;
arr.push<span style="color: #458588;">(</span>121<span style="color: #458588;">)</span>;
arr.push<span style="color: #458588;">(</span>212<span style="color: #458588;">)</span>;
arr.push<span style="color: #458588;">(</span><span style="color: #fb4933;">function</span> <span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span> <span style="color: #fb4933;">return</span> <span style="color: #b8bb26;">"hello"</span> <span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;
console.log<span style="color: #458588;">(</span>arr.pop<span style="color: #b16286;">()</span><span style="color: #458588;">)</span>;
console.log<span style="color: #458588;">(</span>arr.pop<span style="color: #b16286;">()()</span><span style="color: #458588;">)</span>;

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">arr</span> = <span style="color: #458588;">[</span>121, 212,
           <span style="color: #b8bb26;">'hello'</span>, <span style="color: #d3869b;">true</span>, <span style="color: #d3869b;">undefined</span>,
           <span style="color: #fb4933;">function</span> <span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span>console.error<span style="color: #8ec07c;">(</span>1<span style="color: #8ec07c;">)</span><span style="color: #b16286;">}</span><span style="color: #458588;">]</span>;
arr<span style="color: #458588;">[</span>5<span style="color: #458588;">]()</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#24207;&#21495;&#26159;&#20174; 0 &#24320;&#22987;&#30340; !!!</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org09882a1" class="outline-4">
<h4 id="org09882a1"><span class="section-number-4">5.2.2.</span> 数组的基本用法</h4>
<div class="outline-text-4" id="text-5-2-2">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">arr</span> = <span style="color: #458588;">[</span>1, 2, <span style="color: #b8bb26;">"hello"</span>, <span style="color: #d3869b;">true</span><span style="color: #458588;">]</span>;
arr.length      <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">4</span>
arr.concat<span style="color: #458588;">(</span><span style="color: #b16286;">[</span>33, 44<span style="color: #b16286;">]</span><span style="color: #458588;">)</span> <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">[1, 2, "hello", true, 33, 44]</span>

arr.flat<span style="color: #458588;">()</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23558;&#20854;&#21387;&#24179;</span>
arr.includes<span style="color: #458588;">()</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21028;&#23450;&#26159;&#21542;&#23384;&#22312;&#26576;&#20010;&#20803;&#32032;</span>
arr.indexOf/lastIndexOf<span style="color: #458588;">(</span>1<span style="color: #458588;">)</span>;  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21028;&#23450;&#26576;&#20010;&#20803;&#32032;&#30340;&#24207;&#21495;</span>

arr.slice<span style="color: #458588;">()</span>;  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22797;&#21046;</span>
arr.splice<span style="color: #458588;">(</span>3<span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21024;&#38500;&#12289;&#28155;&#21152;&#65292;&#40664;&#35748;&#34892;&#20026;&#26159;&#21024;&#38500;&#20174; 3 &#21040;&#26368;&#21518;&#19968;&#20301;&#30340;&#20803;&#32032;&#65292;&#36820;&#22238;&#34987;&#21024;&#38500;&#30340;&#20803;&#32032;&#32452;&#25104;&#30340;&#25968;&#32452;</span>
arr.splice<span style="color: #458588;">(</span>3, 1<span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21024;&#38500;&#22810;&#23569;&#20010;&#20803;&#32032;</span>
arr.splice<span style="color: #458588;">(</span>2, 0, 11111<span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#28155;&#21152;</span>

arr.reverse<span style="color: #458588;">()</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23558;&#25968;&#32452;&#20869;&#20803;&#32032;&#21453;&#21521;&#25490;&#24207;&#65292;&#27880;&#24847;&#65292;&#23427;&#26159;&#19968;&#20010;&#30772;&#22351;&#24615;&#30340;&#20989;&#25968;</span>
arr.sort<span style="color: #458588;">()</span>;    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#25490;&#24207;&#65292;&#30772;&#22351;&#24615;&#30340;&#20989;&#25968;</span>
arr.sort<span style="color: #458588;">(</span><span style="color: #fb4933;">function</span> <span style="color: #b16286;">(</span><span style="color: #83a598;">a</span>, <span style="color: #83a598;">b</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> <span style="color: #fb4933;">if</span> <span style="color: #8ec07c;">(</span>a &gt; b<span style="color: #8ec07c;">)</span> <span style="color: #fb4933;">return</span> -1; <span style="color: #fb4933;">else</span> <span style="color: #fb4933;">return</span> 1 <span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org685f070" class="outline-4">
<h4 id="org685f070"><span class="section-number-4">5.2.3.</span> 字符串跟数组的美好友谊</h4>
<div class="outline-text-4" id="text-5-2-3">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #b8bb26;">"kkkk:jjjj:2222:xxxx"</span>.split<span style="color: #458588;">(</span><span style="color: #b8bb26;">":"</span><span style="color: #458588;">)</span>.reverse<span style="color: #458588;">()</span>.join<span style="color: #458588;">(</span><span style="color: #b8bb26;">"-"</span><span style="color: #458588;">)</span>;
<span style="color: #b8bb26;">"&#20013;&#21326;&#20154;&#27665;&#20849;&#21644;&#22269;&#19975;&#23681;"</span>.split<span style="color: #458588;">(</span><span style="color: #b8bb26;">""</span><span style="color: #458588;">)</span>.reverse<span style="color: #458588;">()</span>.join<span style="color: #458588;">(</span><span style="color: #b8bb26;">""</span><span style="color: #458588;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org4c1b551" class="outline-4">
<h4 id="org4c1b551"><span class="section-number-4">5.2.4.</span> Array 与 function 的美好生活</h4>
<div class="outline-text-4" id="text-5-2-4">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23547;&#25214;&#31526;&#21512;&#26465;&#20214;&#30340;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">myJudge</span> = <span style="color: #fb4933;">function</span> <span style="color: #458588;">(</span><span style="color: #83a598;">x</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span> <span style="color: #fb4933;">return</span> x &gt; 1 <span style="color: #458588;">}</span>
arr.find<span style="color: #458588;">(</span>myJudge<span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2, &#31532;&#19968;&#20010;&#31526;&#21512;&#26465;&#20214;&#30340;&#26159; 2</span>
arr.find<span style="color: #458588;">(</span><span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">x</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> <span style="color: #fb4933;">return</span> x &gt; 1<span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36807;&#28388;&#31526;&#21512;&#26465;&#20214;&#30340;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">myNumberJudge</span> = <span style="color: #fb4933;">function</span><span style="color: #458588;">(</span><span style="color: #83a598;">x</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span> <span style="color: #fb4933;">return</span> <span style="color: #fb4933;">typeof</span> x === <span style="color: #b8bb26;">'number'</span> <span style="color: #458588;">}</span>
arr.filter<span style="color: #458588;">(</span>myNumberJudge<span style="color: #458588;">)</span> <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">[1, 2]</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23545;&#27599;&#20010;&#20803;&#32032;&#20570;&#21516;&#26679;&#30340;&#25805;&#20316;&#65292;&#28982;&#21518;&#24418;&#25104;&#26032;&#30340;&#25968;&#32452;</span>
arr.map<span style="color: #458588;">(</span><span style="color: #fb4933;">function</span> <span style="color: #b16286;">(</span><span style="color: #83a598;">x</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> <span style="color: #fb4933;">return</span> x + 1 <span style="color: #b16286;">}</span><span style="color: #458588;">)</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21512;&#24182;&#35745;&#31639;</span>
arr.reduce<span style="color: #458588;">(</span><span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">a</span>, <span style="color: #83a598;">b</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> <span style="color: #fb4933;">return</span> a + b<span style="color: #b16286;">}</span><span style="color: #458588;">)</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21028;&#23450;&#26159;&#19981;&#26159;&#31526;&#21512;...</span>
arr.every<span style="color: #458588;">(</span><span style="color: #fb4933;">function</span> <span style="color: #b16286;">(</span><span style="color: #83a598;">x</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> <span style="color: #fb4933;">return</span> <span style="color: #fb4933;">typeof</span> x !== <span style="color: #b8bb26;">'object'</span> <span style="color: #b16286;">}</span><span style="color: #458588;">)</span>
arr.some<span style="color: #458588;">(</span><span style="color: #fb4933;">function</span> <span style="color: #b16286;">(</span><span style="color: #83a598;">x</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> <span style="color: #fb4933;">return</span> <span style="color: #fb4933;">typeof</span> x !== <span style="color: #b8bb26;">'object'</span> <span style="color: #b16286;">}</span><span style="color: #458588;">)</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23545;&#27599;&#19968;&#20010;&#20803;&#32032;&#37117;&#20570;&#19968;&#23450;&#30340;&#20107;&#24773;&#65292;&#20174; ES6 &#24320;&#22987;&#20986;&#29616;&#30340;</span>
arr.forEach<span style="color: #458588;">(</span><span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">x</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> console.log<span style="color: #8ec07c;">(</span>x<span style="color: #8ec07c;">)</span> <span style="color: #b16286;">}</span><span style="color: #458588;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org88c30ec" class="outline-4">
<h4 id="org88c30ec"><span class="section-number-4">5.2.5.</span> ES6 添加的 Array 的一些静态方法</h4>
<div class="outline-text-4" id="text-5-2-5">
<div class="org-src-container">
<pre class="src src-js">Array.from
Array.<span style="color: #fb4933;">of</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd98a636" class="outline-4">
<h4 id="orgd98a636"><span class="section-number-4">5.2.6.</span> [示例] 常规操作</h4>
<div class="outline-text-4" id="text-5-2-6">
<p>
现有一数组:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">let</span> <span style="color: #83a598;">array</span> = <span style="color: #458588;">[</span>
    <span style="color: #b16286;">{</span>
        id: 1,
        name: <span style="color: #b8bb26;">'ohzri'</span>,
        birth: <span style="color: #b8bb26;">'1999.09.09'</span>,
        city: <span style="color: #b8bb26;">'&#28246;&#21271;'</span>,
        salary: 3379
    <span style="color: #b16286;">}</span>,
    <span style="color: #b16286;">{</span>
        id: 2,
        name: <span style="color: #b8bb26;">'rqgfd'</span>,
        birth: <span style="color: #b8bb26;">'1999.10.28'</span>,
        city: <span style="color: #b8bb26;">'&#28246;&#21335;'</span>,
        salary: 4060
    <span style="color: #b16286;">}</span>,
    <span style="color: #b16286;">{</span>
        id: 3,
        name: <span style="color: #b8bb26;">'fwfsh'</span>,
        birth: <span style="color: #b8bb26;">'1999.09.17'</span>,
        city: <span style="color: #b8bb26;">'&#24191;&#35199;'</span>,
        salary: 3236
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">]</span>;
</pre>
</div>

<p>
要求:
</p>
<ol class="org-ol">
<li>过滤: 返回工资 3000-3500 之内的人</li>
<li>除去: 返回湖南人之外的人</li>
<li>修改: 为每个人增加 age 字段</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-org01fa03d" class="outline-3">
<h3 id="org01fa03d"><span class="section-number-3">5.3.</span> Math</h3>
<div class="outline-text-3" id="text-5-3">
<p>
Math 对象是一个静态的对象 (不需要使用 new Math()，而是直接 Math.xxx)。
</p>

<p>
它主要作用在 Number 类型上，进行数学运算的。
</p>

<div class="org-src-container">
<pre class="src src-js">Math.PI

Math.min<span style="color: #458588;">(</span>2, 3, 4, 5<span style="color: #458588;">)</span>;
Math.max<span style="color: #458588;">(</span>2, 3, 4, 5<span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22522;&#26412;&#25968;&#23398;&#35745;&#31639;</span>
Math.abs<span style="color: #458588;">(</span>-1<span style="color: #458588;">)</span>;   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#32477;&#23545;&#20540; 1</span>
Math.sin<span style="color: #458588;">(</span>2.5<span style="color: #458588;">)</span>;
Math.cos<span style="color: #458588;">(</span>Math.PI<span style="color: #458588;">)</span>
Math.pow<span style="color: #458588;">(</span>4, 2<span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">16</span>
Math.pow<span style="color: #458588;">(</span>4, 3<span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">64</span>
Math.sqrt<span style="color: #458588;">(</span>4<span style="color: #458588;">)</span>;   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#24320;&#26681;&#21495; 2</span>
Math.exp<span style="color: #458588;">(</span>2<span style="color: #458588;">)</span>;    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#33258;&#28982;&#25351;&#25968; 7.38905609893065</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21306;&#21035; round/floor/ceil/trunc</span>
Math.round<span style="color: #458588;">(</span>3.14<span style="color: #458588;">)</span>;  <span style="color: #7c6f64;">//</span><span style="color: #7c6f64;">3</span>
Math.floor<span style="color: #458588;">(</span>3.14<span style="color: #458588;">)</span>;  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">3</span>
Math.ceil<span style="color: #458588;">(</span>3.14<span style="color: #458588;">)</span>;   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">4</span>
Math.trunc<span style="color: #458588;">(</span>3.14<span style="color: #458588;">)</span>;  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">3</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#27714;&#21462;&#38543;&#26426;&#20540;</span>
Math.randon<span style="color: #458588;">()</span>;  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">(0, 1)</span>
Math.round<span style="color: #458588;">(</span>100 * Math.random<span style="color: #b16286;">()</span><span style="color: #458588;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org04d9443" class="outline-3">
<h3 id="org04d9443"><span class="section-number-3">5.4.</span> Date</h3>
<div class="outline-text-3" id="text-5-4">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">let</span> <span style="color: #83a598;">d</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Date</span><span style="color: #458588;">()</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">d</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Date</span><span style="color: #458588;">(</span><span style="color: #b8bb26;">'2010-08-04'</span><span style="color: #458588;">)</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">d</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Date</span><span style="color: #458588;">(</span><span style="color: #b8bb26;">'1995-12-17T03:24:00'</span><span style="color: #458588;">)</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">d</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Date</span><span style="color: #458588;">(</span><span style="color: #b8bb26;">"October 13, 1975 11:13:00"</span><span style="color: #458588;">)</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">d</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Date</span><span style="color: #458588;">(</span>79, 5, 24<span style="color: #458588;">)</span>;            <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#24180;&#26376;&#26085;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">d</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Date</span><span style="color: #458588;">(</span>79, 5, 24, 11, 33, 0<span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#24180;&#26376;&#26085;&#26102;&#20998;&#31186;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">d</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Date</span><span style="color: #458588;">(</span><span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Date</span><span style="color: #b16286;">()</span>.getTime<span style="color: #b16286;">()</span> + 24*3600*1000<span style="color: #458588;">)</span>;

d.setFullYear<span style="color: #458588;">(</span>2010,0,14<span style="color: #458588;">)</span>;    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2010.1.14</span>
d.setDate<span style="color: #458588;">(</span>d.getDate<span style="color: #b16286;">()</span> + 5<span style="color: #458588;">)</span>;  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">5 days later</span>

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">seconds</span> = Math.floor<span style="color: #458588;">(</span>Date.now<span style="color: #b16286;">()</span> / 1000<span style="color: #458588;">)</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">elapsed</span> = end.getTime<span style="color: #458588;">()</span> - start.getTime<span style="color: #458588;">()</span>; 

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">yyyymmddwhhmiss</span> = <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">"2020&#24180;6&#26376;8&#26085;(1) 19:16:9"</span>
    d.getFullYear<span style="color: #458588;">()</span> + <span style="color: #b8bb26;">'&#24180;'</span>
    + <span style="color: #458588;">(</span>d.getMonth<span style="color: #b16286;">()</span> + 1<span style="color: #458588;">)</span> + <span style="color: #b8bb26;">'&#26376;'</span>
    + d.getDate<span style="color: #458588;">()</span> + <span style="color: #b8bb26;">'&#26085;'</span>
    + <span style="color: #b8bb26;">'('</span> + d.getDay<span style="color: #458588;">()</span> + <span style="color: #b8bb26;">') '</span>
    + d.getHours<span style="color: #458588;">()</span> + <span style="color: #b8bb26;">':'</span>
    + d.getMinutes<span style="color: #458588;">()</span> + <span style="color: #b8bb26;">':'</span>
    + d.getSeconds<span style="color: #458588;">()</span>;

d.toDateString<span style="color: #458588;">()</span>;       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">"Mon Jun 08 2020"</span>
d.toGMTString<span style="color: #458588;">()</span>;        <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">"Mon, 08 Jun 2020 11:16:09 GMT"</span>
d.toISOString<span style="color: #458588;">()</span>;        <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">"2020-06-08T11:16:09.617Z"</span>
d.toLocaleString<span style="color: #458588;">()</span>;     <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">"2020/6/8 &#19979;&#21320;7:16:09"</span>
d.toLocaleString<span style="color: #458588;">(</span><span style="color: #b8bb26;">'en'</span><span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">"6/8/2020, 7:16:09 PM"</span>
d.toString<span style="color: #458588;">()</span>;           <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">"Mon Jun 08 2020 19:16:09 GMT+0800 (&#20013;&#22269;&#26631;&#20934;&#26102;&#38388;)"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org203ea4d" class="outline-3">
<h3 id="org203ea4d"><span class="section-number-3">5.5.</span> RegExp</h3>
<div class="outline-text-3" id="text-5-5">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">RegExp</span><span style="color: #458588;">(</span><span style="color: #b8bb26;">"[a-z]"</span><span style="color: #458588;">)</span>
<span style="color: #b8bb26;">/[a-z]/</span>  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23383;&#38754;&#34920;&#36798;&#24335;&#65292;&#36319;&#19978;&#38754;&#26159;&#31561;&#20215;&#30340;</span>

a.test<span style="color: #458588;">()</span>;
a.exec<span style="color: #458588;">()</span>;
a.compile<span style="color: #458588;">()</span>;

<span style="color: #b8bb26;">"Hello"</span>.match<span style="color: #458588;">(</span><span style="color: #b8bb26;">/[a-z]/</span><span style="color: #458588;">)</span>
</pre>
</div>

<p>
给大家的题目:
</p>
<ul class="org-ul">
<li>如何使用正则表达式，来匹配一个电话号码</li>
<li>如何使用正则表达式，来寻找 html 字符串中的所有图片地址</li>
</ul>
</div>

<div id="outline-container-orgf906bd1" class="outline-4">
<h4 id="orgf906bd1"><span class="section-number-4">5.5.1.</span> 补充</h4>
<div class="outline-text-4" id="text-5-5-1">
<p>
a{2}bc[abc]{2,5}
</p>

<pre class="example">
1[3456789][0123456789][0123456789][0123456789][0123456789][0123456789][0123456789][0123456789][0123456789][0123456789]
1[3456789][0123456789]{9}
</pre>


<p>
基本语法:
</p>
<ul class="org-ul">
<li>一般情况下，我们读取到的每一位代表的是字符本身</li>
<li>使用 [] 包含起来的所有字符，代表一位，值只能从 [xyz] 取其中之一</li>
<li>使用 {} 搭配数字来修饰前一个字符，用来表达重复</li>
<li>使用 () 用来进行分组、捕获</li>
</ul>

<p>
偷懒:
</p>
<ul class="org-ul">
<li>[0-9] 来代表 [0123456789]</li>
<li>[a-z] 来代表 [abcdefghijklmnopqrstuvwxyz]</li>
<li>\d 来代表 [0123456789]</li>
<li>\s 来代表各种空格 [ \t]</li>
<li>* 来代表 {0,}</li>
<li>+ 来代表 {1,}</li>
<li>? 来代表 {0,1}</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org314722f" class="outline-3">
<h3 id="org314722f"><span class="section-number-3">5.6.</span> JSON</h3>
<div class="outline-text-3" id="text-5-6">
<p>
序列化:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">let</span> <span style="color: #83a598;">jsonStr</span> = JSON.stringify<span style="color: #458588;">(</span><span style="color: #b16286;">{</span>
    name: <span style="color: #b8bb26;">"xxx"</span>, age: 19
<span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21487;&#36873;&#30340;&#36807;&#28388;&#36873;&#39033;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">jsonStr</span> = JSON.stringify<span style="color: #458588;">(</span><span style="color: #b16286;">{</span> name: <span style="color: #b8bb26;">"xxx"</span>, age: 19 <span style="color: #b16286;">}</span>, <span style="color: #b16286;">[</span><span style="color: #b8bb26;">"name"</span><span style="color: #b16286;">]</span><span style="color: #458588;">)</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">jsonStr</span> = JSON.stringify<span style="color: #458588;">(</span><span style="color: #b16286;">{</span> name: <span style="color: #b8bb26;">"xxx"</span>, age: 19 <span style="color: #b16286;">}</span>, <span style="color: #b16286;">(</span>key, value<span style="color: #b16286;">)</span> =&gt; <span style="color: #b16286;">{</span>
    <span style="color: #fb4933;">if</span> <span style="color: #8ec07c;">(</span>key === <span style="color: #b8bb26;">"age"</span><span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
        <span style="color: #fb4933;">return</span> value &lt; 1 ? 1 : value + 3;
    <span style="color: #8ec07c;">}</span>
    <span style="color: #fb4933;">return</span> value;
<span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21487;&#36873;&#30340;&#32553;&#36827;&#35774;&#32622;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">jsonStr</span> = JSON.stringify<span style="color: #458588;">(</span><span style="color: #b16286;">{</span> name: <span style="color: #b8bb26;">"xxx"</span>, age: 19 <span style="color: #b16286;">}</span>, <span style="color: #b16286;">[</span><span style="color: #b8bb26;">"name"</span><span style="color: #b16286;">]</span>, 2<span style="color: #458588;">)</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">jsonStr</span> = JSON.stringify<span style="color: #458588;">(</span><span style="color: #b16286;">{</span> name: <span style="color: #b8bb26;">"xxx"</span>, age: 19 <span style="color: #b16286;">}</span>, <span style="color: #b16286;">[</span><span style="color: #b8bb26;">"name"</span><span style="color: #b16286;">]</span>, <span style="color: #b8bb26;">'+++'</span><span style="color: #458588;">)</span>;
</pre>
</div>

<p>
反序列化:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">let</span> <span style="color: #83a598;">o</span> = JSON.parse<span style="color: #458588;">(</span><span style="color: #b8bb26;">"..."</span><span style="color: #458588;">)</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">o</span> = JSON.parse<span style="color: #458588;">(</span><span style="color: #b8bb26;">"..."</span>, <span style="color: #b16286;">(</span>k, v<span style="color: #b16286;">)</span> =&gt; <span style="color: #b16286;">{}</span><span style="color: #458588;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org6cf43e6" class="outline-3">
<h3 id="org6cf43e6"><span class="section-number-3">5.7.</span> Symbol</h3>
<div class="outline-text-3" id="text-5-7">
<p>
唯一性。
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">let</span> <span style="color: #83a598;">orderStatus</span> = 0/1/2/3/4;

<span style="color: #fb4933;">let</span> <span style="color: #83a598;">OrderStatus</span> = <span style="color: #458588;">{</span>
  INIT: Symbol<span style="color: #b16286;">()</span>,
  FUKUAN: Symbol<span style="color: #b16286;">()</span>,
  JIESHU: Symbol<span style="color: #b16286;">()</span>
<span style="color: #458588;">}</span>;

OrderStatus.INIT;
</pre>
</div>
</div>
</div>

<div id="outline-container-org082fb0b" class="outline-3">
<h3 id="org082fb0b"><span class="section-number-3">5.8.</span> Set/Map/WeakSet/WeakMap</h3>
<div class="outline-text-3" id="text-5-8">
<p>
Set 集合，唯一无序:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">let</span> <span style="color: #83a598;">nums</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Set</span><span style="color: #458588;">(</span><span style="color: #b16286;">[</span>1, 2, 3, 4, 5<span style="color: #b16286;">]</span><span style="color: #458588;">)</span>;
nums.add<span style="color: #458588;">(</span>3<span style="color: #458588;">)</span>;
nums.add<span style="color: #458588;">(</span>33<span style="color: #458588;">)</span>;
nums.size;
nums.<span style="color: #fb4933;">delete</span><span style="color: #458588;">(</span>33<span style="color: #458588;">)</span>;
nums.forEach<span style="color: #458588;">(</span>x =&gt; console.log<span style="color: #b16286;">(</span>x<span style="color: #b16286;">)</span><span style="color: #458588;">)</span>;
</pre>
</div>

<p>
Map 传统的 K-V 结构:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">let</span> <span style="color: #83a598;">m</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Map</span><span style="color: #458588;">()</span>;
m.set<span style="color: #458588;">(</span><span style="color: #b8bb26;">"name"</span>, <span style="color: #b8bb26;">"zhangsan"</span><span style="color: #458588;">)</span>;
m.set<span style="color: #458588;">(</span><span style="color: #b8bb26;">"age"</span>, 22<span style="color: #458588;">)</span>;
m.size;
m.has<span style="color: #458588;">(</span><span style="color: #b8bb26;">"age"</span><span style="color: #458588;">)</span>;
m.clear<span style="color: #458588;">()</span>;
m.forEach<span style="color: #458588;">(</span><span style="color: #b16286;">(</span>k, v<span style="color: #b16286;">)</span> =&gt; console.log<span style="color: #b16286;">(</span>k + <span style="color: #b8bb26;">' is: '</span> + v<span style="color: #b16286;">)</span><span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">transform</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">m1</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Map</span><span style="color: #458588;">(</span><span style="color: #b16286;">[</span><span style="color: #8ec07c;">[</span>1, <span style="color: #b8bb26;">'a'</span><span style="color: #8ec07c;">]</span>, <span style="color: #8ec07c;">[</span>2, <span style="color: #b8bb26;">'bbb'</span><span style="color: #8ec07c;">]</span><span style="color: #b16286;">]</span><span style="color: #458588;">)</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">a2</span> = <span style="color: #458588;">[</span>...m1<span style="color: #458588;">]</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">m2</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Map</span><span style="color: #458588;">(</span>Object.entries<span style="color: #b16286;">(</span><span style="color: #8ec07c;">{</span> a: 1, b: 2<span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>;
</pre>
</div>

<p>
过滤相同元素:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">let</span> <span style="color: #83a598;">aa</span> = <span style="color: #458588;">[</span>1, 2, 3, 4, 2, 3, 3, 2, 5<span style="color: #458588;">]</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20256;&#32479;&#30340;&#26041;&#24335;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">a</span> = <span style="color: #458588;">[]</span>;
<span style="color: #fb4933;">for</span> <span style="color: #458588;">(</span><span style="color: #fb4933;">let</span> <span style="color: #83a598;">i</span> = 0; i &lt; aa.length; i++<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>!a.include<span style="color: #8ec07c;">(</span>aa<span style="color: #d65d0e;">[</span>i<span style="color: #d65d0e;">]</span><span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> a.push<span style="color: #b16286;">(</span>aa<span style="color: #8ec07c;">[</span>i<span style="color: #8ec07c;">]</span><span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
console.log<span style="color: #458588;">(</span>a<span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">Set &#30340;&#26041;&#24335;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">b</span> = <span style="color: #458588;">[</span>...<span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Set</span><span style="color: #b16286;">(</span>aa<span style="color: #b16286;">)</span><span style="color: #458588;">]</span>;
</pre>
</div>

<p>
Weak 弱引用:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">const</span> <span style="color: #83a598;">requests</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">WeakSet</span><span style="color: #458588;">()</span>;

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">ApiRequest</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    requests.add<span style="color: #b16286;">(</span><span style="color: #d3869b;">this</span><span style="color: #b16286;">)</span>;
    <span style="color: #fabd2f;">makeRequest</span>: <span style="color: #fb4933;">function</span> <span style="color: #b16286;">(</span><span style="color: #83a598;">url</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">if</span> <span style="color: #8ec07c;">(</span>!requests.has<span style="color: #d65d0e;">(</span><span style="color: #d3869b;">this</span><span style="color: #d65d0e;">)</span><span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
            console.log<span style="color: #d65d0e;">(</span><span style="color: #b8bb26;">"&#19981;&#21512;&#29702;"</span><span style="color: #d65d0e;">)</span>;
        <span style="color: #8ec07c;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #8ec07c;">{</span>
            axios<span style="color: #d65d0e;">(</span><span style="color: #458588;">{}</span><span style="color: #d65d0e;">)</span>.....;
        <span style="color: #8ec07c;">}</span>
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">test</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">1. r1 &#20316;&#20026;&#19968;&#20010;&#20989;&#25968;&#20869;&#37096;&#30340;&#21464;&#37327;&#65292;&#22312;&#20989;&#25968;&#35843;&#29992;&#32467;&#26463;&#20043;&#21518;&#65292;&#20250;&#32467;&#26463;&#29983;&#21629;&#21608;&#26399;</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2. &#22312; ApiRequest &#30340;&#26500;&#36896;&#20989;&#25968;&#20013;&#65292;r1 &#23545;&#24212;&#30340;&#23545;&#35937;&#34987;&#25918;&#21040;&#20102;&#20840;&#23616;&#30340; requests &#20013;</span>
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">r1</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">ApiRequest</span><span style="color: #b16286;">()</span>; 
    r1.makeRequest<span style="color: #b16286;">(</span>url<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22240;&#27492;&#65292;&#31561; test &#35843;&#29992;&#23436;&#27605;&#20043;&#21518;&#65292;r1 &#23545;&#35937;&#65292;&#21482;&#20250;&#34987; requests &#24341;&#29992;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22914;&#26524;&#65292;requests &#26159; Set &#30340;&#35805;&#65292;&#37027;&#20040;&#36825;&#20010;&#23545;&#35937;&#23601;&#20250;&#19968;&#30452;&#22312;&#20869;&#23384;&#20013;&#19981;&#20250;&#24471;&#21040;&#37322;&#25918;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22914;&#26524;&#65292;requests &#26159; WeakSet &#30340;&#35805;&#65292;&#37027;&#20040; GC &#20250;&#26080;&#24773;&#23558;&#20854;&#28040;&#28781;&#25481;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#25152;&#20197;&#65292;&#19981;&#20165;&#20445;&#35777;&#20102;&#20869;&#23384;&#30340;&#23433;&#20840;&#65292;&#36824;&#33021;&#20026; makeRequest &#37324;&#38754;&#30340;&#21028;&#26029;&#25552;&#20379;&#20381;&#25454;</span>
test<span style="color: #458588;">()</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd36ab02" class="outline-3">
<h3 id="orgd36ab02"><span class="section-number-3">5.9.</span> ArrayBuffer/DataView</h3>
<div class="outline-text-3" id="text-5-9">
<p>
&lt;input type=file id=xxx&gt;
</p>

<p>
xxx.files[0]
</p>
</div>
</div>

<div id="outline-container-org250d887" class="outline-3">
<h3 id="org250d887"><span class="section-number-3">5.10.</span> Promise/async</h3>
<div class="outline-text-3" id="text-5-10">
<p>
异步非常爽，一不小心就进入了回调地狱:
</p>
<div class="org-src-container">
<pre class="src src-js">jq<span style="color: #458588;">(</span><span style="color: #b16286;">{</span>
  url: xx,
  <span style="color: #fabd2f;">success</span>: <span style="color: #fb4933;">function</span><span style="color: #8ec07c;">()</span> <span style="color: #8ec07c;">{</span>
    jq<span style="color: #d65d0e;">(</span><span style="color: #458588;">{</span>
      url: yy,
      <span style="color: #fabd2f;">success</span>: <span style="color: #fb4933;">function</span><span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span>
        jq<span style="color: #8ec07c;">(</span><span style="color: #d65d0e;">{</span>
          url: zz,
          <span style="color: #fabd2f;">success</span>: <span style="color: #fb4933;">function</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
            <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">....</span>
          <span style="color: #458588;">}</span>
        <span style="color: #d65d0e;">}</span><span style="color: #8ec07c;">)</span>;
      <span style="color: #b16286;">}</span>
    <span style="color: #458588;">}</span><span style="color: #d65d0e;">)</span>;
  <span style="color: #8ec07c;">}</span>
<span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;
</pre>
</div>

<p>
类比 Promise 语法:
</p>
<div class="org-src-container">
<pre class="src src-js">jq<span style="color: #458588;">(</span><span style="color: #b16286;">{</span> url: xx <span style="color: #b16286;">}</span><span style="color: #458588;">)</span>
  .then<span style="color: #458588;">(</span>jq<span style="color: #b16286;">(</span><span style="color: #8ec07c;">{</span> url: yy <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>
  .then<span style="color: #458588;">(</span>jq<span style="color: #b16286;">(</span><span style="color: #8ec07c;">{</span> url: aa <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>
  .then<span style="color: #458588;">(</span>jq<span style="color: #b16286;">(</span><span style="color: #8ec07c;">{</span> url: bb <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>
  .then<span style="color: #458588;">(</span>jq<span style="color: #b16286;">(</span><span style="color: #8ec07c;">{</span> url: cc <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>
  .then<span style="color: #458588;">(</span>jq<span style="color: #b16286;">(</span><span style="color: #8ec07c;">{</span> url: dd <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>
  .then<span style="color: #458588;">(</span>jq<span style="color: #b16286;">(</span><span style="color: #8ec07c;">{</span> url: ee <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>
  .fail<span style="color: #458588;">(</span>....<span style="color: #458588;">)</span>;
</pre>
</div>

<p>
ES7 中异步编程的继续演化:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">async</span> getHistoryData <span style="color: #458588;">(</span>data<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">try</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">let</span> <span style="color: #83a598;">res</span> = <span style="color: #fb4933;">await</span> axios.get<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'/api/survey/list/'</span>, <span style="color: #d65d0e;">{</span> params: data <span style="color: #d65d0e;">}</span><span style="color: #8ec07c;">)</span>
        <span style="color: #d3869b;">this</span>.tableData = res.data.result
        <span style="color: #d3869b;">this</span>.totalData = res.data.count
    <span style="color: #b16286;">}</span> <span style="color: #fb4933;">catch</span> <span style="color: #b16286;">(</span>err<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        console.log<span style="color: #8ec07c;">(</span>err<span style="color: #8ec07c;">)</span>
        alert<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#35831;&#27714;&#20986;&#38169;&#65281;'</span><span style="color: #8ec07c;">)</span>
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-orgd274123" class="outline-2">
<h2 id="orgd274123"><span class="section-number-2">6.</span> 执行逻辑</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org316644e" class="outline-3">
<h3 id="org316644e"><span class="section-number-3">6.1.</span> 顺序执行</h3>
<div class="outline-text-3" id="text-6-1">
<p>
默认行为
</p>
</div>
</div>

<div id="outline-container-orge279384" class="outline-3">
<h3 id="orge279384"><span class="section-number-3">6.2.</span> 分支判断</h3>
<div class="outline-text-3" id="text-6-2">
<ul class="org-ul">
<li>if/else if/else</li>
<li>switch</li>
<li>三目运算</li>
</ul>
</div>

<div id="outline-container-orgbb9e6f1" class="outline-4">
<h4 id="orgbb9e6f1"><span class="section-number-4">6.2.1.</span> IF/ELSE</h4>
<div class="outline-text-4" id="text-6-2-1">
<p>
完全句式:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">if</span> BOOLEAN <span style="color: #458588;">{</span>            <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#24517;&#36873;&#30340;</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">BOOLEAN &#20026;&#30495;</span>
<span style="color: #458588;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #fb4933;">if</span> BOOLEAN2 <span style="color: #458588;">{</span>    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21487;&#36873;</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">BOOLEAN &#20026;&#20551;</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">BOOLEAN2 &#20026;&#30495;</span>
<span style="color: #458588;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #458588;">{</span>                <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21487;&#36873;&#30340;</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">BOOLEAN &#20026;&#20551;</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">BOOLEAN2 &#20026;&#20551;</span>
<span style="color: #458588;">}</span>
</pre>
</div>

<p>
例子:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">age</span> = 18;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21482;&#26377; if</span>
<span style="color: #fb4933;">if</span> <span style="color: #458588;">(</span>age &gt; 18<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#20320;&#24050;&#32463;&#26159;&#25104;&#24180;&#20154;&#20102;&#65292;&#35201;&#25026;&#24471;&#33258;&#24459;"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#26377; if &#36824;&#26377; else </span>
<span style="color: #fb4933;">if</span> <span style="color: #458588;">(</span>age &gt; 18 &amp;&amp; age &lt; 25<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#20320;&#24180;&#40836;&#21040;&#20102;&#65292;&#35813;xx&#20102;"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#27809;&#20320;&#21861;&#20107;&#65292;&#19968;&#36793;&#21435;"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span>
</pre>
</div>

<p>
完全句式:
</p>

<div class="div" id="orgb69d76f">
<p>

</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">if</span> <span style="color: #458588;">(</span>age &lt; 18<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#22909;&#22909;&#29609;"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #fb4933;">if</span> <span style="color: #458588;">(</span>age &lt; 25<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#22909;&#22909;&#23398;&#20064;"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #fb4933;">if</span> <span style="color: #458588;">(</span>age &lt; 60<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#22909;&#22909;&#24037;&#20316;"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#22909;&#22909;&#20241;&#24687;"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span>
</pre>
</div>

<p>
:break:
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">if</span> <span style="color: #458588;">(</span>age &lt; 18<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#22909;&#22909;&#29609;"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span>
<span style="color: #fb4933;">if</span> <span style="color: #458588;">(</span>age &lt; 25 &amp;&amp; age &lt; 18<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#22909;&#22909;&#23398;&#20064;"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span>
<span style="color: #fb4933;">if</span> <span style="color: #458588;">(</span>age &lt; 60 &amp;&amp; age &gt; 25<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#22909;&#22909;&#24037;&#20316;"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span>
<span style="color: #fb4933;">if</span> <span style="color: #458588;">(</span>age &gt; 60<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#22909;&#22909;&#20241;&#24687;"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span>
</pre>
</div>

<p>
:break:
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">if</span> <span style="color: #458588;">(</span>age &lt; 18<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#22909;&#22909;&#29609;"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>age &lt; 25<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        alert<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"&#22909;&#22909;&#23398;&#20064;"</span><span style="color: #8ec07c;">)</span>
    <span style="color: #b16286;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">if</span> <span style="color: #8ec07c;">(</span>age &lt; 60<span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
            alert<span style="color: #d65d0e;">(</span><span style="color: #b8bb26;">"&#22909;&#22909;&#24037;&#20316;"</span><span style="color: #d65d0e;">)</span>
        <span style="color: #8ec07c;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #8ec07c;">{</span>
            alert<span style="color: #d65d0e;">(</span><span style="color: #b8bb26;">"&#22909;&#22909;&#20241;&#24687;"</span><span style="color: #d65d0e;">)</span>
        <span style="color: #8ec07c;">}</span>
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
</pre>
</div>

</div>
</div>
</div>

<div id="outline-container-org3cdba04" class="outline-4">
<h4 id="org3cdba04"><span class="section-number-4">6.2.2.</span> Switch/Case</h4>
<div class="outline-text-4" id="text-6-2-2">
<p>
注意:
</p>
<ul class="org-ul">
<li>只是 if/else if 的一种简化方式，用来对某个变量的多个值进行匹配分支</li>
<li>它默认使用 <code>===</code> 进行判断，即既判断类型，又判断值</li>
<li>使用 <code>break</code> 跳出分支，使用 <code>default</code> 表示其他分支都不匹配的情况，可以省略</li>
</ul>

<div class="div" id="org7ded6dc">
<p>

</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">if</span> <span style="color: #458588;">(</span>age === 18<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"you should study"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #fb4933;">if</span> <span style="color: #458588;">(</span>age === 22<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"you should go to work"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #fb4933;">if</span> <span style="color: #458588;">(</span>age === 40<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#20320;&#20204;&#36763;&#33510;&#20102;"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #fb4933;">if</span> <span style="color: #458588;">(</span>age === 60<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"you should have a rest"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#25105;&#27809;&#26377;&#20160;&#20040;&#22909;&#25552;&#37266;&#20320;&#30340;"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span>
</pre>
</div>

<p>
:break:
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">switch</span><span style="color: #458588;">(</span>age<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
<span style="color: #fb4933;">case</span> 18:
    console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"you should study"</span><span style="color: #b16286;">)</span>
<span style="color: #fb4933;">case</span> 22:
    console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"you should go to work"</span><span style="color: #b16286;">)</span>
    <span style="color: #fb4933;">break</span>;
<span style="color: #fb4933;">case</span> 40:
    console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#24744;&#36763;&#33510;&#20102;"</span><span style="color: #b16286;">)</span>
    <span style="color: #fb4933;">break</span>;
<span style="color: #fb4933;">case</span> 60:
    console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"you should have a rest"</span><span style="color: #b16286;">)</span>
    <span style="color: #fb4933;">break</span>;
<span style="color: #fb4933;">default</span>:
    console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#25105;&#27809;&#26377;&#20160;&#20040;&#22909;&#25552;&#37266;&#20320;&#30340;"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">}</span>
</pre>
</div>

</div>
</div>
</div>

<div id="outline-container-org20e40e8" class="outline-4">
<h4 id="org20e40e8"><span class="section-number-4">6.2.3.</span> 三目运算</h4>
<div class="outline-text-4" id="text-6-2-3">
<ul class="org-ul">
<li>简短、快捷</li>
<li>没有 return，不能写复杂句式</li>
</ul>

<pre class="example">
BOOLEAN ? 分支1 : 分支2
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfb074e4" class="outline-3">
<h3 id="orgfb074e4"><span class="section-number-3">6.3.</span> 循环迭代</h3>
<div class="outline-text-3" id="text-6-3">
<ul class="org-ul">
<li>for</li>
<li>while</li>
<li>do while</li>
</ul>
</div>
</div>
</section>

<section id="outline-container-org714beee" class="outline-2">
<h2 id="org714beee"><span class="section-number-2">7.</span> 作用域及模块化</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org45f7362" class="outline-3">
<h3 id="org45f7362"><span class="section-number-3">7.1.</span> var: 古老的函数级别作用域</h3>
<div class="outline-text-3" id="text-7-1">
<p>
使用 var 定义的数据的作用域，是函数级别的! var 定义的变量会自动提升
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = 12;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">b</span> = <span style="color: #b8bb26;">"hello"</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">c</span> = <span style="color: #458588;">[</span>1, <span style="color: #b8bb26;">"x"</span><span style="color: #458588;">]</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">d</span> = <span style="color: #458588;">{</span> a: 1, b: 2<span style="color: #458588;">}</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">f</span> = <span style="color: #fb4933;">function</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span> alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"hello"</span><span style="color: #b16286;">)</span> <span style="color: #458588;">}</span>;
</pre>
</div>

<p>
例子:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">xxx</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">for</span> <span style="color: #b16286;">(</span><span style="color: #fb4933;">var</span> <span style="color: #83a598;">i</span> = 0; i &lt; 5; i++<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        setTimeout<span style="color: #8ec07c;">(</span><span style="color: #fb4933;">function</span><span style="color: #d65d0e;">()</span> <span style="color: #d65d0e;">{</span>
            console.log<span style="color: #458588;">(</span>i<span style="color: #458588;">)</span>;
        <span style="color: #d65d0e;">}</span>, 10<span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
xxx<span style="color: #458588;">()</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">5 &#20010; 5</span>

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">xxx</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">for</span> <span style="color: #b16286;">(</span><span style="color: #fb4933;">var</span> <span style="color: #83a598;">i</span> = 0; i &lt; 5; i++<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #8ec07c;">(</span><span style="color: #fb4933;">function</span> <span style="color: #d65d0e;">()</span> <span style="color: #d65d0e;">{</span>
            <span style="color: #fb4933;">var</span> <span style="color: #83a598;">j</span> = i;
            setTimeout<span style="color: #458588;">(</span><span style="color: #fb4933;">function</span><span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span>
                console.log<span style="color: #8ec07c;">(</span>j<span style="color: #8ec07c;">)</span>;
            <span style="color: #b16286;">}</span>, 10<span style="color: #458588;">)</span>;
        <span style="color: #d65d0e;">}</span><span style="color: #8ec07c;">)()</span>;
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
xxx<span style="color: #458588;">()</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">0 1 2 3 4</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3573acc" class="outline-3">
<h3 id="org3573acc"><span class="section-number-3">7.2.</span> let/const: 块级作用域的华丽登场</h3>
<div class="outline-text-3" id="text-7-2">
<p>
使用的优先级:
</p>
<ul class="org-ul">
<li>const &gt; let &gt; var</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">xxx</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">for</span> <span style="color: #b16286;">(</span><span style="color: #fb4933;">let</span> <span style="color: #83a598;">i</span> = 0; i &lt; 5; i++<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        setTimeout<span style="color: #8ec07c;">(</span><span style="color: #fb4933;">function</span><span style="color: #d65d0e;">()</span> <span style="color: #d65d0e;">{</span>
            console.log<span style="color: #458588;">(</span>i<span style="color: #458588;">)</span>;
        <span style="color: #d65d0e;">}</span>, 10<span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
xxx<span style="color: #458588;">()</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">0 1 2 3 4</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org23c1b96" class="outline-3">
<h3 id="org23c1b96"><span class="section-number-3">7.3.</span> &lt;script src="xxx.js"&gt; 划文件而治</h3>
<div class="outline-text-3" id="text-7-3">
<p>
如果代码量变大的话，会将其划分到不同的文件中:
</p>
<div class="org-src-container">
<pre class="src src-js">  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">c1.js</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">hello</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"hello"</span><span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">hi</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"hi"</span><span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">goOut</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"Out!!!!"</span><span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
</pre>
</div>

<p>
使用的时候:
</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span> <span style="color: #83a598;">src</span>=<span style="color: #b8bb26;">"c1.js"</span><span style="color: #458588;">&gt;&lt;</span>/<span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
  goOut<span style="color: #458588;">()</span>;
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
</pre>
</div>

<p>
利用函数级别的作用域，来避免命名空间的冲突和污染:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">c1</span> = <span style="color: #458588;">(</span><span style="color: #fb4933;">function</span> <span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span>
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">name</span> = <span style="color: #b8bb26;">"tom"</span>;

    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">hello</span> = <span style="color: #fb4933;">function</span><span style="color: #8ec07c;">()</span> <span style="color: #8ec07c;">{</span>
        alert<span style="color: #d65d0e;">(</span>name<span style="color: #d65d0e;">)</span>;
    <span style="color: #8ec07c;">}</span>
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">hi</span> = <span style="color: #fb4933;">function</span> <span style="color: #8ec07c;">()</span> <span style="color: #8ec07c;">{</span>
        alert<span style="color: #d65d0e;">(</span><span style="color: #b8bb26;">"hi"</span><span style="color: #d65d0e;">)</span>;
    <span style="color: #8ec07c;">}</span>
    <span style="color: #fb4933;">return</span> <span style="color: #8ec07c;">{</span>
        hello: hello,
        hi: hi
    <span style="color: #8ec07c;">}</span>
<span style="color: #b16286;">}</span><span style="color: #458588;">)()</span>;

c1.hi<span style="color: #458588;">()</span>;
</pre>
</div>

<p>
写法:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #458588;">(</span><span style="color: #fb4933;">function</span><span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span>
    console.log<span style="color: #8ec07c;">(</span>xxx<span style="color: #8ec07c;">)</span>;
<span style="color: #b16286;">}</span><span style="color: #458588;">)()</span>;

+<span style="color: #fb4933;">function</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span>xxx<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org942def2" class="outline-3">
<h3 id="org942def2"><span class="section-number-3">7.4.</span> 模块化的第三方解决方案 CommonJS/AMD</h3>
<div class="outline-text-3" id="text-7-4">
<p>
Asynchronous Module Definition.
</p>
</div>
</div>

<div id="outline-container-org9882ef3" class="outline-3">
<h3 id="org9882ef3"><span class="section-number-3">7.5.</span> 终于，在 ES6 中，推出了标准化的模块写法</h3>
<div class="outline-text-3" id="text-7-5">
<p>
两种语法:
</p>
<ol class="org-ol">
<li>模块文件中 export</li>
<li>在使用的地方 import</li>
</ol>

<p>
模块的定义:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">1. &#20808;&#22768;&#26126;&#65292;&#21518;&#36890;&#36807; export {} &#30340;&#26041;&#24335;&#36827;&#34892;&#23548;&#20986;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">name</span> = <span style="color: #b8bb26;">"tom"</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">hello</span> = <span style="color: #fb4933;">function</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span>name<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">setName</span> = <span style="color: #fb4933;">function</span><span style="color: #458588;">(</span><span style="color: #83a598;">name1</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    name = name1;
<span style="color: #458588;">}</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">hi</span> = <span style="color: #fb4933;">function</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"hi"</span><span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>;
<span style="color: #fb4933;">export</span> <span style="color: #458588;">{</span> hello, setName, name <span style="color: #458588;">}</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2. &#22312;&#22768;&#26126;&#30340;&#26102;&#20505;&#65292;&#39034;&#20415;&#23548;&#20986;</span>
<span style="color: #fb4933;">export</span> <span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = 3;
<span style="color: #fb4933;">export</span> <span style="color: #fb4933;">var</span> <span style="color: #83a598;">b</span> = <span style="color: #fb4933;">function</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"bbbbb"</span><span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">3. &#25105;&#20204;&#21487;&#20197;&#32473;&#20986;&#19968;&#20010;&#40664;&#35748;&#30340;&#23548;&#20986; (&#21487;&#36873;&#30340;&#65292;&#21482;&#21487;&#20197;&#32473;&#19968;&#20010;)</span>
<span style="color: #fb4933;">export</span> <span style="color: #fb4933;">default</span> <span style="color: #b8bb26;">"hello world"</span>;
</pre>
</div>

<p>
模块的引用:
</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span> <span style="color: #83a598;">type</span>=<span style="color: #b8bb26;">"module"</span><span style="color: #458588;">&gt;</span>
  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23548;&#20986;&#25152;&#38656;&#35201;&#30340;&#37096;&#20998;</span>
  <span style="color: #fb4933;">import</span> <span style="color: #458588;">{</span> hello, setName, b <span style="color: #458588;">}</span> from <span style="color: #b8bb26;">"./c1.js"</span>;
  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23548;&#20986;&#20840;&#37096; export &#30340;&#23450;&#20041;&#65292;&#24182;&#20351;&#29992; x.xxx &#26469;&#24341;&#29992;</span>
  <span style="color: #fb4933;">import</span> * as x from <span style="color: #b8bb26;">"./c1.js"</span>;
  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23558; export default &#30340;&#40664;&#35748;&#23548;&#20986;&#36171;&#20540;&#32473; y</span>
  <span style="color: #fb4933;">import</span> y from <span style="color: #b8bb26;">"./c1.js"</span>;
  <span style="color: #fb4933;">import</span> y from <span style="color: #b8bb26;">"./c1.js"</span>;
  <span style="color: #fb4933;">import</span> y from <span style="color: #b8bb26;">"./c1.js"</span>;
  y<span style="color: #458588;">()</span>;
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-org0583c2f" class="outline-2">
<h2 id="org0583c2f"><span class="section-number-2">8.</span> ES6 快速预览</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-org8a7f213" class="outline-3">
<h3 id="org8a7f213"><span class="section-number-3">8.1.</span> 对象的扩展</h3>
<div class="outline-text-3" id="text-8-1">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">const</span> <span style="color: #83a598;">name</span> = <span style="color: #b8bb26;">"tom"</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#26356;&#31616;&#27905;&#30340;&#23646;&#24615;&#23450;&#20041;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">user</span> = <span style="color: #458588;">{</span> <span style="color: #b8bb26;">"name"</span>: name <span style="color: #458588;">}</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">user</span> = <span style="color: #458588;">{</span> name: name <span style="color: #458588;">}</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">user</span> = <span style="color: #458588;">{</span> name <span style="color: #458588;">}</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">user</span> = <span style="color: #458588;">{</span> name, score, xxx, yyy <span style="color: #458588;">}</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#26356;&#31616;&#27905;&#30340;&#26041;&#27861;&#23450;&#20041;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">xxx</span> = <span style="color: #458588;">{</span>
    <span style="color: #fabd2f;">hello</span>: <span style="color: #fb4933;">function</span><span style="color: #b16286;">()</span> <span style="color: #b16286;">{}</span>,
    world<span style="color: #b16286;">()</span> <span style="color: #b16286;">{}</span>,
<span style="color: #458588;">}</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">key &#21487;&#20197;&#20351;&#29992;&#34920;&#36798;&#24335;&#21862;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">yyy</span> = <span style="color: #458588;">{</span>
    <span style="color: #b8bb26;">"aaa"</span>: 222,
    bbb: 333,

    <span style="color: #b16286;">[</span><span style="color: #b8bb26;">"abc"</span> + <span style="color: #b8bb26;">"123"</span><span style="color: #b16286;">]</span>: 444
<span style="color: #458588;">}</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#35775;&#38382;&#22120;&#23646;&#24615;&#23450;&#20041;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">zzz</span> = <span style="color: #458588;">{</span>
    id: 333,
    <span style="color: #fabd2f;">getId</span>: <span style="color: #fb4933;">function</span> <span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span> <span style="color: #fb4933;">return</span> id <span style="color: #b16286;">}</span>,

    get name<span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">return</span> <span style="color: #b8bb26;">"xxx"</span>;
    <span style="color: #b16286;">}</span>,
    set name<span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">return</span> <span style="color: #b8bb26;">"xxx"</span>;
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
zzz.name = <span style="color: #b8bb26;">"kkdk"</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">__proto__ &#24050;&#34987;&#26631;&#20934;&#21270;&#21862;&#65281;</span>
zzz.__proto__ = xxx;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">mmm</span> = <span style="color: #458588;">{</span>
    a: 1, b: 2, __proto__: zzz
<span style="color: #458588;">}</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">super &#21487;&#20197;&#35775;&#38382;&#21040;&#29240;&#29240;&#30340;&#25968;&#25454;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">mmm</span> = <span style="color: #458588;">{</span>
    a: 1,
    b: 2,
    __proto__: zzz,
    xxx<span style="color: #b16286;">()</span> <span style="color: #b16286;">{</span>
        console.log<span style="color: #8ec07c;">(</span><span style="color: #fb4933;">super</span>.name<span style="color: #8ec07c;">)</span>;
        console.log<span style="color: #8ec07c;">(</span>zzz.name<span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9a781df" class="outline-3">
<h3 id="org9a781df"><span class="section-number-3">8.2.</span> 块级作用域</h3>
<div class="outline-text-3" id="text-8-2">
<ul class="org-ul">
<li>let/const</li>
</ul>
</div>
</div>

<div id="outline-container-org5ed8df5" class="outline-3">
<h3 id="org5ed8df5"><span class="section-number-3">8.3.</span> 函数默认值</h3>
<div class="outline-text-3" id="text-8-3">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">xxx</span> <span style="color: #458588;">(</span><span style="color: #83a598;">score</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
  <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>!score<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
    score = 59;
  <span style="color: #b16286;">}</span>
  console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#24744;&#30340;&#20998;&#25968;&#20026;"</span> + score<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">xxx</span> <span style="color: #458588;">(</span><span style="color: #83a598;">score</span> = 59<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
  console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#24744;&#30340;&#20998;&#25968;&#20026;"</span> + score<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>

xxx<span style="color: #458588;">()</span>;
xxx<span style="color: #458588;">(</span>33<span style="color: #458588;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc1c91ae" class="outline-3">
<h3 id="orgc1c91ae"><span class="section-number-3">8.4.</span> spread/rest</h3>
<div class="outline-text-3" id="text-8-4">
<p>
扒衣服:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#26469;&#33258;&#25968;&#32452;&#30340;&#23637;&#24320;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">a</span> = <span style="color: #458588;">[</span>1, 2, 3<span style="color: #458588;">]</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">b</span> = a.concat<span style="color: #458588;">(</span><span style="color: #b16286;">[</span>4, 5, 6<span style="color: #b16286;">]</span><span style="color: #458588;">)</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">c</span> = <span style="color: #458588;">[</span>...a, 4, 5, 6<span style="color: #458588;">]</span>;    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">[1, 2, 3, 4, 5, 6]</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">d</span> = <span style="color: #458588;">[</span>4, ...a, 5, 6<span style="color: #458588;">]</span>;    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">[4, 1, 2, 3, 5, 6]</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#26469;&#33258;&#23545;&#35937;&#30340;&#23637;&#24320;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">person</span> = <span style="color: #458588;">{</span> xuexiao: <span style="color: #b8bb26;">"nfit"</span>, score: 0 <span style="color: #458588;">}</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">xiaoming</span> = Object.assign<span style="color: #458588;">(</span><span style="color: #b16286;">{</span> name: <span style="color: #b8bb26;">"xm"</span> <span style="color: #b16286;">}</span>, person<span style="color: #458588;">)</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">xiaohong</span> = <span style="color: #458588;">{</span> name: <span style="color: #b8bb26;">"xh"</span>, score: 60, ...person <span style="color: #458588;">}</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">xiaolan</span> = <span style="color: #458588;">{</span> name: <span style="color: #b8bb26;">"xl"</span>, ...person, score: 60 <span style="color: #458588;">}</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20256;&#21442;</span>
add<span style="color: #458588;">(</span>...<span style="color: #b16286;">[</span>10, 20, 30<span style="color: #b16286;">]</span><span style="color: #458588;">)</span>;
</pre>
</div>

<p>
穿衣服:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">arguments</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">xxx</span> <span style="color: #458588;">(</span><span style="color: #83a598;">m</span>, ...<span style="color: #83a598;">duogecansh</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
  console.log<span style="color: #b16286;">(</span>m<span style="color: #b16286;">)</span>;
  console.log<span style="color: #b16286;">(</span>duogecansh<span style="color: #b16286;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#34920;&#31034;&#20854;&#20182;&#30340;&#25152;&#26377;&#21442;&#25968;&#65292;&#26159;&#19968;&#20010;&#25968;&#32452; [2, 3, 4]</span>
<span style="color: #458588;">}</span>
xxx<span style="color: #458588;">(</span>1, 2, 3, 4<span style="color: #458588;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org0016d33" class="outline-3">
<h3 id="org0016d33"><span class="section-number-3">8.5.</span> destructuring</h3>
<div class="outline-text-3" id="text-8-5">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20174;&#25968;&#32452;&#20013;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">a</span> = <span style="color: #458588;">[</span>1, 2, 3<span style="color: #458588;">]</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">first</span> = a<span style="color: #458588;">[</span>0<span style="color: #458588;">]</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">third</span> = a<span style="color: #458588;">[</span>2<span style="color: #458588;">]</span>;
<span style="color: #fb4933;">let</span> <span style="color: #458588;">[</span><span style="color: #83a598;">yi</span>, <span style="color: #83a598;">_</span>, <span style="color: #83a598;">san</span><span style="color: #458588;">]</span> = <span style="color: #458588;">[</span>1, 2, 3<span style="color: #458588;">]</span>;
<span style="color: #fb4933;">let</span> <span style="color: #458588;">[</span><span style="color: #b16286;">[</span><span style="color: #83a598;">_</span>, <span style="color: #83a598;">yi</span><span style="color: #b16286;">]</span>, <span style="color: #83a598;">__</span>, <span style="color: #83a598;">san</span><span style="color: #458588;">]</span> = <span style="color: #458588;">[</span><span style="color: #b16286;">[</span><span style="color: #b8bb26;">'aaa'</span>, <span style="color: #b8bb26;">'bbb'</span><span style="color: #b16286;">]</span>, 2, 3<span style="color: #458588;">]</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20174;&#23545;&#35937;&#20013;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">xiaoming</span> = <span style="color: #458588;">{</span> name: <span style="color: #b8bb26;">"xm"</span>, score: 68, school: <span style="color: #b8bb26;">"nfit"</span> <span style="color: #458588;">}</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">name</span> = xiaoming.name;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">school</span> = xiaoming.school;
<span style="color: #fb4933;">let</span> <span style="color: #458588;">{</span> name, school <span style="color: #458588;">}</span> = <span style="color: #458588;">{</span> name: <span style="color: #b8bb26;">"xm"</span>, score: 68, school: <span style="color: #b8bb26;">"nfit"</span> <span style="color: #458588;">}</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20174;&#20989;&#25968;&#30340;&#36820;&#22238;&#20540;&#20013;&#30452;&#25509;&#33719;&#21462;&#38656;&#35201;&#30340;&#20540;</span>
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">xxx</span> = <span style="color: #458588;">()</span> =&gt; <span style="color: #458588;">[</span>1, 2<span style="color: #458588;">]</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">r1</span> = xxx<span style="color: #458588;">()[</span>0<span style="color: #458588;">]</span>;
<span style="color: #fb4933;">let</span> <span style="color: #458588;">[</span><span style="color: #83a598;">r2</span><span style="color: #458588;">]</span> = xxx<span style="color: #458588;">()</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">import &#20013;&#30340;&#20351;&#29992;</span>
<span style="color: #fb4933;">import</span> <span style="color: #458588;">{</span> Message, Loading <span style="color: #458588;">}</span> from <span style="color: #b8bb26;">"element-ui"</span>;
<span style="color: #fb4933;">import</span> xxx from <span style="color: #b8bb26;">"element-ui"</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">Message</span> = xxx.Message;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">Loading</span> = xxx.Loading;

<span style="color: #fb4933;">import</span> <span style="color: #458588;">{</span> Message, ...Qitade <span style="color: #458588;">}</span> from <span style="color: #b8bb26;">"element-ui"</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org6ac4229" class="outline-3">
<h3 id="org6ac4229"><span class="section-number-3">8.6.</span> Arrow Function</h3>
<div class="outline-text-3" id="text-8-6">
<ul class="org-ul">
<li>没有自己的 this，而是继承自其父作用域</li>
<li>call/apply/bind 也就变得对其无效</li>
<li>aruments/caller 之类的东西也不存在</li>
<li>不存在 prototype 属性</li>
<li>不能作为构造器</li>
<li>不能用作 Generator</li>
</ul>
</div>
</div>

<div id="outline-container-orgb9f196b" class="outline-3">
<h3 id="orgb9f196b"><span class="section-number-3">8.7.</span> 循环</h3>
<div class="outline-text-3" id="text-8-7">
<p>
传统的方式:
</p>
<ul class="org-ul">
<li><code>for(var i = 0; i...) {}</code></li>
<li><code>for (var x in xxx) { console.log(x, xxx[x]) }</code> 不建议大家使用: 不准确，效率低</li>
</ul>

<p>
ES6 中:
</p>
<ul class="org-ul">
<li>for..of: <code>for (let x of Object.keys(xxx)) { console.log(x) }</code></li>
<li>forEach: <code>[1, 2, 3, 4, 5].forEach(el =&gt; console.log(el))</code></li>
</ul>
</div>
</div>

<div id="outline-container-org4eadf92" class="outline-3">
<h3 id="org4eadf92"><span class="section-number-3">8.8.</span> 模板字符串</h3>
<div class="outline-text-3" id="text-8-8">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">let</span> <span style="color: #83a598;">name</span> = <span style="color: #b8bb26;">"world"</span>;
<span style="color: #fb4933;">let</span> <span style="color: #83a598;">a</span> = <span style="color: #b8bb26;">`hello ${name}`</span>;
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-org951c4ec" class="outline-2">
<h2 id="org951c4ec"><span class="section-number-2">9.</span> 其他</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-org07776e4" class="outline-3">
<h3 id="org07776e4"><span class="section-number-3">9.1.</span> 严格模式 (strict mode)</h3>
<div class="outline-text-3" id="text-9-1">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #b8bb26;">"use strict"</span>;
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">1. &#21464;&#37327;&#24517;&#39035;&#35201;&#20351;&#29992; var/let/const &#22768;&#26126;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2. with &#20351;&#29992;&#34987;&#31105;&#29992;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">3. &#24378;&#21046; eval &#20316;&#29992;&#22495;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">4. this &#19981;&#20877;&#25351;&#21521; window</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">5. &#36234;&#26435;&#25805;&#20316;&#30452;&#25509;&#24322;&#24120;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">6. &#19981;&#20801;&#35768; Object &#30340; key &#37325;&#22797;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">7. &#19981;&#20801;&#35768;&#21442;&#25968;&#37325;&#21517;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">8. &#31105;&#27490; 8 &#36827;&#21046;&#30340;&#35821;&#27861;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">9. &#20989;&#25968;&#24517;&#39035;&#22768;&#26126;&#22312;&#39030;&#23618;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">10...16</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6502229" class="outline-3">
<h3 id="org6502229"><span class="section-number-3">9.2.</span> 异常处理</h3>
<div class="outline-text-3" id="text-9-2">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">try</span> <span style="color: #458588;">{</span>
  <span style="color: #fb4933;">throw</span> <span style="color: #b16286;">{</span>
    name: <span style="color: #b8bb26;">"xxx"</span>,
    message: <span style="color: #b8bb26;">"yyy"</span>
  <span style="color: #b16286;">}</span>;
<span style="color: #458588;">}</span> <span style="color: #fb4933;">catch</span><span style="color: #458588;">(</span>e<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
  alert<span style="color: #b16286;">(</span>e.message<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span> <span style="color: #fb4933;">finally</span> <span style="color: #458588;">{</span>
<span style="color: #458588;">}</span>
</pre>
</div>

<p>
如果全局异常的话 (BOM)，强烈不建议使用:
</p>
<div class="org-src-container">
<pre class="src src-js">window.onerror = xxx;
window.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'error'</span>, xxx<span style="color: #458588;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org1ef9950" class="outline-3">
<h3 id="org1ef9950"><span class="section-number-3">9.3.</span> Object.defineProperty / Proxy</h3>
<div class="outline-text-3" id="text-9-3">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">data</span> = <span style="color: #458588;">{</span>
    friends: <span style="color: #b16286;">[</span><span style="color: #b8bb26;">"aa"</span>, <span style="color: #b8bb26;">"bb"</span><span style="color: #b16286;">]</span>
<span style="color: #458588;">}</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">Vue 2</span>

Object.defineProperty<span style="color: #458588;">(</span>data, <span style="color: #b8bb26;">"xxx"</span>, <span style="color: #b16286;">{</span>
    set<span style="color: #8ec07c;">(</span>v<span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
        console.log<span style="color: #d65d0e;">(</span><span style="color: #b8bb26;">"&#25105;&#35201;&#33719;&#21462;&#23427;&#30340;&#20540;"</span><span style="color: #d65d0e;">)</span>;
        <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#26681;&#25454;&#35774;&#32622;&#30340;&#20540;&#65292;&#21047;&#26032;&#39029;&#38754;</span>
        <span style="color: #d3869b;">this</span>._xxx = v;
    <span style="color: #8ec07c;">}</span>
<span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;

data.xxx = 3; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#25110;&#35302;&#21457;&#19978;&#36848;&#30340; get &#36923;&#36753;</span>
data.friends<span style="color: #458588;">[</span>1<span style="color: #458588;">]</span> = <span style="color: #b8bb26;">"A"</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">Vue 3</span>

<span style="color: #fb4933;">let</span> <span style="color: #83a598;">dataProxy</span> = <span style="color: #fb4933;">new</span> <span style="color: #d3869b;">Proxy</span><span style="color: #458588;">(</span>data, <span style="color: #b16286;">{</span>
    set<span style="color: #8ec07c;">(</span>target, key, value, reciever<span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
         <span style="color: #fb4933;">if</span> <span style="color: #d65d0e;">(</span>key === <span style="color: #b8bb26;">"friends"</span><span style="color: #d65d0e;">)</span> <span style="color: #d65d0e;">{</span>
           <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">....</span>
         <span style="color: #d65d0e;">}</span>
    <span style="color: #8ec07c;">}</span>
<span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;
data.friends<span style="color: #458588;">[</span>1<span style="color: #458588;">]</span> = <span style="color: #b8bb26;">"A"</span>;
dataProxy.friends<span style="color: #458588;">[</span>1<span style="color: #458588;">]</span> = <span style="color: #b8bb26;">"A"</span>;
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-org48a8035" class="outline-2">
<h2 id="org48a8035"><span class="section-number-2">10.</span> 问题集锦</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-org2f92193" class="outline-3">
<h3 id="org2f92193"><span class="section-number-3">10.1.</span> 运算符优先级</h3>
<div class="outline-text-3" id="text-10-1">
<p>
请说出下面运算的结果，并简析原因:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">v</span> = <span style="color: #b8bb26;">'hhh'</span>;
console.log<span style="color: #458588;">(</span><span style="color: #b8bb26;">"Value is "</span> + <span style="color: #b16286;">(</span>v === <span style="color: #b8bb26;">'hhhe'</span><span style="color: #b16286;">)</span> ? <span style="color: #b8bb26;">'Something'</span> : <span style="color: #b8bb26;">'Nothing'</span><span style="color: #458588;">)</span>;
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">console.log("Value is " + ((v === 'hhhe') ? 'Something' : 'Nothing'));</span>
</pre>
</div>

<details id="orgb58accc">
<p>
Something
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">1. &#20248;&#20808;&#32423;</span>
<span style="color: #7c6f64;">//    </span><span style="color: #7c6f64;">- &#23567;&#25324;&#21495;&#30340;&#20248;&#20808;&#32423;&#26159;&#26368;&#39640;&#30340;!</span>
<span style="color: #7c6f64;">//    </span><span style="color: #7c6f64;">- &#20056;&#38500;&#30340;&#20248;&#20808;&#32423;&#35201;&#27604;&#21152;&#20943;&#35201;&#39640;</span>
<span style="color: #7c6f64;">//    </span><span style="color: #7c6f64;">- &#19977;&#30446;&#36816;&#31639;&#31526;&#31639;&#20160;&#20040;&#19996;&#35199;&#65281;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2. JS &#26159;&#19968;&#31181;&#24369;&#31867;&#22411;&#30340;&#35821;&#35328;&#65292;</span>
<span style="color: #7c6f64;">///   </span><span style="color: #7c6f64;">&#25152;&#20197;&#30896;&#21040;&#19981;&#21305;&#37197;&#30340;&#31867;&#22411;&#30340;&#26102;&#20505;&#65292;&#23427;&#20250;&#23581;&#35797;&#33258;&#21160;&#36827;&#34892;&#31867;&#22411;&#36716;&#25442;</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#25972;&#20010;&#25191;&#34892;&#12289;&#35299;&#26512;&#39034;&#24207;&#22823;&#32422;&#22914;&#19979;:</span>
<span style="color: #b8bb26;">"Value is "</span> + <span style="color: #458588;">(</span>v === <span style="color: #b8bb26;">'hhhe'</span><span style="color: #458588;">)</span> ? <span style="color: #b8bb26;">'Something'</span> : <span style="color: #b8bb26;">'Nothing'</span>
<span style="color: #b8bb26;">"Value is "</span> + <span style="color: #d3869b;">false</span> ? <span style="color: #b8bb26;">'Something'</span> : <span style="color: #b8bb26;">'Nothing'</span>
<span style="color: #458588;">(</span><span style="color: #b8bb26;">"Value is "</span> + <span style="color: #d3869b;">false</span><span style="color: #458588;">)</span> ? <span style="color: #b8bb26;">'Something'</span> : <span style="color: #b8bb26;">'Nothing'</span>
<span style="color: #458588;">(</span><span style="color: #b8bb26;">"Value is "</span> + <span style="color: #b8bb26;">"false"</span><span style="color: #458588;">)</span> ? <span style="color: #b8bb26;">'Something'</span> : <span style="color: #b8bb26;">'Nothing'</span>
<span style="color: #b8bb26;">"Value is false"</span> ? <span style="color: #b8bb26;">'Something'</span> : <span style="color: #b8bb26;">'Nothing'</span>
<span style="color: #d3869b;">true</span> ? <span style="color: #b8bb26;">'Something'</span> : <span style="color: #b8bb26;">'Nothing'</span>
<span style="color: #b8bb26;">'Something'</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22240;&#27492;&#65292;&#25171;&#21360;&#20986;&#26469;&#30340;&#65292;&#21482;&#26377;:</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">Something</span>
</pre>
</div>
</details>
</div>
</div>

<div id="outline-container-orga9a6722" class="outline-3">
<h3 id="orga9a6722"><span class="section-number-3">10.2.</span> 正则表达式</h3>
<div class="outline-text-3" id="text-10-2">
<p>
请分别将下面字符串中的 <b>电话号码</b> 和 <b>邮箱地址*，使用 *正则表达式</b> 的形式，提取出来，并 <b>分别打印</b>:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">s</span> = <span style="color: #b8bb26;">'&#25105;&#30340;&#30005;&#35805;&#21495;&#30721;&#26159; 16776876543&#65292;&#25105;&#30340;&#37038;&#31665;&#26159; xxx@qq.com&#65292;&#35831;&#38543;&#26102;&#32852;&#31995;&#25105;&#12290;&#21542;&#21017;&#25171; 110.'</span>
</pre>
</div>

<details id="org20e5f93">
<ol class="org-ol">
<li>怎么提取电话号码
<ul class="org-ul">
<li><p>
到网上搜索 "js 正则表达式 电话号码"
</p>
<pre class="example">
/^1[34578]\d{9}$/
</pre></li>
<li><p>
使用得到的答案，解决问题:
</p>
<pre class="example">
s.match(/1[3456789]\d{9}/)[0]
</pre></li>
</ul></li>
<li>怎么提取邮箱地址
<ul class="org-ul">
<li><p>
到网上搜索 “JS 正则表达式 邮箱”
</p>
<pre class="example">
/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})^/
</pre></li>
<li><p>
使用得到的答案，修修补补，解决问题:
</p>
<pre class="example">
s.match(/([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})/)[0]
</pre></li>
</ul></li>
</ol>

<p>
总而言之:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">s</span> = <span style="color: #b8bb26;">'&#25105;&#30340;&#30005;&#35805;&#21495;&#30721;&#26159; 16776876543&#65292;&#25105;&#30340;&#37038;&#31665;&#26159; xxx@qq.com&#65292;&#35831;&#38543;&#26102;&#32852;&#31995;&#25105;&#12290;&#21542;&#21017;&#25171; 110.'</span>
console.log<span style="color: #458588;">(</span>s.match<span style="color: #b16286;">(</span><span style="color: #b8bb26;">/1[3456789]\d{9}/</span><span style="color: #b16286;">)[</span>0<span style="color: #b16286;">]</span><span style="color: #458588;">)</span>
console.log<span style="color: #458588;">(</span>s.match<span style="color: #b16286;">(</span><span style="color: #b8bb26;">/([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})/</span><span style="color: #b16286;">)[</span>0<span style="color: #b16286;">]</span><span style="color: #458588;">)</span>
</pre>
</div>

<p>
也可以使用分组捕获的方式:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">s</span> = <span style="color: #b8bb26;">'&#25105;&#30340;&#30005;&#35805;&#21495;&#30721;&#26159; 16776876543&#65292;&#25105;&#30340;&#37038;&#31665;&#26159; xxx@qq.com&#65292;&#35831;&#38543;&#26102;&#32852;&#31995;&#25105;&#12290;&#21542;&#21017;&#25171; 110.'</span>;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">r</span> = <span style="color: #b8bb26;">/(1[3-9]\d{9}).*?([a-zA-Z0-9_-]+@[a-zA-Z0-9]+\.[a-zA-Z0-9]+)/</span>.exec<span style="color: #458588;">(</span>s<span style="color: #458588;">)</span>;
console.log<span style="color: #458588;">(</span>r<span style="color: #b16286;">[</span>1<span style="color: #b16286;">]</span><span style="color: #458588;">)</span>
console.log<span style="color: #458588;">(</span>r<span style="color: #b16286;">[</span>2<span style="color: #b16286;">]</span><span style="color: #458588;">)</span>
</pre>
</div>
</details>
</div>
</div>

<div id="outline-container-org92de93c" class="outline-3">
<h3 id="org92de93c"><span class="section-number-3">10.3.</span> 从文件名取后缀名</h3>
<div class="outline-text-3" id="text-10-3">
<p>
从下面给出的文件名字符串中，提取后缀名:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">f</span> = <span style="color: #b8bb26;">"d:/home/software.d/xxx.a/xxx.jpg"</span>
</pre>
</div>

<details id="org363d7ba">
<p>
截取子字符串的方式:
</p>
<div class="org-src-container">
<pre class="src src-js">f.substring<span style="color: #458588;">(</span>f.lastIndexOf<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"."</span><span style="color: #b16286;">)</span> + 1<span style="color: #458588;">)</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#34920;&#31034;&#24207;&#21495;&#30340;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">1. indexOf</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2. lastIndexOf</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">3. search</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#34920;&#31034;&#23384;&#19981;&#23384;&#22312;&#30340;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">1. indexOf != -1</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2. search != -1</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">3. includes</span>
</pre>
</div>

<p>
正则表达式的方式:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">ext</span> = f.match<span style="color: #458588;">(</span><span style="color: #b8bb26;">/[a-zA-Z0-9]+$/</span><span style="color: #458588;">)[</span>0<span style="color: #458588;">]</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">ext</span> = f.match<span style="color: #458588;">(</span><span style="color: #b8bb26;">/\w+$/</span><span style="color: #458588;">)[</span>0<span style="color: #458588;">]</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22914;&#26524;&#33258;&#24049;&#23454;&#22312;&#19981;&#30693;&#36947;&#35813;&#24590;&#20040;&#20889;&#65306;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">1. &#25171;&#24320;&#27983;&#35272;&#22120;&#65292;&#36755;&#20837;&#20851;&#38190;&#35789;: JS &#27491;&#21017;&#34920;&#36798;&#24335; &#21518;&#32512;&#21517;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2. &#28857;&#20987;&#25628;&#32034;</span>
</pre>
</div>
</details>
</div>
</div>

<div id="outline-container-org5a4da91" class="outline-3">
<h3 id="org5a4da91"><span class="section-number-3">10.4.</span> undefine/null</h3>
<div class="outline-text-3" id="text-10-4">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #d3869b;">undefined</span> == <span style="color: #d3869b;">null</span>   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">true</span>
<span style="color: #d3869b;">undefined</span> === <span style="color: #d3869b;">null</span>  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">false</span>
<span style="color: #d3869b;">null</span> === <span style="color: #d3869b;">null</span>       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">true</span>
<span style="color: #d3869b;">undefined</span> === <span style="color: #d3869b;">undefined</span> <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">true</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgedfe05f" class="outline-3">
<h3 id="orgedfe05f"><span class="section-number-3">10.5.</span> 数字 + 字符串 + NaN</h3>
<div class="outline-text-3" id="text-10-5">
<div class="org-src-container">
<pre class="src src-js">3 + 5        <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">8</span>
3 + <span style="color: #b8bb26;">'5'</span>      <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">35</span>
<span style="color: #b8bb26;">'3'</span> + <span style="color: #b8bb26;">'5'</span>    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">35</span>
3 + 5 + <span style="color: #b8bb26;">'1'</span>  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">81</span>
3 + <span style="color: #b8bb26;">'5'</span> + 1  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">351</span>

3 * 5        <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">15</span>
3 * <span style="color: #b8bb26;">'5'</span>      <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">15</span>
<span style="color: #b8bb26;">'3'</span> * <span style="color: #b8bb26;">'5'</span>    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">15</span>
3 * 5 * <span style="color: #b8bb26;">'1'</span>  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">15</span>
3 * <span style="color: #b8bb26;">'5'</span> * 1  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">15</span>

<span style="color: #d3869b;">null</span> * 5     <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">0</span>
<span style="color: #458588;">[]</span> * 5       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">0</span>
<span style="color: #b8bb26;">""</span> * 5       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">0</span>
<span style="color: #d3869b;">undefined</span> * 5 <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">NaN</span>

5 * <span style="color: #b8bb26;">'hello'</span>   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">NaN</span>
Math.sqrt<span style="color: #458588;">(</span>-1<span style="color: #458588;">)</span> <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">NaN</span>
<span style="color: #d3869b;">NaN</span> * 5    
</pre>
</div>
</div>
</div>

<div id="outline-container-orgce8f6e2" class="outline-3">
<h3 id="orgce8f6e2"><span class="section-number-3">10.6.</span> 浮点数计算</h3>
<div class="outline-text-3" id="text-10-6">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = 0.1;
console.log<span style="color: #458588;">(</span>a<span style="color: #458588;">)</span>;

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">b</span> = 0.2;
console.log<span style="color: #458588;">(</span>b<span style="color: #458588;">)</span>;

<span style="color: #fb4933;">var</span> <span style="color: #83a598;">c</span> = a + b;
console.log<span style="color: #458588;">(</span>c<span style="color: #458588;">)</span>;

c == a + b
</pre>
</div>

<details id="orga0f5e47">
<p>
0.30000000000000004
</p>
</details>
</div>
</div>

<div id="outline-container-org5ea31ce" class="outline-3">
<h3 id="org5ea31ce"><span class="section-number-3">10.7.</span> 求取斐波那契数列的某项 [递归]</h3>
<div class="outline-text-3" id="text-10-7">
<p>
斐波那契数列，就是某一项的值，为前两项的和:
</p>
<pre class="example">
1 1 2 3 5 8 13 21 34 55 89 ...
</pre>


<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">fib</span> <span style="color: #458588;">(</span><span style="color: #83a598;">n</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>n === 1<span style="color: #b16286;">)</span> <span style="color: #fb4933;">return</span> 1;
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>n === 2<span style="color: #b16286;">)</span> <span style="color: #fb4933;">return</span> 1;
    <span style="color: #fb4933;">return</span> fib<span style="color: #b16286;">(</span>n-1<span style="color: #b16286;">)</span> + fib<span style="color: #b16286;">(</span>n-2<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
</pre>
</div>

<p>
请优化之。
</p>
</div>
</div>

<div id="outline-container-org819945b" class="outline-3">
<h3 id="org819945b"><span class="section-number-3">10.8.</span> 自增运算符</h3>
<div class="outline-text-3" id="text-10-8">
<p>
请解析下面的结果:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">a</span> = 2, <span style="color: #83a598;">b</span> = 3; c = 5;
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">d</span> = a+++b+++c++;
console.log<span style="color: #458588;">(</span>a, b, c, d<span style="color: #458588;">)</span>;
</pre>
</div>

<p>
提示:
</p>
<ul class="org-ul">
<li>运算符的优先级</li>
<li><code>++i</code> 跟 <code>i++</code> 的区别</li>
</ul>
</div>
</div>
</section>
</div>
<div id="postamble" class="status">
<p class="author">Author: 31415929</p>
<p class="date">Created: 2024-03-07</p>
<p class="validation">Go ahead, never stop.</p>
</div>
</body>
</html>
