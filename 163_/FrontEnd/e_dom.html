<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2024-03-07 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>DOM (文档对象模型)</title>
<meta name="author" content="31415929" />
<meta name="generator" content="Org Mode" />
<link rel='stylesheet' href='/asset/common.css?33442' />
<script src='https://cdn.bootcss.com/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdn.bootcss.com/bootstrap/3.3.4/js/bootstrap.min.js'></script>
<script src='/asset/common.js'></script>
</head>
<body>
<div id="content" class="content">
<header>
<h1 class="title">DOM (文档对象模型)</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orga26d800">1. 什么是 DOM</a></li>
<li><a href="#org8affdd1">2. 节点 (Node) 的基本操作</a>
<ul>
<li><a href="#org74f0169">2.1. 定位 (parent/child/sibling)</a></li>
<li><a href="#org9dac6ba">2.2. 修改 (nodeValue/innerText)</a></li>
<li><a href="#org001d2d3">2.3. 新建、附加 (document.createXxx/appendChild/insertBefore)</a></li>
<li><a href="#orge0e10ad">2.4. 替换、删除 (replaceChild/removeChild)</a></li>
<li><a href="#orgf3a530b">2.5. 其他</a></li>
</ul>
</li>
<li><a href="#org86df417">3. Element 节点</a>
<ul>
<li><a href="#orge3e14ec">3.1. 查找节点的传统方法</a></li>
<li><a href="#org2dcbdfa">3.2. CSS3 选择器 (querySelector/querySelectorAll)</a></li>
<li><a href="#org3104f40">3.3. appendChild/innerHTML/insertAdjacentHTML</a></li>
<li><a href="#org62c7410">3.4. attributes/setAttribute/getAttribute vs properties</a></li>
<li><a href="#org84291aa">3.5. scrollTo/scrollIntoView</a></li>
<li><a href="#org9760a55">3.6. [样式] style</a></li>
<li><a href="#orgdbe086d">3.7. [样式] classList</a></li>
<li><a href="#org87a8c65">3.8. [数据] dataset</a></li>
</ul>
</li>
<li><a href="#org1304086">4. 事件 (Event)</a>
<ul>
<li><a href="#org842537c">4.1. 定义的函数，什么时候会执行</a></li>
<li><a href="#orgf76777a">4.2. 事件定义</a></li>
<li><a href="#org21ba5f1">4.3. 事件对象</a></li>
<li><a href="#org3f0b941">4.4. 事件类型例子</a></li>
<li><a href="#org59e2ef0">4.5. 事件的传播机制</a></li>
<li><a href="#orgc3fe35f">4.6. [可选] 事件的委托、代理</a></li>
</ul>
</li>
<li><a href="#org9991b68">5. 一些 API 的示例</a>
<ul>
<li><a href="#orgd535ab2">5.1. 删除的示例</a></li>
</ul>
</li>
<li><a href="#orgfc12ec8">6. 案例分析 (DOM 节点的基本操作)</a>
<ul>
<li><a href="#orgaafb023">6.1. 在页面上创建一个按钮，然后点击的时候，动态向页面的某个位置，添加 input 输入框</a></li>
<li><a href="#orgab62197">6.2. 在上述的代码基础上，为每个 input 后面添加 <b>删除</b> 功能，点击后移除当前条目</a></li>
<li><a href="#orga51d01c">6.3. 在上面基础上，每个 input 后面再增加一个 <b>归档</b> 的操作，点击之后，此条目会被移动到下面的归档区域，且变得不能修改</a></li>
<li><a href="#orge231f4e">6.4. 在上述结果的基础上，为归档动作增加校验，保证 input 的值是合理的</a></li>
<li><a href="#orgadcf72f">6.5. alert 是万恶的，请将代码中的 alert 去除掉。提醒变为文字的方式</a></li>
</ul>
</li>
<li><a href="#orgb7d9d04">7. 案例分析 (添加商品)</a>
<ul>
<li><a href="#orgd018712">7.1. 页面分为两部分，一部分使用 input 提供信息输入，一部分用来显示添加后的列表</a></li>
<li><a href="#orga75e499">7.2. 将上述代码，使用 innerHTML 的方式，再实现一次</a></li>
<li><a href="#orge2af0d6">7.3. 为商品列表增加删除按钮</a></li>
<li><a href="#orge38f7ab">7.4. 增加 CheckBox，可以全选、取消选择、反向选择</a></li>
<li><a href="#org07fd7f7">7.5. 在上述 CheckBox 的基础上，增加删除所选项的功能</a></li>
<li><a href="#org225d211">7.6. 做完上述操作后的所有代码</a></li>
<li><a href="#org25cdbef">7.7. 上述操作的另一种解答</a></li>
</ul>
</li>
<li><a href="#orge53fd8b">8. 案例分析 (图片切换)</a>
<ul>
<li><a href="#orgf396904">8.1. 第一步</a></li>
<li><a href="#org9315d8b">8.2. 第二步</a></li>
<li><a href="#org3c5e451">8.3. 第三步</a></li>
<li><a href="#orgfdb1e83">8.4. 第四步</a></li>
<li><a href="#org1229ca6">8.5. 第五步</a></li>
<li><a href="#org9941a7d">8.6. 最终的代码</a></li>
</ul>
</li>
</ul>
</div>
</nav>



<section id="outline-container-orga26d800" class="outline-2">
<h2 id="orga26d800"><span class="section-number-2">1.</span> 什么是 DOM</h2>
<div class="outline-text-2" id="text-1">
<p>
DOM 树是有多个 Node (节点) 组成的，Node 又有很多 Child Node 组成的。
</p>


<figure id="org98497c2">
<img src="img/742px-DOM-model.svg_20200624_065310.png" alt="742px-DOM-model.svg_20200624_065310.png">

</figure>

<p>
节点分为若干的类型:
</p>
<ul class="org-ul">
<li>Document (9)，属于所有节点的祖宗 (Root)，又称根节点</li>
<li>Element (1)，代表了拥有孩子、属性的节点</li>
<li>Text (3)，文本节点</li>
<li>Attribute，属性节点，只属于 Element</li>
<li>Comment (8)，注释节点</li>
</ul>

<p>
节点的基本属性:
</p>
<ul class="org-ul">
<li>main.nodeType，节点的类型</li>
<li>main.nodeName，表示节点的名字</li>
<li>main.nodeValue，表示已节点的值</li>
</ul>
</div>
</section>

<section id="outline-container-org8affdd1" class="outline-2">
<h2 id="org8affdd1"><span class="section-number-2">2.</span> 节点 (Node) 的基本操作</h2>
<div class="outline-text-2" id="text-2">
<p>
示例 html 页面:
</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">section</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"main"</span><span style="color: #458588;">&gt;</span>
    we can put text here 1...
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">h1</span><span style="color: #458588;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">China</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">h1</span><span style="color: #458588;">&gt;</span>
    we can put text here 2...
    <span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">My comment ...</span><span style="color: #7c6f64;">  --&gt;</span>
    we can put text here 3...
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">p</span><span style="color: #458588;">&gt;</span>China is a popular country with...<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">p</span><span style="color: #458588;">&gt;</span>
    we can put text here 4...
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>See details<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
    we can put text here 5 ...
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">section</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
</pre>
</div>
</div>

<div id="outline-container-org74f0169" class="outline-3">
<h3 id="org74f0169"><span class="section-number-3">2.1.</span> 定位 (parent/child/sibling)</h3>
<div class="outline-text-3" id="text-2-1">
<p>
定位到节点的孩子、父亲、兄弟姐妹:
</p>
<div class="org-src-container">
<pre class="src src-js">m.childNodes;           <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#26469;&#26174;&#31034;&#25152;&#26377;&#30340;&#23401;&#23376;&#33410;&#28857;</span>
m.childNodes.length;
m.childNodes<span style="color: #458588;">[</span>2<span style="color: #458588;">]</span>;        <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20351;&#29992;&#31867;&#20284;&#25968;&#32452;&#25805;&#20316;&#30340;&#26041;&#24335;&#65292;&#26469;&#33719;&#21462;&#31532; N &#20010;&#23401;&#23376;&#33410;&#28857;</span>
m.firstChild/lastChild; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#24555;&#36895;&#33719;&#21462;&#31532;&#19968;&#20010;&#36319;&#26368;&#21518;&#19968;&#20010;&#23401;&#23376;</span>
m.parentNode;           <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#29241;</span>
m.childNodes<span style="color: #458588;">[</span>3<span style="color: #458588;">]</span>.prevSibling; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#19978;&#19968;&#20010;&#20804;&#24351;&#33410;&#28857;</span>
m.childNodes<span style="color: #458588;">[</span>3<span style="color: #458588;">]</span>.nextSibling; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#19978;&#19979;&#20010;&#20804;&#24351;&#33410;&#28857;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9dac6ba" class="outline-3">
<h3 id="org9dac6ba"><span class="section-number-3">2.2.</span> 修改 (nodeValue/innerText)</h3>
<div class="outline-text-3" id="text-2-2">
<p>
可以选取某个节点之后，直接对其进行修改:
</p>
<div class="org-src-container">
<pre class="src src-js">m.firstChild.nodeValue = <span style="color: #b8bb26;">'hello'</span>;
m.childNodes<span style="color: #458588;">[</span>1<span style="color: #458588;">]</span>.innerText = <span style="color: #b8bb26;">'Chinese'</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org001d2d3" class="outline-3">
<h3 id="org001d2d3"><span class="section-number-3">2.3.</span> 新建、附加 (document.createXxx/appendChild/insertBefore)</h3>
<div class="outline-text-3" id="text-2-3">
<p>
创建新的节点，然后将其附加给某个节点就可以了:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#28155;&#21152;&#19968;&#20010;&#27880;&#37322;&#33410;&#28857;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">c</span> = document.createComment<span style="color: #458588;">(</span><span style="color: #b8bb26;">'hahahaha'</span><span style="color: #458588;">)</span>;
m.appendChild<span style="color: #458588;">(</span>c<span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#28155;&#21152;&#19968;&#20010;&#25991;&#26412;&#33410;&#28857;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">t</span> = document.createTextNode<span style="color: #458588;">(</span><span style="color: #b8bb26;">'&#19990;&#30028;&#21644;&#24179;'</span><span style="color: #458588;">)</span>;
m.appendChild<span style="color: #458588;">(</span>t<span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#28155;&#21152;&#19968;&#20010;&#20803;&#32032;&#33410;&#28857;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&lt;h3 style="color: red"&gt;&#24744;&#22909;&lt;/h3&gt;</span>
<span style="color: #fb4933;">var</span> <span style="color: #83a598;">e</span> = document.createElement<span style="color: #458588;">(</span><span style="color: #b8bb26;">"h3"</span><span style="color: #458588;">)</span>;
e.innerText = <span style="color: #b8bb26;">"&#24744;&#22909;!"</span>;
e.setAttribute<span style="color: #458588;">(</span><span style="color: #b8bb26;">"style"</span>, <span style="color: #b8bb26;">"color: red"</span><span style="color: #458588;">)</span>;
m.insertBefore<span style="color: #458588;">(</span>e, m.childNodes<span style="color: #b16286;">[</span>6<span style="color: #b16286;">]</span><span style="color: #458588;">)</span>;
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">m.insertBefore(e, m.childNodes[6].nextSibling);</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge0e10ad" class="outline-3">
<h3 id="orge0e10ad"><span class="section-number-3">2.4.</span> 替换、删除 (replaceChild/removeChild)</h3>
<div class="outline-text-3" id="text-2-4">
<p>
替换、删除某个节点:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#24517;&#39035;&#65292;&#20174;&#29238;&#33410;&#28857;&#24320;&#22987;&#26367;&#25442;&#12289;&#21024;&#38500;</span>

m.replaceChild<span style="color: #458588;">(</span>e, m.childNodes<span style="color: #b16286;">[</span>1<span style="color: #b16286;">]</span><span style="color: #458588;">)</span>;
m.removeChild<span style="color: #458588;">(</span>m.childNodes<span style="color: #b16286;">[</span>6<span style="color: #b16286;">]</span><span style="color: #458588;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf3a530b" class="outline-3">
<h3 id="orgf3a530b"><span class="section-number-3">2.5.</span> 其他</h3>
<div class="outline-text-3" id="text-2-5">
<p>
cloneNode，请理解 clone 的意义:
</p>
<div class="div" id="org0b4202e">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">e</span> = document.createElement<span style="color: #458588;">(</span><span style="color: #b8bb26;">"h3"</span><span style="color: #458588;">)</span>;
e.innerText = <span style="color: #b8bb26;">"&#24744;&#22909;!"</span>;
m.appendChild<span style="color: #458588;">(</span>e<span style="color: #458588;">)</span>;
e.innerText = <span style="color: #b8bb26;">'hello'</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">e</span> = document.createElement<span style="color: #458588;">(</span><span style="color: #b8bb26;">"h3"</span><span style="color: #458588;">)</span>;
e.innerText = <span style="color: #b8bb26;">"&#24744;&#22909;!"</span>;
m.appendChild<span style="color: #458588;">(</span>e.cloneNode<span style="color: #b16286;">(</span><span style="color: #d3869b;">true</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>;
e.innerText = <span style="color: #b8bb26;">'hello'</span>;
</pre>
</div>

</div>
</div>
</div>
</section>

<section id="outline-container-org86df417" class="outline-2">
<h2 id="org86df417"><span class="section-number-2">3.</span> Element 节点</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orge3e14ec" class="outline-3">
<h3 id="orge3e14ec"><span class="section-number-3">3.1.</span> 查找节点的传统方法</h3>
<div class="outline-text-3" id="text-3-1">
<ul class="org-ul">
<li>document.getElementById，返回一个元素，根据 ID</li>
<li>document.getElementsByClassName，返回一个 HTMLCollection 对象，类似数组的东西，匹配的是 class</li>
<li>document.getElementsByTagName，返回跟上面一样，根据标签来获取</li>
</ul>

<p>
因为这些方法不够灵活，所以，出现了非常多的第三方框架，实现了另外的一些寻找节点的方式：
</p>
<ul class="org-ul">
<li>prototype.js</li>
<li>jQuery，简化了 dom 操作，其中代表，提供了寻找 dom 节点的方式</li>
</ul>
</div>
</div>

<div id="outline-container-org2dcbdfa" class="outline-3">
<h3 id="org2dcbdfa"><span class="section-number-3">3.2.</span> CSS3 选择器 (querySelector/querySelectorAll)</h3>
<div class="outline-text-3" id="text-3-2">
<p>
<a href="https://www.w3school.com.cn/cssref/css_selectors.asp">https://www.w3school.com.cn/cssref/css_selectors.asp</a>
</p>
<ul class="org-ul">
<li>node.querySelector，只返回一个</li>
<li>node.querySelectorAll，返回一个 NodeList 对象，类似 Array 的对象</li>
</ul>

<div class="org-src-container">
<pre class="src src-js">element.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">"div"</span><span style="color: #458588;">)</span>;
element.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">"#main"</span><span style="color: #458588;">)</span>;  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">document.getElementsById &#31561;&#21516;</span>
element.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">".xxx"</span><span style="color: #458588;">)</span>;
element.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">"div, span"</span><span style="color: #458588;">)</span>;
element.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">"div span"</span><span style="color: #458588;">)</span>;
element.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">"div + span"</span><span style="color: #458588;">)</span>;
element.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">"div &gt; span"</span><span style="color: #458588;">)</span>;
element.querySelectorAll<span style="color: #458588;">(</span><span style="color: #b8bb26;">"img"</span><span style="color: #458588;">)</span>;

document.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">'.outline-2'</span><span style="color: #458588;">)</span>.querySelectorAll<span style="color: #458588;">(</span><span style="color: #b8bb26;">'div'</span><span style="color: #458588;">)</span>;
</pre>
</div>

<p>
遍历 NodeList:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">var</span> <span style="color: #83a598;">divs</span> = document.querySelectorAll<span style="color: #458588;">(</span><span style="color: #b8bb26;">'div.xxx'</span><span style="color: #458588;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">NodeList</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">1</span>
<span style="color: #fb4933;">for</span> <span style="color: #458588;">(</span><span style="color: #fb4933;">var</span> <span style="color: #83a598;">i</span> = 0; i &lt; divs.length; i++<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span>divs<span style="color: #8ec07c;">[</span>i<span style="color: #8ec07c;">]</span><span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2, forEach &#30456;&#23545;&#26469;&#35828;&#65292;&#27983;&#35272;&#22120;&#25903;&#25345;&#24182;&#19981;&#26159;&#24456;&#22909;&#30340;</span>
divs.forEach<span style="color: #458588;">(</span>x =&gt; console.log<span style="color: #b16286;">(</span>x<span style="color: #b16286;">)</span><span style="color: #458588;">)</span>;
document.querySelectorAll<span style="color: #458588;">(</span><span style="color: #b8bb26;">'div'</span><span style="color: #458588;">)</span>.forEach<span style="color: #458588;">(</span>x =&gt; console.log<span style="color: #b16286;">(</span>x.className<span style="color: #b16286;">)</span><span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23545;&#20110;&#19981;&#25903;&#25345; forEach &#30340;&#27983;&#35272;&#22120;&#65292;&#25105;&#20204;&#21487;&#20197;&#25163;&#21160;&#20026; NodeList &#22686;&#21152;&#19968;&#20010; forEach &#26041;&#27861;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20026;&#27983;&#35272;&#22120;&#25171;&#34917;&#19969;</span>
NodeList.<span style="color: #d3869b;">prototype</span>.forEach = Array.<span style="color: #d3869b;">prototype</span>.forEach;
</pre>
</div>
</div>
</div>

<div id="outline-container-org3104f40" class="outline-3">
<h3 id="org3104f40"><span class="section-number-3">3.3.</span> appendChild/innerHTML/insertAdjacentHTML</h3>
<div class="outline-text-3" id="text-3-3">
<p>
如果想在某个节点下面，添加新的元素:
</p>
<ol class="org-ol">
<li>创建一个新的节点 (document.createXxx)</li>
<li>找到这个节点 (parentNode/&#x2026;/querySelector)</li>
<li>附加节点 (appendChild/insertBefore)</li>
</ol>

<div class="org-src-container">
<pre class="src src-js"> <span style="color: #fb4933;">var</span> <span style="color: #83a598;">table</span> = document.createElement<span style="color: #458588;">(</span><span style="color: #b8bb26;">'table'</span><span style="color: #458588;">)</span>;
 <span style="color: #fb4933;">var</span> <span style="color: #83a598;">thead</span> = document.createElement<span style="color: #458588;">(</span><span style="color: #b8bb26;">'tr'</span><span style="color: #458588;">)</span>;
 <span style="color: #fb4933;">for</span> <span style="color: #458588;">(</span><span style="color: #fb4933;">var</span> <span style="color: #83a598;">i</span> = 0; i &lt; 111; i++<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">td</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'td'</span><span style="color: #b16286;">)</span>;
    thead.appendChild<span style="color: #b16286;">(</span>td<span style="color: #b16286;">)</span>;
 <span style="color: #458588;">}</span>
table.appendChild<span style="color: #458588;">(</span>thead<span style="color: #458588;">)</span>;
 <span style="color: #fb4933;">var</span> <span style="color: #83a598;">tbody</span> = document.createElement<span style="color: #458588;">(</span><span style="color: #b8bb26;">'tr'</span><span style="color: #458588;">)</span>;
 <span style="color: #fb4933;">for</span> <span style="color: #458588;">(</span><span style="color: #fb4933;">var</span> <span style="color: #83a598;">i</span> = 0; i &lt; 111; i++<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">td</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'td'</span><span style="color: #b16286;">)</span>;
    tbody.appendChild<span style="color: #b16286;">(</span>td<span style="color: #b16286;">)</span>;
 <span style="color: #458588;">}</span>
table.appendChild<span style="color: #458588;">(</span>tbody<span style="color: #458588;">)</span>;
</pre>
</div>

<p>
使用 innerHTML 方式:
</p>
<ul class="org-ul">
<li>优点: 只需要考虑拼接字符串就可以了，简单快捷</li>
<li>缺点: 字符串的操作并不是一件相对愉悦的事情</li>
<li>选择合适的场景，使用合适的方法</li>
</ul>

<p>
使用 insertAdjacentHTML() 方法:
</p>
<ul class="org-ul">
<li>它可以看做是比较灵活的 innerHTML，它也是依据字符串的</li>
<li><p>
使用方式:
</p>
<div class="org-src-container">
<pre class="src src-js">div.insertAdjacentHTML<span style="color: #458588;">(</span><span style="color: #b8bb26;">'beforebegin|afterbegin|beforeend|afterend'</span>, str<span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">-&gt; beforebegin</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&lt;div&gt; begin &#26631;&#31614;</span>
<span style="color: #7c6f64;">//     </span><span style="color: #7c6f64;">-&gt; afterbegin</span>
<span style="color: #7c6f64;">//     </span><span style="color: #7c6f64;">...</span>
<span style="color: #7c6f64;">//     </span><span style="color: #7c6f64;">...</span>
<span style="color: #7c6f64;">//     </span><span style="color: #7c6f64;">-&gt; beforeend</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&lt;/div&gt; end &#26631;&#31614;</span>
<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">-&gt; afterend</span>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org62c7410" class="outline-3">
<h3 id="org62c7410"><span class="section-number-3">3.4.</span> attributes/setAttribute/getAttribute vs properties</h3>
<div class="outline-text-3" id="text-3-4">
<p>
属性节点的基本 API:
</p>
<ul class="org-ul">
<li>attributes 获取节点上所有的属性</li>
<li>getAttribute/setAttribute/hasAttribute 获取/设置某个属性</li>
<li>存在于此 <b>节点上</b> 的的属性，称为 Attribute 节点</li>
</ul>

<div class="org-src-container">
<pre class="src src-html"><span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"i3"</span> <span style="color: #83a598;">name</span>=<span style="color: #b8bb26;">"xxx"</span> <span style="color: #83a598;">hello</span>=<span style="color: #b8bb26;">"yyy"</span> <span style="color: #83a598;">ppp</span>=<span style="color: #b8bb26;">"qqq"</span> <span style="color: #83a598;">price</span>=<span style="color: #b8bb26;">"123"</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
  a.getAttribute<span style="color: #458588;">(</span><span style="color: #b8bb26;">'style'</span><span style="color: #458588;">)</span>
  a.setAttribute<span style="color: #458588;">(</span><span style="color: #b8bb26;">'style'</span>, <span style="color: #b8bb26;">'background: red, height: 100px'</span><span style="color: #458588;">)</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js">dom.setAttribute<span style="color: #458588;">(</span><span style="color: #b8bb26;">'style'</span>, <span style="color: #b8bb26;">'fontSize: 19pt'</span><span style="color: #458588;">)</span>;
console.log<span style="color: #458588;">(</span>dom.getAttribue<span style="color: #458588;">)</span>;
console.log<span style="color: #458588;">(</span>dom.style.color<span style="color: #458588;">)</span>;
</pre>
</div>

<p>
使用 JS 对象属性的方式进行访问:
</p>
<ul class="org-ul">
<li>domObj.property</li>
<li>某一些 node.Attribute 可以自动转化为 property，比如 id/class</li>
</ul>
</div>
</div>

<div id="outline-container-org84291aa" class="outline-3">
<h3 id="org84291aa"><span class="section-number-3">3.5.</span> scrollTo/scrollIntoView</h3>
<div class="outline-text-3" id="text-3-5">
<p>
滚动进视野。
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #fb4933;">!doctype</span> html&gt;
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">html</span> <span style="color: #83a598;">lang</span>=<span style="color: #b8bb26;">"en"</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">meta</span> <span style="color: #83a598;">charset</span>=<span style="color: #b8bb26;">"UTF-8"</span>/<span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">Document</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">style</span><span style="color: #458588;">&gt;</span>
     <span style="color: #fabd2f;">div</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">border</span>: 1px solid <span style="color: #ffffff; background-color: #ff0000;">red</span>;
       <span style="color: #fb4933;">height</span>: 300px;
     <span style="color: #458588;">}</span>
    <span style="color: #458588;">&lt;</span>/style<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>&#28378;&#21160;&#21040;&#31532; 4 &#20010;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"d1"</span><span style="color: #458588;">&gt;</span>
      111
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"d2"</span><span style="color: #458588;">&gt;</span>
      222
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"d3"</span><span style="color: #458588;">&gt;</span>
      333
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"d4"</span><span style="color: #458588;">&gt;</span>
      444
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"d5"</span><span style="color: #458588;">&gt;</span>
      555
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
     <span style="color: #fb4933;">var</span> <span style="color: #83a598;">b</span> = document.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">"button"</span><span style="color: #458588;">)</span>;
     b.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'click'</span>, <span style="color: #b16286;">(</span>ev<span style="color: #b16286;">)</span> =&gt; <span style="color: #b16286;">{</span>
       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">window.scrollTo(0, 500); // &#38656;&#35201;&#25163;&#21160;&#35745;&#31639;</span>
       document.querySelector<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"#d4"</span><span style="color: #8ec07c;">)</span>.scrollIntoView<span style="color: #8ec07c;">(</span><span style="color: #d3869b;">false</span><span style="color: #8ec07c;">)</span>;
     <span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;
    <span style="color: #458588;">&lt;</span>/script<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">html</span><span style="color: #458588;">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9760a55" class="outline-3">
<h3 id="org9760a55"><span class="section-number-3">3.6.</span> [样式] style</h3>
<div class="outline-text-3" id="text-3-6">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#24182;&#19981;&#22815;&#28789;&#27963;</span>
dom.setAttribute<span style="color: #458588;">(</span><span style="color: #b8bb26;">'style'</span>, <span style="color: #b8bb26;">'kkkkkkkkkkkkkkkkkkkkkkk'</span><span style="color: #458588;">)</span>;

<span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">property&#65292;&#32431;&#31929;&#23558;&#33410;&#28857;&#24403;&#25104;&#19968;&#20010; JS &#23545;&#35937;</span>
dom.style.color = <span style="color: #b8bb26;">'red'</span>;
dom.style.fontSize = <span style="color: #b8bb26;">'19pt'</span>;
dom.style.cssText = <span style="color: #b8bb26;">'color: red; font-size: 19pt'</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdbe086d" class="outline-3">
<h3 id="orgdbe086d"><span class="section-number-3">3.7.</span> [样式] classList</h3>
<div class="outline-text-3" id="text-3-7">
<ul class="org-ul">
<li>dom.getAttribute('class')</li>
<li>dom.className</li>
<li>dom.classList.add/remove/toggle/contains();</li>
</ul>

<div class="org-src-container">
<pre class="src src-js">dom.classList.add<span style="color: #458588;">(</span><span style="color: #b8bb26;">'aaa'</span><span style="color: #458588;">)</span>;
dom.classList.toggle<span style="color: #458588;">(</span><span style="color: #b8bb26;">'aaa'</span><span style="color: #458588;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org87a8c65" class="outline-3">
<h3 id="org87a8c65"><span class="section-number-3">3.8.</span> [数据] dataset</h3>
<div class="outline-text-3" id="text-3-8">
<div class="org-src-container">
<pre class="src src-html"><span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span> <span style="color: #83a598;">data-id</span>=<span style="color: #b8bb26;">"22"</span> <span style="color: #83a598;">data-price</span>=<span style="color: #b8bb26;">"32"</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"x"</span><span style="color: #458588;">&gt;&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
  x.dataset<span style="color: #458588;">[</span><span style="color: #b8bb26;">"id"</span><span style="color: #458588;">]</span>;
  x.dataset<span style="color: #458588;">[</span><span style="color: #b8bb26;">"price"</span><span style="color: #458588;">]</span> = 35;
  x.dataset.price;
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-org1304086" class="outline-2">
<h2 id="org1304086"><span class="section-number-2">4.</span> 事件 (Event)</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org842537c" class="outline-3">
<h3 id="org842537c"><span class="section-number-3">4.1.</span> 定义的函数，什么时候会执行</h3>
<div class="outline-text-3" id="text-4-1">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">xxx</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"hello"</span><span style="color: #b16286;">)</span>;
    alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"welcomle"</span><span style="color: #b16286;">)</span>;
    document.write<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"&#20320;&#22909;"</span><span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
</pre>
</div>

<p>
(1)亲自调用:
</p>
<div class="org-src-container">
<pre class="src src-js">xxx<span style="color: #458588;">()</span>; 
</pre>
</div>

<p>
(2)通过定时任务的方式，委托给浏览器调用:
</p>
<div class="org-src-container">
<pre class="src src-js">setTimeout<span style="color: #458588;">(</span>xxx, 3000<span style="color: #458588;">)</span>;
setInterval<span style="color: #458588;">(</span>xxx, 3000<span style="color: #458588;">)</span>;
</pre>
</div>

<p>
(3)通过事件的方式，委托给浏览器监听并触发调用:
</p>
<div class="org-src-container">
<pre class="src src-js">document.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">'button'</span><span style="color: #458588;">)</span>.onclick = xxx;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf76777a" class="outline-3">
<h3 id="orgf76777a"><span class="section-number-3">4.2.</span> 事件定义</h3>
<div class="outline-text-3" id="text-4-2">
<p>
用户在页面上的操作，有很多类型，比如:
</p>
<ul class="org-ul">
<li>鼠标的动作 (click/down/up/mouseover/mouseenter/mouseout)</li>
<li>键盘的动作 (keydown/keyup)</li>
<li>其他的动作 (copy/cut/paste)</li>
<li>DOM 节点的变化 (DOMContentReady/load/unload)</li>
</ul>

<p>
*事件*，就是让浏览器随时监控这些动作，如果动作发生了，就触发绑定在节点上的相关函数的执行。
</p>

<p>
所以，需要先在节点上绑定事件 (跟浏览器缔造触发事件的契约)，两种方式:
</p>
<ul class="org-ul">
<li>~onXxx~，属性
<ul class="org-ul">
<li>在每个 dom 节点上，都存在若干的 onxxx 属性，如果我们将此属性给赋值，然后契约就成立了</li>
<li>优点: 写法特别简单</li>
<li>缺点: 只能绑定一个函数；太粗糙了，功能太单薄了</li>
<li>尽量不要使用这种方式进行事件绑定，千万不要这样 <code>&lt;div onclick="xxx()"&gt;</code></li>
</ul></li>
<li>~dom.addEventListener()~，方法
<ul class="org-ul">
<li>可以绑定多个事件</li>
<li>可以随时移除事件</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org21ba5f1" class="outline-3">
<h3 id="org21ba5f1"><span class="section-number-3">4.3.</span> 事件对象</h3>
<div class="outline-text-3" id="text-4-3">
<p>
事件对象是通过事件函数的第一个参数的形式传递进去的:
</p>
<div class="org-src-container">
<pre class="src src-js">dom.onclick = <span style="color: #fb4933;">function</span> <span style="color: #458588;">(</span><span style="color: #83a598;">ev</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span>ev<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>;
dom.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'click'</span>, <span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">e</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
    console.log<span style="color: #8ec07c;">(</span>e<span style="color: #8ec07c;">)</span>;
<span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">xxx</span><span style="color: #458588;">(</span><span style="color: #83a598;">shijian</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    console.log<span style="color: #b16286;">(</span>shijian<span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
dom.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'click'</span>, xxx<span style="color: #458588;">)</span>;
</pre>
</div>

<p>
事件对象的属性:
</p>
<ul class="org-ul">
<li>e.altKey/shiftKey/ctrlKey</li>
<li>各种 x/y 坐标</li>
<li>e.target 事件源</li>
</ul>
</div>
</div>

<div id="outline-container-org3f0b941" class="outline-3">
<h3 id="org3f0b941"><span class="section-number-3">4.4.</span> 事件类型例子</h3>
<div class="outline-text-3" id="text-4-4">
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #fb4933;">!doctype</span> html&gt;
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">html</span> <span style="color: #83a598;">lang</span>=<span style="color: #b8bb26;">"en"</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">meta</span> <span style="color: #83a598;">charset</span>=<span style="color: #b8bb26;">"UTF-8"</span>/<span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">Document</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
     <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">window.addEventListener('load', ...)</span>
     window.onload = <span style="color: #fb4933;">function</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span> <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22996;&#25176;&#27983;&#35272;&#22120;&#65292;&#24403; window &#21152;&#36733;&#23436;&#25165;&#21435;&#25191;&#34892;&#19979;&#38754;&#36923;&#36753;</span>
       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">btn</span> = document.querySelector<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'button'</span><span style="color: #b16286;">)</span>;

       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#24120;&#29992;&#30340;&#40736;&#26631;&#20107;&#20214;</span>
       btn.onclick = <span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">e</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> alert<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#21834;&#65292;&#25105;&#34987;&#28857;&#20102;'</span><span style="color: #8ec07c;">)</span>; <span style="color: #b16286;">}</span>
       btn.onmouseenter = <span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">e</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#25105;&#34987; enter &#20102;'</span><span style="color: #8ec07c;">)</span>; <span style="color: #b16286;">}</span>
       btn.onmouseout = <span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">e</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#25105;&#34987; out &#20102;'</span><span style="color: #8ec07c;">)</span>; <span style="color: #b16286;">}</span>
       btn.onmouseup = <span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">e</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#25105;&#34987;&#24377;&#36215;&#26469;&#20102;'</span><span style="color: #8ec07c;">)</span>; <span style="color: #b16286;">}</span>
       btn.onmousedown = <span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">e</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#25105;&#34987;&#25353;&#19979;&#21435;&#20102;'</span><span style="color: #8ec07c;">)</span>; <span style="color: #b16286;">}</span>
       btn.onmouseover = <span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">e</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#25105;&#34987;&#28369;&#36807;&#22046;'</span><span style="color: #8ec07c;">)</span>; <span style="color: #b16286;">}</span>
       btn.onmouseleave = <span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">e</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#20320;&#36208;&#22909;'</span><span style="color: #8ec07c;">)</span>; <span style="color: #b16286;">}</span>
       btn.onmousemove = <span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">e</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#20320;&#22312;&#25105;&#19978;&#38754;&#31227;&#21160;&#21602;'</span><span style="color: #8ec07c;">)</span>; <span style="color: #b16286;">}</span>
       btn.onmousewheel = <span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">e</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
         console.log<span style="color: #8ec07c;">(</span>e<span style="color: #8ec07c;">)</span>;
       <span style="color: #b16286;">}</span>

       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#38190;&#30424;&#30340;&#28857;&#20987;&#20107;&#20214;</span>
       document.body.onkeydown = <span style="color: #b16286;">(</span>e<span style="color: #b16286;">)</span> =&gt; <span style="color: #b16286;">{</span>
         console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#25105;&#34987;&#25353;&#19979;&#21435;&#20102;'</span><span style="color: #8ec07c;">)</span>;
         console.log<span style="color: #8ec07c;">(</span>e<span style="color: #8ec07c;">)</span>;
       <span style="color: #b16286;">}</span>;
       document.body.onkeyup = <span style="color: #b16286;">(</span>e<span style="color: #b16286;">)</span> =&gt; <span style="color: #b16286;">{</span>
         console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#25105;&#34987;&#24377;&#36215;&#26469;&#20102;'</span><span style="color: #8ec07c;">)</span>;
         console.log<span style="color: #8ec07c;">(</span>e<span style="color: #8ec07c;">)</span>;
       <span style="color: #b16286;">}</span>;
       document.body.onkeypress = <span style="color: #b16286;">(</span>e<span style="color: #b16286;">)</span> =&gt; <span style="color: #b16286;">{</span>
         console.log<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#25105;&#34987;&#25353;&#20102;&#19968;&#19979;'</span><span style="color: #8ec07c;">)</span>;
         console.log<span style="color: #8ec07c;">(</span>e<span style="color: #8ec07c;">)</span>;
         <span style="color: #fb4933;">if</span> <span style="color: #8ec07c;">(</span>e.ctrlKey &amp;&amp; e.keyCode === 10<span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
           alert<span style="color: #d65d0e;">(</span><span style="color: #b8bb26;">"&#20320;&#30475;&#65292;enter &#34987;&#20320;&#25353;&#22351;&#20102;&#21543;?"</span><span style="color: #d65d0e;">)</span>;
         <span style="color: #8ec07c;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #fb4933;">if</span> <span style="color: #8ec07c;">(</span>e.keyCode === 13<span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
           btn.click<span style="color: #d65d0e;">()</span>;
         <span style="color: #8ec07c;">}</span>
       <span style="color: #b16286;">}</span>;

       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">dom &#33410;&#28857;&#30340; load &#20107;&#20214;</span>
       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">img</span> = document.querySelector<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'img'</span><span style="color: #b16286;">)</span>;
       img.addEventListener<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'load'</span>, <span style="color: #8ec07c;">(</span>e<span style="color: #8ec07c;">)</span> =&gt; <span style="color: #8ec07c;">{</span>
         alert<span style="color: #d65d0e;">(</span>e.target.src + <span style="color: #b8bb26;">' &#24050;&#32463;&#34987;&#21152;&#36733;&#23436;&#20102;'</span><span style="color: #d65d0e;">)</span>;
       <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span>;
       img.src = <span style="color: #b8bb26;">"https://tse1-mm.cn.bing.net/th/id/OIP.RUd94Zebp7W27HjJgzB7GgHaLI?pid=Api&amp;rs=1"</span>;
     <span style="color: #458588;">}</span>
    <span style="color: #458588;">&lt;</span>/script<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>&#28857;&#25105;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">img</span> <span style="color: #83a598;">style</span>=<span style="color: #b8bb26;">"width: 100px;height: 100px;"</span> <span style="color: #83a598;">src</span>=<span style="color: #b8bb26;">""</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">html</span><span style="color: #458588;">&gt;</span>
</pre>
</div>

<p>
补充:
</p>
<ul class="org-ul">
<li>input.onfocus 光标放上去的时候会咋样</li>
<li>input.onblur 当焦点失去的时候会咋样</li>
<li>input.onchange 当值发生变化的时候</li>
</ul>
</div>
</div>

<div id="outline-container-org59e2ef0" class="outline-3">
<h3 id="org59e2ef0"><span class="section-number-3">4.5.</span> 事件的传播机制</h3>
<div class="outline-text-3" id="text-4-5">
<p>
当你在浏览器渲染出来的某个节点上点击了一下，你点到了目标节点，同样也点到了它的爸爸、爸爸的爸爸&#x2026;，因为 DOM 是一种盒子模型。
</p>

<p>
那如果我们在某节点以及包含它的父节点上都绑定事件，按道理，这些事件都应该能被触发。
</p>

<p>
那处理的顺序怎样才合适?
</p>

<p>
现在的 DOM 标准是这样定义的:
</p>
<ol class="org-ol">
<li>如果你在某个元素节点上施加了一个动作 (比如，点击了某个按钮，click, div&gt;section&gt;button)</li>
<li>DOM 会将这个动作影响的所有节点排序 (Path: Body &gt; Div &gt; Section &gt; Button)</li>
<li>依次遍历上述节点，查找是否绑定了 useCapture = true 类型的事件函数，如果有，那么调用它</li>
<li>等遍历到事件源后再反向遍历各个节点，查找是否绑定了 useCapture = false 类型的事件函数，如果有，那么调用它</li>
</ol>

<p>
因此浏览器很忙，对你的每个动作，浏览器都会这样从外到内 (捕获)，再从内到外 (冒泡) 检查一遍，从而让该触发的事件函数被执行。
</p>

<p>
正因为这样，我们绑定到节点上的事件，分为两种类型:
</p>
<ol class="org-ol">
<li><p>
适用于捕获阶段被触发的事件，声明方式是这样的：
</p>
<pre class="example">
div.addEventListener('click', xxx, true);  // 绑定的这个点击事件，只有在捕获的阶段才可能被触发。一般来说比较少用。少用不代表无用。
</pre></li>
<li><p>
适用于冒泡节点被触发的事件，声明方式:
</p>
<pre class="example">
div.addEventListener('click', xxx);  // 默认情况，第三个参数为 false，那么这个事件只有在冒泡阶段才会被触发
div.onclick = xxx;                   // 通过 onxxx 绑定的事件，只有在冒泡的阶段才会有机会被触发
</pre></li>
</ol>



<figure id="org048587b">
<img src="img/dom-event-model.jpg" alt="dom-event-model.jpg">

</figure>

<div class="org-src-container">
<pre class="src src-html"><span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">article</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">section</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">ul</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">li</span><span style="color: #458588;">&gt;</span>xxx<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">li</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">li</span><span style="color: #458588;">&gt;</span>yyy<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">li</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">li</span><span style="color: #458588;">&gt;</span>zzz<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">li</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">ul</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">a</span> <span style="color: #83a598;">href</span>=<span style="color: #b8bb26;">"http://www.baidu.com"</span><span style="color: #458588;">&gt;</span>&#25105;&#26159;&#19968;&#20010;&#28843;&#37239;&#30340;&#36229;&#38142;&#25509;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">a</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">section</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">article</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20107;&#20214;&#30340;&#20256;&#25773;&#65292;&#20197;&#21450;&#25511;&#21046;&#20256;&#25773;</span>
  document.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">'div'</span><span style="color: #458588;">)</span>.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'click'</span>, <span style="color: #b16286;">(</span>e<span style="color: #b16286;">)</span> =&gt; alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'div &#34987;&#28857;&#20102;'</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>;
  document.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">'article'</span><span style="color: #458588;">)</span>.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'click'</span>, <span style="color: #b16286;">(</span>e<span style="color: #b16286;">)</span> =&gt; alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'article &#34987;&#28857;&#20102;'</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>;
  document.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">'section'</span><span style="color: #458588;">)</span>.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'click'</span>, <span style="color: #b16286;">(</span>e<span style="color: #b16286;">)</span> =&gt; alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'section &#34987;&#28857;&#20102;'</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>;
  document.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">'ul'</span><span style="color: #458588;">)</span>.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'click'</span>, <span style="color: #b16286;">(</span>e<span style="color: #b16286;">)</span> =&gt; <span style="color: #b16286;">{</span>
      alert<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'ul &#34987;&#28857;&#20102;'</span><span style="color: #8ec07c;">)</span>
      e.stopPropagation<span style="color: #8ec07c;">()</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#31105;&#27490;&#32487;&#32493;&#20256;&#25773;</span>
  <span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;
  document.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">'li'</span><span style="color: #458588;">)</span>.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'click'</span>, <span style="color: #b16286;">(</span>e<span style="color: #b16286;">)</span> =&gt; alert<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'li &#34987;&#28857;&#20102;'</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>;

  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#31105;&#27490;&#40664;&#35748;&#34892;&#20026;</span>
  document.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">'a'</span><span style="color: #458588;">)</span>.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'click'</span>, <span style="color: #b16286;">(</span>e<span style="color: #b16286;">)</span> =&gt; <span style="color: #b16286;">{</span>
      alert<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#24403;&#21069;&#30340;&#38142;&#25509;&#20026;: '</span> + e.target.href<span style="color: #8ec07c;">)</span>;
      e.preventDefault<span style="color: #8ec07c;">()</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#31105;&#27490;&#20107;&#20214;&#30340;&#40664;&#35748;&#34892;&#20026;</span>
  <span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
</pre>
</div>

<p>
记住:
</p>
<ul class="org-ul">
<li>e.stopPropagation();</li>
<li>e.preventDefault();</li>
</ul>
</div>
</div>

<div id="outline-container-orgc3fe35f" class="outline-3">
<h3 id="orgc3fe35f"><span class="section-number-3">4.6.</span> [可选] 事件的委托、代理</h3>
<div class="outline-text-3" id="text-4-6">
<blockquote>
<p>
这是一种 <b>常用</b> 的绑定事件的策略。虽然你不一定非得这么用，但很多时候它能让事情变得简化。
</p>
</blockquote>

<p>
将作用于元素的事件，委托给其父层节点，让父层节点检测事件来源，并作出适当反应:
</p>
<ul class="org-ul">
<li>绑定一次，便于维护和管理</li>
<li>如果子元素发生变化，不需要重新绑定事件</li>
<li>使用 event.target 定位事件源</li>
</ul>

<div class="org-src-container">
<pre class="src src-html"><span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">article</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">section</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">ul</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">li</span><span style="color: #458588;">&gt;</span>xxx<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">li</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">li</span> <span style="color: #83a598;">class</span>=<span style="color: #b8bb26;">"x"</span><span style="color: #458588;">&gt;</span>yyy<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">li</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">li</span><span style="color: #458588;">&gt;</span>aaa<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">li</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">li</span> <span style="color: #83a598;">class</span>=<span style="color: #b8bb26;">"x"</span><span style="color: #458588;">&gt;</span>bbb<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">li</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">li</span><span style="color: #458588;">&gt;</span>ccc<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">li</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">ul</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">h3</span><span style="color: #458588;">&gt;</span><span style="font-style: italic; text-decoration: underline;">&#20320;&#29468;&#28857;&#25105;&#20250;&#21643;&#26679;?</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">h3</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">section</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">article</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
 <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">var lis = document.querySelectorAll('li');</span>
 <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">for(var i = 0; i &lt; lis.length; i++) {</span>
 <span style="color: #7c6f64;">//   </span><span style="color: #7c6f64;">lis[i].onclick = (e) =&gt; {</span>
 <span style="color: #7c6f64;">//     </span><span style="color: #7c6f64;">alert(e.target.innerText);</span>
 <span style="color: #7c6f64;">//   </span><span style="color: #7c6f64;">};</span>
 <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">}</span>

 <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20107;&#20214;&#30340;&#22996;&#25176;</span>
 <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23558;&#20107;&#24773;&#65288;&#36131;&#20219;&#65289;&#29993;&#38149;&#32473;&#33258;&#24049;&#30340;&#29240;&#29240;&#25110;&#29239;&#29239;&#65292;&#33021;&#35753;&#33258;&#24049;&#26356;&#36731;&#26494;</span>
 document.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">'div'</span><span style="color: #458588;">)</span>.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'click'</span>, e =&gt; <span style="color: #b16286;">{</span>
   <span style="color: #fb4933;">if</span> <span style="color: #8ec07c;">(</span>e.target.classList.contains<span style="color: #d65d0e;">(</span><span style="color: #b8bb26;">'x'</span><span style="color: #d65d0e;">)</span><span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
     alert<span style="color: #d65d0e;">(</span>e.target.innerText<span style="color: #d65d0e;">)</span>; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">e.target &#20107;&#20214;&#28304;</span>
   <span style="color: #8ec07c;">}</span>
   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">else if (e.target....) ...</span>
 <span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-org9991b68" class="outline-2">
<h2 id="org9991b68"><span class="section-number-2">5.</span> 一些 API 的示例</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgd535ab2" class="outline-3">
<h3 id="orgd535ab2"><span class="section-number-3">5.1.</span> 删除的示例</h3>
<div class="outline-text-3" id="text-5-1">
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #fb4933;">!doctype</span> html&gt;
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">html</span> <span style="color: #83a598;">lang</span>=<span style="color: #b8bb26;">"en"</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">meta</span> <span style="color: #83a598;">charset</span>=<span style="color: #b8bb26;">"UTF-8"</span>/<span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">&#21024;&#38500;&#31034;&#20363;</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">table</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">tr</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>111<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span> <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>111<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span> <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>111<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span> <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>111<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"del(event)"</span><span style="color: #458588;">&gt;</span>&#21024;&#38500;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;&lt;</span>/<span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">tr</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">tr</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>222<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span> <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>222<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span> <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>222<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span> <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>222<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"del(event)"</span><span style="color: #458588;">&gt;</span>&#21024;&#38500;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;&lt;</span>/<span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">tr</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">tr</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>333<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span> <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>333<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span> <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>333<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span> <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>333<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"del(event)"</span><span style="color: #458588;">&gt;</span>&#21024;&#38500;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;&lt;</span>/<span style="color: #fabd2f;">td</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">tr</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">table</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">del</span><span style="color: #458588;">(</span><span style="color: #83a598;">event</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">[&#23450;&#20301;] &#26681;&#25454;&#20107;&#20214;&#21457;&#29983;&#30340;&#33410;&#28857;&#65292;&#23547;&#25214;&#25105;&#20204;&#35201;&#21435;&#25805;&#20316;&#30340;&#33410;&#28857;</span>
       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">node</span> = event.target.parentNode.parentNode;

       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">[&#25191;&#34892;&#21024;&#38500;]</span>
       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">node.remove();</span>
       node.parentNode.removeChild<span style="color: #b16286;">(</span>node<span style="color: #b16286;">)</span>;
     <span style="color: #458588;">}</span>

     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">delXuyaode</span><span style="color: #458588;">(</span><span style="color: #83a598;">text</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23450;&#20301;</span>
       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">trs</span> = document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'tr'</span><span style="color: #b16286;">)</span>;
       trs.forEach<span style="color: #b16286;">(</span><span style="color: #fb4933;">function</span><span style="color: #8ec07c;">(</span><span style="color: #83a598;">tr</span><span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
         <span style="color: #fb4933;">if</span> <span style="color: #d65d0e;">(</span>tr.children<span style="color: #458588;">[</span>0<span style="color: #458588;">]</span>.innerText == text<span style="color: #d65d0e;">)</span> <span style="color: #d65d0e;">{</span>
           <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21024;&#38500;</span>
           tr.parentNode.removeChild<span style="color: #458588;">(</span>tr<span style="color: #458588;">)</span>;
         <span style="color: #d65d0e;">}</span>
       <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span>;
     <span style="color: #458588;">}</span>
    <span style="color: #458588;">&lt;</span>/script<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">html</span><span style="color: #458588;">&gt;</span>
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-orgfc12ec8" class="outline-2">
<h2 id="orgfc12ec8"><span class="section-number-2">6.</span> 案例分析 (DOM 节点的基本操作)</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-orgaafb023" class="outline-3">
<h3 id="orgaafb023"><span class="section-number-3">6.1.</span> 在页面上创建一个按钮，然后点击的时候，动态向页面的某个位置，添加 input 输入框</h3>
<div class="outline-text-3" id="text-6-1">
<p>
理思路:
</p>
<ul class="org-ul">
<li>需要一个页面</li>
<li>页面上需要有一个按钮，还有一个区域</li>
<li>按钮可点击，点击触发事件</li>
<li>事件: 添加 input 元素节点，追加到上述区域</li>
</ul>

<p>
最后的代码:
</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">html</span> <span style="color: #83a598;">lang</span>=<span style="color: #b8bb26;">"en"</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">meta</span> <span style="color: #83a598;">charset</span>=<span style="color: #b8bb26;">"UTF-8"</span>/<span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">Document</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"chufadeshijian()"</span><span style="color: #458588;">&gt;</span>&#25105;&#26159;&#21487;&#20197;&#28857;&#20987;&#30340;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"iamaquyu"</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
      <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">chufadeshijian</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
          <span style="color: #fb4933;">var</span> <span style="color: #83a598;">div</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'div'</span><span style="color: #b16286;">)</span>;
          <span style="color: #fb4933;">var</span> <span style="color: #83a598;">input</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'input'</span><span style="color: #b16286;">)</span>;
          input.value = prompt<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'&#35831;&#36755;&#20837;&#21021;&#22987;&#20540;'</span><span style="color: #b16286;">)</span>;
          div.appendChild<span style="color: #b16286;">(</span>input<span style="color: #b16286;">)</span>;
          document.getElementById<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'iamaquyu'</span><span style="color: #b16286;">)</span>.appendChild<span style="color: #b16286;">(</span>div<span style="color: #b16286;">)</span>;
      <span style="color: #458588;">}</span>
    <span style="color: #458588;">&lt;</span>/script<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">html</span><span style="color: #458588;">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgab62197" class="outline-3">
<h3 id="orgab62197"><span class="section-number-3">6.2.</span> 在上述的代码基础上，为每个 input 后面添加 <b>删除</b> 功能，点击后移除当前条目</h3>
<div class="outline-text-3" id="text-6-2">
<p>
分析题目，我们每次添加的 input 应该是下面这种结构:
</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">input</span> <span style="color: #83a598;">value</span>=<span style="color: #b8bb26;">'xxx'</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>&#21024;&#38500;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">input</span> <span style="color: #83a598;">value</span>=<span style="color: #b8bb26;">'xxx'</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">'shanchu()'</span><span style="color: #458588;">&gt;</span>&#21024;&#38500;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
  <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">shanchu</span><span style="color: #458588;">(</span><span style="color: #83a598;">ev</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
      <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>confirm<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#26159;&#19981;&#26159;&#30830;&#23450;&#35201;&#21024;&#38500;?'</span><span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
         <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23450;&#20301;&#21040; button &#25152;&#22312;&#30340; div &#33410;&#28857;</span>
         <span style="color: #fb4933;">var</span> <span style="color: #83a598;">div</span> = ev.target.parentNode;
         <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23558;&#25972;&#20010; div &#33410;&#28857;&#21024;&#38500;&#25481;&#12290;&#20219;&#21153;&#23436;&#25104;</span>
         div.parentNode.removeChild<span style="color: #8ec07c;">(</span>div<span style="color: #8ec07c;">)</span>;
      <span style="color: #b16286;">}</span>
  <span style="color: #458588;">}</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
</pre>
</div>

<p>
所以，在上述的代码基础上，修改即可得到最后的效果:
</p>
<div class="org-src-container">
<pre class="src src-html">  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">html</span> <span style="color: #83a598;">lang</span>=<span style="color: #b8bb26;">"en"</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">meta</span> <span style="color: #83a598;">charset</span>=<span style="color: #b8bb26;">"UTF-8"</span>/<span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">Document</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"chufadeshijian()"</span><span style="color: #458588;">&gt;</span>&#25105;&#26159;&#21487;&#20197;&#28857;&#20987;&#30340;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"iamaquyu"</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">chufadeshijian</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">div</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'div'</span><span style="color: #b16286;">)</span>;

       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">input</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'input'</span><span style="color: #b16286;">)</span>;
       input.value = prompt<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'&#35831;&#36755;&#20837;&#21021;&#22987;&#20540;'</span><span style="color: #b16286;">)</span>;
       div.appendChild<span style="color: #b16286;">(</span>input<span style="color: #b16286;">)</span>;

       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22686;&#21152;&#30340;&#31532;&#19968;&#37096;&#20998;&#20195;&#30721;&#65306;&#26174;&#31034;&#19968;&#20010;&#32465;&#23450;&#20102;&#20107;&#20214;&#30340;&#21024;&#38500;&#25353;&#38062;</span>
       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">del</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'button'</span><span style="color: #b16286;">)</span>;
       del.innerText = <span style="color: #b8bb26;">'&#21024;&#38500;'</span>;
       del.onclick = shanchu;
       div.appendChild<span style="color: #b16286;">(</span>del<span style="color: #b16286;">)</span>;

       document.getElementById<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'iamaquyu'</span><span style="color: #b16286;">)</span>.appendChild<span style="color: #b16286;">(</span>div<span style="color: #b16286;">)</span>;
     <span style="color: #458588;">}</span>

     <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22686;&#21152;&#30340;&#31532;&#20108;&#37096;&#20998;&#20195;&#30721;&#65292;&#22788;&#29702;&#21024;&#38500;&#30340;&#36923;&#36753;</span>
     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">shanchu</span><span style="color: #458588;">(</span><span style="color: #83a598;">ev</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>confirm<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#26159;&#19981;&#26159;&#30830;&#23450;&#35201;&#21024;&#38500;?'</span><span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
         <span style="color: #fb4933;">var</span> <span style="color: #83a598;">div</span> = ev.target.parentNode;
         div.parentNode.removeChild<span style="color: #8ec07c;">(</span>div<span style="color: #8ec07c;">)</span>;
       <span style="color: #b16286;">}</span>
     <span style="color: #458588;">}</span>
    <span style="color: #458588;">&lt;</span>/script<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">html</span><span style="color: #458588;">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga51d01c" class="outline-3">
<h3 id="orga51d01c"><span class="section-number-3">6.3.</span> 在上面基础上，每个 input 后面再增加一个 <b>归档</b> 的操作，点击之后，此条目会被移动到下面的归档区域，且变得不能修改</h3>
<div class="outline-text-3" id="text-6-3">

<figure id="orgd0da7c1">
<img src="img/dom-arch.png.png" alt="dom-arch.png.png">

</figure>

<p>
代码为:
</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">html</span> <span style="color: #83a598;">lang</span>=<span style="color: #b8bb26;">"en"</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">meta</span> <span style="color: #83a598;">charset</span>=<span style="color: #b8bb26;">"UTF-8"</span>/<span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">Document</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"chufadeshijian()"</span><span style="color: #458588;">&gt;</span>&#25105;&#26159;&#21487;&#20197;&#28857;&#20987;&#30340;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"iamaquyu"</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

    <span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#22686;&#21152;&#30340;&#31532;&#20108;&#37096;&#20998;&#20195;&#30721;&#65292;&#24402;&#26723;&#21306;&#22495;</span><span style="color: #7c6f64;"> --&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"gdquyu"</span> <span style="color: #83a598;">style</span>=<span style="color: #b8bb26;">"border: 1px solid black; margin-top: 2em; padding: 1em;"</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">chufadeshijian</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">div</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'div'</span><span style="color: #b16286;">)</span>;

       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">input</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'input'</span><span style="color: #b16286;">)</span>;
       input.value = prompt<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'&#35831;&#36755;&#20837;&#21021;&#22987;&#20540;'</span><span style="color: #b16286;">)</span>;
       div.appendChild<span style="color: #b16286;">(</span>input<span style="color: #b16286;">)</span>;

       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">del</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'button'</span><span style="color: #b16286;">)</span>;
       del.style.marginLeft = <span style="color: #b8bb26;">'1em'</span>;
       del.innerText = <span style="color: #b8bb26;">'&#21024;&#38500;'</span>;
       del.onclick = shanchu;
       div.appendChild<span style="color: #b16286;">(</span>del<span style="color: #b16286;">)</span>;

       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22686;&#21152;&#30340;&#31532;&#19968;&#37096;&#20998;&#20195;&#30721;&#65292;&#22312;&#39029;&#38754;&#19978;&#28155;&#21152;&#24402;&#26723;&#25353;&#38062;</span>
       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">gd</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'button'</span><span style="color: #b16286;">)</span>;
       gd.style.marginLeft = <span style="color: #b8bb26;">'1em'</span>;
       gd.innerText = <span style="color: #b8bb26;">'&#24402;&#26723;'</span>;
       gd.onclick = doGuidang;
       div.appendChild<span style="color: #b16286;">(</span>gd<span style="color: #b16286;">)</span>;

       document.getElementById<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'iamaquyu'</span><span style="color: #b16286;">)</span>.appendChild<span style="color: #b16286;">(</span>div<span style="color: #b16286;">)</span>;
     <span style="color: #458588;">}</span>

     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">shanchu</span><span style="color: #458588;">(</span><span style="color: #83a598;">ev</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>confirm<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#26159;&#19981;&#26159;&#30830;&#23450;&#35201;&#21024;&#38500;?'</span><span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
         <span style="color: #fb4933;">var</span> <span style="color: #83a598;">div</span> = ev.target.parentNode;
         div.parentNode.removeChild<span style="color: #8ec07c;">(</span>div<span style="color: #8ec07c;">)</span>;
       <span style="color: #b16286;">}</span>
     <span style="color: #458588;">}</span>

     <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22686;&#21152;&#30340;&#31532;&#19977;&#37096;&#20998;&#20195;&#30721;&#65292;&#22788;&#29702;&#24402;&#26723;&#36923;&#36753;</span>
     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">doGuidang</span><span style="color: #458588;">(</span><span style="color: #83a598;">ev</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>confirm<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#26159;&#19981;&#26159;&#30830;&#23450;&#35201;&#24402;&#26723;?'</span><span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
         alert<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"todo: guidang"</span><span style="color: #8ec07c;">)</span>;
       <span style="color: #b16286;">}</span>
     <span style="color: #458588;">}</span>
    <span style="color: #458588;">&lt;</span>/script<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">html</span><span style="color: #458588;">&gt;</span>
</pre>
</div>

<p>
归档逻辑 1:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">doGuidang</span><span style="color: #458588;">(</span><span style="color: #83a598;">ev</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>confirm<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#26159;&#19981;&#26159;&#30830;&#23450;&#35201;&#24402;&#26723;?'</span><span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21019;&#24314;&#33410;&#28857;</span>
        <span style="color: #fb4933;">var</span> <span style="color: #83a598;">div1</span> = document.createElement<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'div'</span><span style="color: #8ec07c;">)</span>;
        document.getElementById<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'gdquyu'</span><span style="color: #8ec07c;">)</span>.appendChild<span style="color: #8ec07c;">(</span>div1<span style="color: #8ec07c;">)</span>;

        <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36807;&#32487;&#23401;&#23376;</span>
        <span style="color: #fb4933;">var</span> <span style="color: #83a598;">c</span> = ev.target.parentNode.childNodes<span style="color: #8ec07c;">[</span>0<span style="color: #8ec07c;">]</span>;
        c.readOnly = <span style="color: #d3869b;">true</span>;
        div1.appendChild<span style="color: #8ec07c;">(</span>c<span style="color: #8ec07c;">)</span>;

        <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21024;&#38500;&#25353;&#38062;</span>
        <span style="color: #fb4933;">var</span> <span style="color: #83a598;">div</span> = ev.target.parentNode;
        div.parentNode.removeChild<span style="color: #8ec07c;">(</span>div<span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
</pre>
</div>

<p>
归档逻辑 2:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">doGuidang</span><span style="color: #458588;">(</span><span style="color: #83a598;">ev</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>confirm<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#26159;&#19981;&#26159;&#30830;&#23450;&#35201;&#24402;&#26723;?'</span><span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">var</span> <span style="color: #83a598;">div</span> = ev.target.parentNode;

        <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">1. &#36807;&#32487;&#33410;&#28857;</span>
        document.getElementById<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"gdquyu"</span><span style="color: #8ec07c;">)</span>.appendChild<span style="color: #8ec07c;">(</span>div<span style="color: #8ec07c;">)</span>;

        <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">2. &#20462;&#25913;&#23376;&#33410;&#28857;</span>
        div.firstChild.readOnly = <span style="color: #d3869b;">true</span>;  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#31532; 1 &#20010;: &#21482;&#35835;</span>
        div.removeChild<span style="color: #8ec07c;">(</span>div.lastChild<span style="color: #8ec07c;">)</span>;  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#31532; 3 &#20010;: &#21024;&#38500;</span>
        div.removeChild<span style="color: #8ec07c;">(</span>div.lastChild<span style="color: #8ec07c;">)</span>;  <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#31532; 2 &#20010;: &#21024;&#38500;</span>
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge231f4e" class="outline-3">
<h3 id="orge231f4e"><span class="section-number-3">6.4.</span> 在上述结果的基础上，为归档动作增加校验，保证 input 的值是合理的</h3>
<div class="outline-text-3" id="text-6-4">
<ul class="org-ul">
<li>不能为空</li>
<li>必须是英文字母或数字</li>
<li>不能以数字开头</li>
<li>长度不能大于 10</li>
</ul>

<p>
只需要将归档逻辑更改为:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">doGuidang</span><span style="color: #458588;">(</span><span style="color: #83a598;">ev</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">div</span> = ev.target.parentNode;

    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#26657;&#39564;&#30340;&#36807;&#31243;</span>
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">input</span> = div.firstChild.value;
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>!input<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">return</span> alert<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"&#36755;&#20837;&#19981;&#33021;&#20026;&#31354;."</span><span style="color: #8ec07c;">)</span>
    <span style="color: #b16286;">}</span>
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>!<span style="color: #b8bb26;">/^[a-zA-Z][0-9a-zA-Z]{0,9}$/</span>.test<span style="color: #8ec07c;">(</span>input<span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">return</span> alert<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"&#36755;&#20837;&#26684;&#24335;&#26377;&#35823;."</span><span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span>

    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#24402;&#26723;&#30340;&#36807;&#31243;</span>
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>confirm<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#26159;&#19981;&#26159;&#30830;&#23450;&#35201;&#24402;&#26723;?'</span><span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#36807;&#32487;</span>
        document.getElementById<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"gdquyu"</span><span style="color: #8ec07c;">)</span>.appendChild<span style="color: #8ec07c;">(</span>div<span style="color: #8ec07c;">)</span>;

        <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#20462;&#34917;</span>
        div.firstChild.readOnly = <span style="color: #d3869b;">true</span>;
        div.removeChild<span style="color: #8ec07c;">(</span>div.lastChild<span style="color: #8ec07c;">)</span>;
        div.removeChild<span style="color: #8ec07c;">(</span>div.lastChild<span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgadcf72f" class="outline-3">
<h3 id="orgadcf72f"><span class="section-number-3">6.5.</span> alert 是万恶的，请将代码中的 alert 去除掉。提醒变为文字的方式</h3>
<div class="outline-text-3" id="text-6-5">

<figure id="orgbcdc840">
<img src="img/dom-arch-err.png" alt="dom-arch-err.png">

</figure>

<p>
这只是一个替换 alert 的示例而已，实际上的封装方法有很多。
</p>

<p>
此处仅供参考:
</p>

<div class="org-src-container">
<pre class="src src-html"><span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">html</span> <span style="color: #83a598;">lang</span>=<span style="color: #b8bb26;">"en"</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">meta</span> <span style="color: #83a598;">charset</span>=<span style="color: #b8bb26;">"UTF-8"</span> /<span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">Document</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
    <span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#22686;&#21152;&#30340;&#31532;&#19968;&#22359;&#20195;&#30721;&#65292;&#29992;&#26469;&#26174;&#31034;&#38169;&#35823;&#20449;&#24687;</span><span style="color: #7c6f64;"> --&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"err"</span> <span style="color: #83a598;">style</span>=<span style="color: #b8bb26;">"color: red; padding-bottom: 1em;"</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"chufadeshijian()"</span><span style="color: #458588;">&gt;</span>&#25105;&#26159;&#21487;&#20197;&#28857;&#20987;&#30340;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"iamaquyu"</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"gdquyu"</span> <span style="color: #83a598;">style</span>=<span style="color: #b8bb26;">"border: 1px solid black; margin-top: 2em; padding: 1em;"</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">chufadeshijian</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">div</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'div'</span><span style="color: #b16286;">)</span>;

       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">input</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'input'</span><span style="color: #b16286;">)</span>;
       input.value = prompt<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'&#35831;&#36755;&#20837;&#21021;&#22987;&#20540;'</span><span style="color: #b16286;">)</span>;
       div.appendChild<span style="color: #b16286;">(</span>input<span style="color: #b16286;">)</span>;

       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">del</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'button'</span><span style="color: #b16286;">)</span>;
       del.style.marginLeft = <span style="color: #b8bb26;">'1em'</span>;
       del.innerText = <span style="color: #b8bb26;">'&#21024;&#38500;'</span>;
       del.onclick = shanchu;
       div.appendChild<span style="color: #b16286;">(</span>del<span style="color: #b16286;">)</span>;

       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">gd</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'button'</span><span style="color: #b16286;">)</span>;
       gd.style.marginLeft = <span style="color: #b8bb26;">'1em'</span>;
       gd.innerText = <span style="color: #b8bb26;">'&#24402;&#26723;'</span>;
       gd.onclick = doGuidang;
       div.appendChild<span style="color: #b16286;">(</span>gd<span style="color: #b16286;">)</span>;

       document.getElementById<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'iamaquyu'</span><span style="color: #b16286;">)</span>.appendChild<span style="color: #b16286;">(</span>div<span style="color: #b16286;">)</span>;
     <span style="color: #458588;">}</span>

     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">shanchu</span><span style="color: #458588;">(</span><span style="color: #83a598;">ev</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>confirm<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#26159;&#19981;&#26159;&#30830;&#23450;&#35201;&#21024;&#38500;?'</span><span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
         <span style="color: #fb4933;">var</span> <span style="color: #83a598;">div</span> = ev.target.parentNode;
         div.parentNode.removeChild<span style="color: #8ec07c;">(</span>div<span style="color: #8ec07c;">)</span>;
       <span style="color: #b16286;">}</span>
     <span style="color: #458588;">}</span>

     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">doGuidang</span><span style="color: #458588;">(</span><span style="color: #83a598;">ev</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">div</span> = ev.target.parentNode;

       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#31532;&#19977;&#37096;&#20998;&#20195;&#30721;&#65292;&#23558; alert &#20462;&#25913;&#20026; myAlert</span>
       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">input</span> = div.firstChild.value;
       <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>!input<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
         <span style="color: #fb4933;">return</span> myAlert<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"&#36755;&#20837;&#19981;&#33021;&#20026;&#31354;."</span>, 3<span style="color: #8ec07c;">)</span>
       <span style="color: #b16286;">}</span>
       <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>!<span style="color: #b8bb26;">/^[a-zA-Z][0-9a-zA-Z]{0,9}$/</span>.test<span style="color: #8ec07c;">(</span>input<span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
         <span style="color: #fb4933;">return</span> myAlert<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"&#36755;&#20837;&#26684;&#24335;&#26377;&#35823;."</span>, 3<span style="color: #8ec07c;">)</span>;
       <span style="color: #b16286;">}</span>

       <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>confirm<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#26159;&#19981;&#26159;&#30830;&#23450;&#35201;&#24402;&#26723;?'</span><span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
         document.getElementById<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"gdquyu"</span><span style="color: #8ec07c;">)</span>.appendChild<span style="color: #8ec07c;">(</span>div<span style="color: #8ec07c;">)</span>;

         div.firstChild.readOnly = <span style="color: #d3869b;">true</span>;
         div.removeChild<span style="color: #8ec07c;">(</span>div.lastChild<span style="color: #8ec07c;">)</span>;
         div.removeChild<span style="color: #8ec07c;">(</span>div.lastChild<span style="color: #8ec07c;">)</span>;
       <span style="color: #b16286;">}</span>
     <span style="color: #458588;">}</span>

     <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#31532;&#20108;&#37096;&#20998;&#20195;&#30721;&#65292;&#22686;&#21152;&#19968;&#20010;&#33258;&#24049;&#23553;&#35013;&#30340;&#36923;&#36753;&#65292;myAlert</span>
     <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21487;&#36873;&#30340;&#31532;&#20108;&#20010;&#21442;&#25968;&#65292;&#22914;&#26524;&#25552;&#20379;&#20102;&#65292;&#37027;&#20040;&#20449;&#24687;&#20250;&#22312; timeout &#31186;&#21518;&#28040;&#22833;</span>
     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">myAlert</span><span style="color: #458588;">(</span><span style="color: #83a598;">mesg</span>, <span style="color: #83a598;">timeout</span> = 0<span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">err</span> = document.getElementById<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'err'</span><span style="color: #b16286;">)</span>;
       err.innerText = mesg;
       <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>timeout &gt; 0<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
         setTimeout<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"document.getElementById('err').innerText = ''"</span>, timeout * 1000<span style="color: #8ec07c;">)</span>;
       <span style="color: #b16286;">}</span>
     <span style="color: #458588;">}</span>
    <span style="color: #458588;">&lt;</span>/script<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">html</span><span style="color: #458588;">&gt;</span>
</pre>
</div>
</div>
</div>
</section>
<section id="outline-container-orgb7d9d04" class="outline-2">
<h2 id="orgb7d9d04"><span class="section-number-2">7.</span> 案例分析 (添加商品)</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-orgd018712" class="outline-3">
<h3 id="orgd018712"><span class="section-number-3">7.1.</span> 页面分为两部分，一部分使用 input 提供信息输入，一部分用来显示添加后的列表</h3>
<div class="outline-text-3" id="text-7-1">
<p>
效果图:
</p>


<figure id="org7c7c466">
<img src="img/dom-add-goods.png" alt="dom-add-goods.png">

</figure>

<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #fb4933;">!doctype</span> html&gt;
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">html</span> <span style="color: #83a598;">lang</span>=<span style="color: #b8bb26;">"en"</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">meta</span> <span style="color: #83a598;">charset</span>=<span style="color: #b8bb26;">"UTF-8"</span>/<span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">&#21830;&#21697;&#31649;&#29702;</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">style</span><span style="color: #458588;">&gt;</span>
      <span style="color: #fabd2f;">label</span> <span style="color: #458588;">{</span>
          <span style="color: #fb4933;">display</span>: block;
      <span style="color: #458588;">}</span>
      <span style="color: #fabd2f;">table</span> <span style="color: #458588;">{</span>
          <span style="color: #fb4933;">border-collapse</span>: collapse;
          <span style="color: #fb4933;">margin-top</span>: 1em;
      <span style="color: #458588;">}</span>
      <span style="color: #fabd2f;">table, th, td</span> <span style="color: #458588;">{</span>
          <span style="color: #fb4933;">border</span>: 1px solid <span style="color: #ffffff; background-color: #000000;">black</span>;
      <span style="color: #458588;">}</span>
      <span style="color: #fabd2f;">th, td</span> <span style="color: #458588;">{</span>
          <span style="color: #fb4933;">padding</span>: 5px 1em;
      <span style="color: #458588;">}</span>
    <span style="color: #458588;">&lt;</span>/style<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
    <span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#21830;&#21697;&#24405;&#20837;</span><span style="color: #7c6f64;"> --&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">section</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>&#21830;&#21697;&#21517;&#23383;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">input</span> <span style="color: #83a598;">name</span>=<span style="color: #b8bb26;">"goods_name"</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>&#21830;&#21697;&#20215;&#26684;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">input</span> <span style="color: #83a598;">name</span>=<span style="color: #b8bb26;">"goods_price"</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>&#21830;&#21697;&#25968;&#37327;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">input</span> <span style="color: #83a598;">name</span>=<span style="color: #b8bb26;">"goods_amount"</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"addGoods()"</span><span style="color: #458588;">&gt;</span>&#28155;&#21152;&#21830;&#21697;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">section</span><span style="color: #458588;">&gt;</span>

    <span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#21830;&#21697;&#21015;&#34920;</span><span style="color: #7c6f64;"> --&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">section</span> <span style="color: #83a598;">class</span>=<span style="color: #b8bb26;">"goods_list"</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">table</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">tr</span><span style="color: #458588;">&gt;</span>
          <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>&#21517;&#23383;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>
          <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>&#20215;&#26684;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>
          <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>&#25968;&#37327;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">tr</span><span style="color: #458588;">&gt;</span>
        <span style="color: #7c6f64;">&lt;!--</span>
<span style="color: #7c6f64;">        &lt;tr&gt;</span>
<span style="color: #7c6f64;">          &lt;td&gt;xx&lt;/td&gt;</span>
<span style="color: #7c6f64;">          &lt;td&gt;xxx&lt;/td&gt;</span>
<span style="color: #7c6f64;">          &lt;td&gt;xxxx&lt;/td&gt;</span>
<span style="color: #7c6f64;">        &lt;/tr&gt;</span>
<span style="color: #7c6f64;">        --&gt;</span>
      <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">table</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">section</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
      <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">addGoodsOrigin</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
          <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#33719;&#21462;&#36755;&#20837;&#30340;&#20449;&#24687;</span>
          <span style="color: #fb4933;">var</span> <span style="color: #83a598;">inputs</span> = document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'input'</span><span style="color: #b16286;">)</span>;
          <span style="color: #fb4933;">var</span> <span style="color: #83a598;">name</span> = inputs<span style="color: #b16286;">[</span>0<span style="color: #b16286;">]</span>.value;     <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">input &#20013;&#30340;&#21830;&#21697;&#21517;&#23383;</span>
          <span style="color: #fb4933;">var</span> <span style="color: #83a598;">price</span> = inputs<span style="color: #b16286;">[</span>1<span style="color: #b16286;">]</span>.value;    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">input &#20013;&#30340;&#21830;&#21697;&#20215;&#26684;</span>
          <span style="color: #fb4933;">var</span> <span style="color: #83a598;">amount</span> = inputs<span style="color: #b16286;">[</span>2<span style="color: #b16286;">]</span>.value;   <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">input &#20013;&#30340;&#21830;&#21697;&#25968;&#37327;</span>

          <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21019;&#24314;&#35201;&#28155;&#21152;&#30340; tr &#33410;&#28857;</span>
          <span style="color: #fb4933;">var</span> <span style="color: #83a598;">tr</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"tr"</span><span style="color: #b16286;">)</span>;

          <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22312; tr &#20013;&#28155;&#21152; td: &#21830;&#21697;&#21517;&#23383;</span>
          <span style="color: #fb4933;">let</span> <span style="color: #83a598;">td1</span> =  document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'td'</span><span style="color: #b16286;">)</span>;
          td1.innerText = name;
          tr.appendChild<span style="color: #b16286;">(</span>td1<span style="color: #b16286;">)</span>;

          <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22312; tr &#20013;&#28155;&#21152; td: &#21830;&#21697;&#20215;&#26684;</span>
          <span style="color: #fb4933;">let</span> <span style="color: #83a598;">td2</span> =  document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'td'</span><span style="color: #b16286;">)</span>;
          td2.innerText = price;
          tr.appendChild<span style="color: #b16286;">(</span>td2<span style="color: #b16286;">)</span>;

          <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22312; tr &#20013;&#28155;&#21152; td: &#21830;&#21697;&#25968;&#37327;</span>
          <span style="color: #fb4933;">let</span> <span style="color: #83a598;">td3</span> =  document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'td'</span><span style="color: #b16286;">)</span>;
          td3.innerText = amount;
          tr.appendChild<span style="color: #b16286;">(</span>td3<span style="color: #b16286;">)</span>;

          <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23558;&#32452;&#21512;&#22909;&#30340; tr &#36861;&#21152;&#36827; table:</span>
          document.querySelector<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'table'</span><span style="color: #b16286;">)</span>.appendChild<span style="color: #b16286;">(</span>tr<span style="color: #b16286;">)</span>;
      <span style="color: #458588;">}</span>

      <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">addGoods</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
          <span style="color: #fb4933;">var</span> <span style="color: #83a598;">tr</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"tr"</span><span style="color: #b16286;">)</span>;

          <span style="color: #fb4933;">var</span> <span style="color: #83a598;">inputs</span> = document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'input'</span><span style="color: #b16286;">)</span>;
          <span style="color: #fb4933;">for</span> <span style="color: #b16286;">(</span><span style="color: #fb4933;">let</span> <span style="color: #83a598;">i</span> = 0; i &lt; inputs.length; i++<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
              <span style="color: #fb4933;">let</span> <span style="color: #83a598;">td</span> =  document.createElement<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'td'</span><span style="color: #8ec07c;">)</span>;
              td.innerText = inputs<span style="color: #8ec07c;">[</span>i<span style="color: #8ec07c;">]</span>.value;
              tr.appendChild<span style="color: #8ec07c;">(</span>td<span style="color: #8ec07c;">)</span>;
              <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#28165;&#31354; input &#20013;&#30340;&#20540;</span>
              inputs<span style="color: #8ec07c;">[</span>i<span style="color: #8ec07c;">]</span>.value = <span style="color: #b8bb26;">''</span>;
          <span style="color: #b16286;">}</span>

          document.querySelector<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'table'</span><span style="color: #b16286;">)</span>.appendChild<span style="color: #b16286;">(</span>tr<span style="color: #b16286;">)</span>;

          <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#23558;&#28966;&#28857;&#25918;&#21040;&#21830;&#21697;&#21517;&#23383;&#30340; input &#19978;</span>
          inputs<span style="color: #b16286;">[</span>0<span style="color: #b16286;">]</span>.focus<span style="color: #b16286;">()</span>;
      <span style="color: #458588;">}</span>
    <span style="color: #458588;">&lt;</span>/script<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">html</span><span style="color: #458588;">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga75e499" class="outline-3">
<h3 id="orga75e499"><span class="section-number-3">7.2.</span> 将上述代码，使用 innerHTML 的方式，再实现一次</h3>
<div class="outline-text-3" id="text-7-2">
<p>
组装一个 tr:
</p>
<pre class="example">
&lt;tr&gt;&lt;td&gt;名字&lt;/td&gt;&lt;td&gt;价格&lt;/td&gt;&lt;td&gt;数量&lt;/td&gt;&lt;/tr&gt;
</pre>


<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">addGoods</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">tr</span> = <span style="color: #b8bb26;">"&lt;tr&gt;"</span>;

    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">inputs</span> = document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'input'</span><span style="color: #b16286;">)</span>;
    <span style="color: #fb4933;">for</span> <span style="color: #b16286;">(</span><span style="color: #fb4933;">let</span> <span style="color: #83a598;">i</span> = 0; i &lt; inputs.length; i++<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        tr += <span style="color: #b8bb26;">"&lt;td&gt;"</span>;
        tr += inputs<span style="color: #8ec07c;">[</span>i<span style="color: #8ec07c;">]</span>.value;
        tr += <span style="color: #b8bb26;">"&lt;/td&gt;"</span>;
        inputs<span style="color: #8ec07c;">[</span>i<span style="color: #8ec07c;">]</span>.value = <span style="color: #b8bb26;">''</span>;
    <span style="color: #b16286;">}</span>

    tr += <span style="color: #b8bb26;">"&lt;/tr&gt;"</span>;
    alert<span style="color: #b16286;">(</span>tr<span style="color: #b16286;">)</span>;

    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">table</span> = document.querySelector<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'table'</span><span style="color: #b16286;">)</span>;
    table.innerHTML = table.innerHTML + tr;
    inputs<span style="color: #b16286;">[</span>0<span style="color: #b16286;">]</span>.focus<span style="color: #b16286;">()</span>;
<span style="color: #458588;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge2af0d6" class="outline-3">
<h3 id="orge2af0d6"><span class="section-number-3">7.3.</span> 为商品列表增加删除按钮</h3>
<div class="outline-text-3" id="text-7-3">
<p>
HTML 部分:
</p>
<div class="org-src-container">
<pre class="src src-html">...
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">thead</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">tr</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>&#21517;&#23383;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>&#20215;&#26684;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>&#25968;&#37327;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>&#25805;&#20316;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">tr</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">thead</span><span style="color: #458588;">&gt;</span>
...
</pre>
</div>

<p>
JS 部分:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">addGoods</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">tr</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"tr"</span><span style="color: #b16286;">)</span>;

    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">inputs</span> = document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"input"</span><span style="color: #b16286;">)</span>;
    <span style="color: #fb4933;">for</span> <span style="color: #b16286;">(</span><span style="color: #fb4933;">let</span> <span style="color: #83a598;">i</span> = 0; i &lt; inputs.length; i++<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">let</span> <span style="color: #83a598;">td</span> = document.createElement<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"td"</span><span style="color: #8ec07c;">)</span>;
        td.innerText = inputs<span style="color: #8ec07c;">[</span>i<span style="color: #8ec07c;">]</span>.value;
        tr.appendChild<span style="color: #8ec07c;">(</span>td<span style="color: #8ec07c;">)</span>;
        inputs<span style="color: #8ec07c;">[</span>i<span style="color: #8ec07c;">]</span>.value = <span style="color: #b8bb26;">""</span>;
    <span style="color: #b16286;">}</span>

    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">delTr</span> = <span style="color: #b8bb26;">"&lt;td&gt;&lt;button onclick='del(event)'&gt;&#21024;&#38500;&lt;/button&gt;&lt;/td&gt;"</span>;
    tr.insertAdjacentHTML<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"beforeend"</span>, delTr<span style="color: #b16286;">)</span>;

    document.querySelector<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'tbody'</span><span style="color: #b16286;">)</span>.appendChild<span style="color: #b16286;">(</span>tr<span style="color: #b16286;">)</span>;
    inputs<span style="color: #b16286;">[</span>0<span style="color: #b16286;">]</span>.focus<span style="color: #b16286;">()</span>;
<span style="color: #458588;">}</span>

<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">del</span><span style="color: #458588;">(</span><span style="color: #83a598;">ev</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>confirm<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#26159;&#19981;&#26159;&#30830;&#23450;&#35201;&#21024;&#38500;?'</span><span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">var</span> <span style="color: #83a598;">tr</span> = ev.target.parentNode.parentNode;
        tr.parentNode.removeChild<span style="color: #8ec07c;">(</span>tr<span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge38f7ab" class="outline-3">
<h3 id="orge38f7ab"><span class="section-number-3">7.4.</span> 增加 CheckBox，可以全选、取消选择、反向选择</h3>
<div class="outline-text-3" id="text-7-4">
<p>
考察内容:
</p>
<ul class="org-ul">
<li>选择:
<ul class="org-ul">
<li><p>
所有的 input 节点:
</p>
<pre class="example">
document.querySelectorAll('input')
</pre></li>
<li><p>
所有的 checkbox 节点:
</p>
<pre class="example">
document.querySelectorAll('input[type=checkbox]')
document.querySelectorAll('[type=checkbox]')
</pre></li>
<li><p>
所有的被选中的 checkbox 节点:
</p>
<pre class="example">
document.querySelectorAll('input:checked')
document.querySelectorAll(':checked')
</pre></li>
</ul></li>
<li><p>
如何设置属性
</p>
<pre class="example">
checkboxNode.checked = false; // 将其取消选择
checkboxNode.checked = true; // 将其选中
</pre></li>
<li>如何通过遍历，去操作多个节点</li>
</ul>

<div class="org-src-container">
<pre class="src src-html"><span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"quanxuan()"</span><span style="color: #458588;">&gt;</span>&#20840;&#36873;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"buxuan()"</span><span style="color: #458588;">&gt;</span>&#19981;&#36873;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"fanxuan()"</span><span style="color: #458588;">&gt;</span>&#21453;&#36873;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">quanxuan</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'[type=checkbox]'</span><span style="color: #b16286;">)</span>.forEach<span style="color: #b16286;">(</span><span style="color: #fb4933;">function</span> <span style="color: #8ec07c;">(</span><span style="color: #83a598;">cb</span><span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
        cb.checked = <span style="color: #d3869b;">true</span>;
    <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">buxuan</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'[type=checkbox]'</span><span style="color: #b16286;">)</span>.forEach<span style="color: #b16286;">(</span><span style="color: #fb4933;">function</span> <span style="color: #8ec07c;">(</span><span style="color: #83a598;">cb</span><span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
        cb.checked = <span style="color: #d3869b;">false</span>;
    <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
<span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">fanxuan</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
    document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'[type=checkbox]'</span><span style="color: #b16286;">)</span>.forEach<span style="color: #b16286;">(</span><span style="color: #fb4933;">function</span> <span style="color: #8ec07c;">(</span><span style="color: #83a598;">cb</span><span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
        cb.checked = !cb.checked;
    <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span>;
<span style="color: #458588;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org07fd7f7" class="outline-3">
<h3 id="org07fd7f7"><span class="section-number-3">7.5.</span> 在上述 CheckBox 的基础上，增加删除所选项的功能</h3>
<div class="outline-text-3" id="text-7-5">
<p>
考察:
</p>
<ul class="org-ul">
<li>如何去定位某个节点</li>
<li>如何去删除某个节点</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">delSelect</span><span style="color: #458588;">(</span><span style="color: #83a598;">er</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">var</span> <span style="color: #83a598;">inputs</span> = document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">':checked'</span><span style="color: #b16286;">)</span>;
    <span style="color: #fb4933;">for</span> <span style="color: #b16286;">(</span><span style="color: #fb4933;">var</span> <span style="color: #83a598;">i</span> = 0; i &lt; inputs.length; i++<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">var</span> <span style="color: #83a598;">tr</span> = inputs<span style="color: #8ec07c;">[</span>i<span style="color: #8ec07c;">]</span>.parentNode.parentNode;
        tr.parentNode.removeChild<span style="color: #8ec07c;">(</span>tr<span style="color: #8ec07c;">)</span>;
    <span style="color: #b16286;">}</span>
<span style="color: #458588;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org225d211" class="outline-3">
<h3 id="org225d211"><span class="section-number-3">7.6.</span> 做完上述操作后的所有代码</h3>
<div class="outline-text-3" id="text-7-6">
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #fb4933;">!doctype</span> html&gt;
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">html</span> <span style="color: #83a598;">lang</span>=<span style="color: #b8bb26;">"en"</span><span style="color: #458588;">&gt;</span>

<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">meta</span> <span style="color: #83a598;">charset</span>=<span style="color: #b8bb26;">"UTF-8"</span> /<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">&#21830;&#21697;&#31649;&#29702;</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">style</span><span style="color: #458588;">&gt;</span>
    <span style="color: #fabd2f;">label</span> <span style="color: #458588;">{</span>
      <span style="color: #fb4933;">display</span>: block;
    <span style="color: #458588;">}</span>
    <span style="color: #fabd2f;">table</span> <span style="color: #458588;">{</span>
      <span style="color: #fb4933;">border-collapse</span>: collapse;
      <span style="color: #fb4933;">margin-top</span>: 1em;
    <span style="color: #458588;">}</span>
    <span style="color: #fabd2f;">table, th, td</span> <span style="color: #458588;">{</span>
      <span style="color: #fb4933;">border</span>: 1px solid <span style="color: #ffffff; background-color: #000000;">black</span>;
    <span style="color: #458588;">}</span>
    <span style="color: #fabd2f;">th, td</span> <span style="color: #458588;">{</span>
      <span style="color: #fb4933;">padding</span>: 5px 1em;
    <span style="color: #458588;">}</span>
    <span style="color: #fabd2f;">.goods_new &gt; label &gt; span</span> <span style="color: #458588;">{</span>
      <span style="color: #fb4933;">color</span>: <span style="color: #ffffff; background-color: #009900;">#009900</span>;
      <span style="color: #fb4933;">margin-right</span>: 10px;
    <span style="color: #458588;">}</span>
  <span style="color: #458588;">&lt;</span>/style<span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>

<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>

  <span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#21830;&#21697;&#24405;&#20837;</span><span style="color: #7c6f64;"> --&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">section</span> <span style="color: #83a598;">class</span>=<span style="color: #b8bb26;">"goods_new"</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>&#21830;&#21697;&#21517;&#23383;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">input</span> <span style="color: #83a598;">name</span>=<span style="color: #b8bb26;">"goods_name"</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>&#21830;&#21697;&#20215;&#26684;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">input</span> <span style="color: #83a598;">name</span>=<span style="color: #b8bb26;">"goods_price"</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>&#21830;&#21697;&#25968;&#37327;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">input</span> <span style="color: #83a598;">name</span>=<span style="color: #b8bb26;">"goods_amount"</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"addGoods()"</span><span style="color: #458588;">&gt;</span>&#28155;&#21152;&#21830;&#21697;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">section</span><span style="color: #458588;">&gt;</span>

  <span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#21830;&#21697;&#21015;&#34920;</span><span style="color: #7c6f64;"> --&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"quanxuan()"</span><span style="color: #458588;">&gt;</span>&#20840;&#36873;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"buxuan()"</span><span style="color: #458588;">&gt;</span>&#19981;&#36873;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"fanxuan()"</span><span style="color: #458588;">&gt;</span>&#21453;&#36873;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"delSelect()"</span><span style="color: #458588;">&gt;</span>&#21024;&#38500;&#25152;&#26377;&#36873;&#25321;&#39033;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">section</span> <span style="color: #83a598;">class</span>=<span style="color: #b8bb26;">"goods_list"</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">table</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">thead</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">tr</span><span style="color: #458588;">&gt;</span>
          <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;&lt;</span>/<span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>
          <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>&#21517;&#23383;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>
          <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>&#20215;&#26684;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>
          <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>&#25968;&#37327;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>
          <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>&#25805;&#20316;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">tr</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">thead</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">tbody</span><span style="color: #458588;">&gt;</span>
        <span style="color: #7c6f64;">&lt;!--</span>
<span style="color: #7c6f64;">        &lt;tr&gt;</span>
<span style="color: #7c6f64;">          &lt;td&gt;xx&lt;/td&gt;</span>
<span style="color: #7c6f64;">          &lt;td&gt;xxx&lt;/td&gt;</span>
<span style="color: #7c6f64;">          &lt;td&gt;xxxx&lt;/td&gt;</span>
<span style="color: #7c6f64;">        &lt;/tr&gt;</span>
<span style="color: #7c6f64;">        --&gt;</span>
      <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">tbody</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">table</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">section</span><span style="color: #458588;">&gt;</span>

  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
    <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">addGoods</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
      <span style="color: #fb4933;">var</span> <span style="color: #83a598;">tr</span> = document.createElement<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"tr"</span><span style="color: #b16286;">)</span>;

      tr.insertAdjacentHTML<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'afterbegin'</span>, <span style="color: #b8bb26;">'&lt;td&gt;&lt;input type="checkbox"&gt;&lt;/td&gt;'</span><span style="color: #b16286;">)</span>;

      <span style="color: #fb4933;">var</span> <span style="color: #83a598;">inputs</span> = document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">".goods_new input"</span><span style="color: #b16286;">)</span>;
      <span style="color: #fb4933;">for</span> <span style="color: #b16286;">(</span><span style="color: #fb4933;">let</span> <span style="color: #83a598;">i</span> = 0; i &lt; inputs.length; i++<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">let</span> <span style="color: #83a598;">td</span> = document.createElement<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"td"</span><span style="color: #8ec07c;">)</span>;
        td.innerText = inputs<span style="color: #8ec07c;">[</span>i<span style="color: #8ec07c;">]</span>.value;
        tr.appendChild<span style="color: #8ec07c;">(</span>td<span style="color: #8ec07c;">)</span>;
        inputs<span style="color: #8ec07c;">[</span>i<span style="color: #8ec07c;">]</span>.value = <span style="color: #b8bb26;">""</span>;
      <span style="color: #b16286;">}</span>

      <span style="color: #fb4933;">var</span> <span style="color: #83a598;">delTr</span> = <span style="color: #b8bb26;">"&lt;td&gt;&lt;button onclick='del(event)'&gt;&#21024;&#38500;&lt;/button&gt;&lt;/td&gt;"</span>;
      tr.insertAdjacentHTML<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"beforeend"</span>, delTr<span style="color: #b16286;">)</span>;

      document.querySelector<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'tbody'</span><span style="color: #b16286;">)</span>.appendChild<span style="color: #b16286;">(</span>tr<span style="color: #b16286;">)</span>;
      inputs<span style="color: #b16286;">[</span>0<span style="color: #b16286;">]</span>.focus<span style="color: #b16286;">()</span>;
    <span style="color: #458588;">}</span>

    <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">del</span><span style="color: #458588;">(</span><span style="color: #83a598;">ev</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
      <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>confirm<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#26159;&#19981;&#26159;&#30830;&#23450;&#35201;&#21024;&#38500;?'</span><span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">var</span> <span style="color: #83a598;">tr</span> = ev.target.parentNode.parentNode;
        tr.parentNode.removeChild<span style="color: #8ec07c;">(</span>tr<span style="color: #8ec07c;">)</span>;
      <span style="color: #b16286;">}</span>
    <span style="color: #458588;">}</span>

    <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">quanxuan</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
      document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'[type=checkbox]'</span><span style="color: #b16286;">)</span>.forEach<span style="color: #b16286;">(</span><span style="color: #fb4933;">function</span> <span style="color: #8ec07c;">(</span><span style="color: #83a598;">cb</span><span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
        cb.checked = <span style="color: #d3869b;">true</span>;
      <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span>;
    <span style="color: #458588;">}</span>

    <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">buxuan</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
      document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'[type=checkbox]'</span><span style="color: #b16286;">)</span>.forEach<span style="color: #b16286;">(</span><span style="color: #fb4933;">function</span> <span style="color: #8ec07c;">(</span><span style="color: #83a598;">cb</span><span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
        cb.checked = <span style="color: #d3869b;">false</span>;
      <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span>;
    <span style="color: #458588;">}</span>

    <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">fanxuan</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
      document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'[type=checkbox]'</span><span style="color: #b16286;">)</span>.forEach<span style="color: #b16286;">(</span><span style="color: #fb4933;">function</span> <span style="color: #8ec07c;">(</span><span style="color: #83a598;">cb</span><span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
        cb.checked = !cb.checked;
      <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span>;
    <span style="color: #458588;">}</span>

    <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">delSelect</span><span style="color: #458588;">(</span><span style="color: #83a598;">er</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
      <span style="color: #fb4933;">var</span> <span style="color: #83a598;">inputs</span> = document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">':checked'</span><span style="color: #b16286;">)</span>;
      <span style="color: #fb4933;">for</span> <span style="color: #b16286;">(</span><span style="color: #fb4933;">var</span> <span style="color: #83a598;">i</span> = 0; i &lt; inputs.length; i++<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
        <span style="color: #fb4933;">var</span> <span style="color: #83a598;">tr</span> = inputs<span style="color: #8ec07c;">[</span>i<span style="color: #8ec07c;">]</span>.parentNode.parentNode;
        tr.parentNode.removeChild<span style="color: #8ec07c;">(</span>tr<span style="color: #8ec07c;">)</span>;
      <span style="color: #b16286;">}</span>
    <span style="color: #458588;">}</span>
  <span style="color: #458588;">&lt;</span>/script<span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">html</span><span style="color: #458588;">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org25cdbef" class="outline-3">
<h3 id="org25cdbef"><span class="section-number-3">7.7.</span> 上述操作的另一种解答</h3>
<div class="outline-text-3" id="text-7-7">
<p>
将对页面的操作，转化为了对数据 (array 数组) 的操作:
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #fb4933;">!doctype</span> html&gt;
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">html</span> <span style="color: #83a598;">lang</span>=<span style="color: #b8bb26;">"en"</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">meta</span> <span style="color: #83a598;">charset</span>=<span style="color: #b8bb26;">"UTF-8"</span> /<span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">&#21830;&#21697;&#31649;&#29702;</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">style</span><span style="color: #458588;">&gt;</span>
     <span style="color: #fabd2f;">label</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">display</span>: block;
     <span style="color: #458588;">}</span>
     <span style="color: #fabd2f;">table</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">border-collapse</span>: collapse;
       <span style="color: #fb4933;">margin-top</span>: 1em;
     <span style="color: #458588;">}</span>
     <span style="color: #fabd2f;">table, th, td</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">border</span>: 1px solid <span style="color: #ffffff; background-color: #000000;">black</span>;
     <span style="color: #458588;">}</span>
     <span style="color: #fabd2f;">th, td</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">padding</span>: 5px 1em;
     <span style="color: #458588;">}</span>
     <span style="color: #fabd2f;">.goods_new &gt; label &gt; span</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">color</span>: <span style="color: #ffffff; background-color: #009900;">#009900</span>;
       <span style="color: #fb4933;">margin-right</span>: 10px;
     <span style="color: #458588;">}</span>
    <span style="color: #458588;">&lt;</span>/style<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>

  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>

    <span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#21830;&#21697;&#24405;&#20837;</span><span style="color: #7c6f64;"> --&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">section</span> <span style="color: #83a598;">class</span>=<span style="color: #b8bb26;">"goods_new"</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>&#21830;&#21697;&#21517;&#23383;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">input</span> <span style="color: #83a598;">name</span>=<span style="color: #b8bb26;">"goods_name"</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>&#21830;&#21697;&#20215;&#26684;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">input</span> <span style="color: #83a598;">name</span>=<span style="color: #b8bb26;">"goods_price"</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>&#21830;&#21697;&#25968;&#37327;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">span</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">input</span> <span style="color: #83a598;">name</span>=<span style="color: #b8bb26;">"goods_amount"</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">label</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"addGoods()"</span><span style="color: #458588;">&gt;</span>&#28155;&#21152;&#21830;&#21697;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">section</span><span style="color: #458588;">&gt;</span>

    <span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#21830;&#21697;&#21015;&#34920;</span><span style="color: #7c6f64;"> --&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"quanxuan()"</span><span style="color: #458588;">&gt;</span>&#20840;&#36873;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"buxuan()"</span><span style="color: #458588;">&gt;</span>&#19981;&#36873;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"fanxuan()"</span><span style="color: #458588;">&gt;</span>&#21453;&#36873;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">onclick</span>=<span style="color: #b8bb26;">"delSelect()"</span><span style="color: #458588;">&gt;</span>&#21024;&#38500;&#25152;&#26377;&#36873;&#25321;&#39033;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">section</span> <span style="color: #83a598;">class</span>=<span style="color: #b8bb26;">"goods_list"</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">table</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">thead</span><span style="color: #458588;">&gt;</span>
          <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">tr</span><span style="color: #458588;">&gt;</span>
            <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;&lt;</span>/<span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>
            <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>&#21517;&#23383;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>
            <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>&#20215;&#26684;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>
            <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>&#25968;&#37327;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>
            <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>&#25805;&#20316;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">th</span><span style="color: #458588;">&gt;</span>
          <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">tr</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">thead</span><span style="color: #458588;">&gt;</span>
        <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">tbody</span><span style="color: #458588;">&gt;</span>
          <span style="color: #7c6f64;">&lt;!--</span>
<span style="color: #7c6f64;">          &lt;tr&gt;</span>
<span style="color: #7c6f64;">            &lt;td&gt;xx&lt;/td&gt;</span>
<span style="color: #7c6f64;">            &lt;td&gt;xxx&lt;/td&gt;</span>
<span style="color: #7c6f64;">            &lt;td&gt;xxxx&lt;/td&gt;</span>
<span style="color: #7c6f64;">          &lt;/tr&gt;</span>
<span style="color: #7c6f64;">          --&gt;</span>
        <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">tbody</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">table</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">section</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
     <span style="color: #fb4933;">var</span> <span style="color: #83a598;">goods_arr</span> = <span style="color: #458588;">[</span>
       <span style="color: #b16286;">[</span><span style="color: #b8bb26;">'aaaa'</span>, 22, 33<span style="color: #b16286;">]</span>,
       <span style="color: #b16286;">[</span><span style="color: #b8bb26;">'bbbb'</span>, 11, 43<span style="color: #b16286;">]</span>
     <span style="color: #458588;">]</span>;

     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">renderGoods</span> <span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">trs</span> = <span style="color: #b8bb26;">""</span>;
       goods_arr.forEach<span style="color: #b16286;">(</span><span style="color: #fb4933;">function</span><span style="color: #8ec07c;">(</span><span style="color: #83a598;">goods</span><span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
         trs += <span style="color: #b8bb26;">'&lt;tr&gt;'</span>;
         trs += <span style="color: #b8bb26;">' &lt;td&gt;&lt;input type="checkbox"&gt;&lt;/td&gt;'</span>;
         trs += <span style="color: #b8bb26;">' &lt;td&gt;'</span> + goods<span style="color: #d65d0e;">[</span>0<span style="color: #d65d0e;">]</span> + <span style="color: #b8bb26;">'&lt;/td&gt;&lt;td&gt;'</span> + goods<span style="color: #d65d0e;">[</span>1<span style="color: #d65d0e;">]</span> + <span style="color: #b8bb26;">'&lt;/td&gt;&lt;td&gt;'</span> + goods<span style="color: #d65d0e;">[</span>2<span style="color: #d65d0e;">]</span> + <span style="color: #b8bb26;">'&lt;/td&gt;'</span>;
         trs += <span style="color: #b8bb26;">' &lt;td&gt;&lt;button onclick="del(event)"&gt;&#21024;&#38500;&lt;/button&gt;&lt;/td&gt;'</span>;
         trs += <span style="color: #b8bb26;">'&lt;/tr&gt;'</span>;
       <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span>;
       document.querySelector<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'tbody'</span><span style="color: #b16286;">)</span>.innerHTML = trs;
     <span style="color: #458588;">}</span>

     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">addGoods</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#33719;&#21462;&#39029;&#38754;&#36755;&#20837;</span>
       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">goods</span> = <span style="color: #b16286;">[]</span>;
       document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">".goods_new input"</span><span style="color: #b16286;">)</span>.forEach<span style="color: #b16286;">(</span><span style="color: #fb4933;">function</span><span style="color: #8ec07c;">(</span><span style="color: #83a598;">input</span><span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
         goods.push<span style="color: #d65d0e;">(</span>input.value<span style="color: #d65d0e;">)</span>;
         input.value = <span style="color: #b8bb26;">""</span>;
       <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span>;

       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#26356;&#26032;&#25968;&#25454;</span>
       goods_arr.push<span style="color: #b16286;">(</span>goods<span style="color: #b16286;">)</span>;

       <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#37325;&#26032;&#28210;&#26579;&#39029;&#38754;</span>
       renderGoods<span style="color: #b16286;">()</span>;
     <span style="color: #458588;">}</span>

     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">del</span><span style="color: #458588;">(</span><span style="color: #83a598;">ev</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>confirm<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'&#26159;&#19981;&#26159;&#30830;&#23450;&#35201;&#21024;&#38500;?'</span><span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
         <span style="color: #fb4933;">var</span> <span style="color: #83a598;">index</span> = ev.target.parentNode.parentNode.rowIndex;
         goods_arr.splice<span style="color: #8ec07c;">(</span>index - 1, 1<span style="color: #8ec07c;">)</span>;
         renderGoods<span style="color: #8ec07c;">()</span>;
       <span style="color: #b16286;">}</span>
     <span style="color: #458588;">}</span>

     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">quanxuan</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
       document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'[type=checkbox]'</span><span style="color: #b16286;">)</span>.forEach<span style="color: #b16286;">(</span><span style="color: #fb4933;">function</span> <span style="color: #8ec07c;">(</span><span style="color: #83a598;">cb</span><span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
         cb.checked = <span style="color: #d3869b;">true</span>;
       <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span>;
     <span style="color: #458588;">}</span>

     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">buxuan</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
       document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'[type=checkbox]'</span><span style="color: #b16286;">)</span>.forEach<span style="color: #b16286;">(</span><span style="color: #fb4933;">function</span> <span style="color: #8ec07c;">(</span><span style="color: #83a598;">cb</span><span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
         cb.checked = <span style="color: #d3869b;">false</span>;
       <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span>;
     <span style="color: #458588;">}</span>

     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">fanxuan</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
       document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'[type=checkbox]'</span><span style="color: #b16286;">)</span>.forEach<span style="color: #b16286;">(</span><span style="color: #fb4933;">function</span> <span style="color: #8ec07c;">(</span><span style="color: #83a598;">cb</span><span style="color: #8ec07c;">)</span> <span style="color: #8ec07c;">{</span>
         cb.checked = !cb.checked;
       <span style="color: #8ec07c;">}</span><span style="color: #b16286;">)</span>;
     <span style="color: #458588;">}</span>

     <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">delSelect</span><span style="color: #458588;">(</span><span style="color: #83a598;">er</span><span style="color: #458588;">)</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">var</span> <span style="color: #83a598;">inputs</span> = document.querySelectorAll<span style="color: #b16286;">(</span><span style="color: #b8bb26;">':checked'</span><span style="color: #b16286;">)</span>;
       <span style="color: #fb4933;">for</span> <span style="color: #b16286;">(</span><span style="color: #fb4933;">var</span> <span style="color: #83a598;">i</span> = 0; i &lt; inputs.length; i++<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
         <span style="color: #fb4933;">var</span> <span style="color: #83a598;">index</span> = inputs<span style="color: #8ec07c;">[</span>i<span style="color: #8ec07c;">]</span>.parentNode.parentNode.rowIndex;
         goods_arr.splice<span style="color: #8ec07c;">(</span>index - 1, 1<span style="color: #8ec07c;">)</span>;
       <span style="color: #b16286;">}</span>
       renderGoods<span style="color: #b16286;">()</span>;
     <span style="color: #458588;">}</span>

     renderGoods<span style="color: #458588;">()</span>;
    <span style="color: #458588;">&lt;</span>/script<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">html</span><span style="color: #458588;">&gt;</span>
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-orge53fd8b" class="outline-2">
<h2 id="orge53fd8b"><span class="section-number-2">8.</span> 案例分析 (图片切换)</h2>
<div class="outline-text-2" id="text-8">
<p>
效果示例:
</p>
<pre class="example" id="org025affc">
+-------------------------+
|                         |
|                         |
|      images             |
|                         |
|                         |
+-------------------------+

上一张               下一张
</pre>

<p>
要求:
</p>
<ul class="org-ul">
<li>至少 3 张图片，显示在图中的 images 区域</li>
<li>鼠标点击上一张、下一张，进行切换，循环显示</li>
<li>键盘的 &larr; 和 &rarr; 达到同样的效果</li>
<li>鼠标在图片上移动的时候，将上一张和下一张的按钮隐藏掉</li>
<li>鼠标在图片上的时候，将图片的透明度设为 50%，有 2s 的渐变效果</li>
</ul>
</div>

<div id="outline-container-orgf396904" class="outline-3">
<h3 id="orgf396904"><span class="section-number-3">8.1.</span> 第一步</h3>
<div class="outline-text-3" id="text-8-1">
<p>
先确立页面，保证各项元素能正常渲染:
</p>
<ul class="org-ul">
<li>图片的地址，要使用相对路径，千万不能使用操作系统的全路径</li>
<li>按钮和图片的节点，务必使用 div/section/footer 之类的容器包括起来，便于后面的操控</li>
</ul>

<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #fb4933;">!doctype</span> html&gt;
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">html</span> <span style="color: #83a598;">lang</span>=<span style="color: #b8bb26;">"en"</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">meta</span> <span style="color: #83a598;">charset</span>=<span style="color: #b8bb26;">"UTF-8"</span>/<span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">&#22270;&#29255;&#36718;&#25773;</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">style</span><span style="color: #458588;">&gt;</span>
     <span style="color: #fabd2f;">img</span> <span style="color: #458588;">{</span>
       <span style="color: #fb4933;">width</span>: 200px;
       <span style="color: #fb4933;">height</span>: 200px;
     <span style="color: #458588;">}</span>
    <span style="color: #458588;">&lt;</span>/style<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
    <span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#25918;&#32622;&#22270;&#29255;</span><span style="color: #7c6f64;"> --&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">img</span> <span style="color: #83a598;">src</span>=<span style="color: #b8bb26;">"images/a.jpg"</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

    <span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#25918;&#32622;&#25353;&#38062;</span><span style="color: #7c6f64;"> --&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">footer</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>&#19978;&#19968;&#24352;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>&#19979;&#19968;&#24352;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">footer</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">html</span><span style="color: #458588;">&gt;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9315d8b" class="outline-3">
<h3 id="org9315d8b"><span class="section-number-3">8.2.</span> 第二步</h3>
<div class="outline-text-3" id="text-8-2">
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #fb4933;">!doctype</span> html&gt;
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">html</span> <span style="color: #83a598;">lang</span>=<span style="color: #b8bb26;">"en"</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">meta</span> <span style="color: #83a598;">charset</span>=<span style="color: #b8bb26;">"UTF-8"</span>/<span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">&#22270;&#29255;&#36718;&#25773;</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">style</span><span style="color: #458588;">&gt;</span>
      <span style="color: #fabd2f;">img</span> <span style="color: #458588;">{</span>
          <span style="color: #fb4933;">width</span>: 200px;
          <span style="color: #fb4933;">height</span>: 200px;
      <span style="color: #458588;">}</span>
    <span style="color: #458588;">&lt;</span>/style<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
    <span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#25918;&#32622;&#22270;&#29255;</span><span style="color: #7c6f64;"> --&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">img</span> <span style="color: #83a598;">src</span>=<span style="color: #b8bb26;">""</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

    <span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#25918;&#32622;&#25353;&#38062;</span><span style="color: #7c6f64;"> --&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">footer</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">class</span>=<span style="color: #b8bb26;">"prev"</span><span style="color: #458588;">&gt;</span>&#19978;&#19968;&#24352;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">class</span>=<span style="color: #b8bb26;">"next"</span><span style="color: #458588;">&gt;</span>&#19979;&#19968;&#24352;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">footer</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
      <span style="color: #fb4933;">let</span> <span style="color: #83a598;">current</span> = 0;
      <span style="color: #fb4933;">const</span> <span style="color: #83a598;">images</span> = <span style="color: #458588;">[</span>
          <span style="color: #b8bb26;">"images/a.jpg"</span>,
          <span style="color: #b8bb26;">"images/b.jpg"</span>,
          <span style="color: #b8bb26;">"images/c.jpg"</span>,
          <span style="color: #b8bb26;">"images/d.jpg"</span>
      <span style="color: #458588;">]</span>;

      <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22788;&#29702;&#30340;&#36923;&#36753;</span>
      <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">renderImage</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
          <span style="color: #fb4933;">let</span> <span style="color: #83a598;">img</span> = document.querySelector<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'img'</span><span style="color: #b16286;">)</span>;
          img.src = images<span style="color: #b16286;">[</span>current<span style="color: #b16286;">]</span>;
      <span style="color: #458588;">}</span>

      <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">prevImage</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span> <span style="color: #7c6f64;">/* </span><span style="color: #7c6f64;">0...length-1</span><span style="color: #7c6f64;"> */</span>
          current = current - 1 &lt; 0 ? images.length-1 : current - 1;
          renderImage<span style="color: #b16286;">()</span>;
      <span style="color: #458588;">}</span>

      <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">nextImage</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
          <span style="color: #fb4933;">if</span> <span style="color: #b16286;">(</span>current + 1 &gt; images.length-1<span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span> <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22914;&#26524; +1 &#20043;&#21518;&#22826;&#22823;&#65292;&#36820;&#22238;&#31532;&#19968;&#24352;&#22270;&#29255;&#65292;&#19979;&#26631; 0</span>
              current = 0;
          <span style="color: #b16286;">}</span> <span style="color: #fb4933;">else</span> <span style="color: #b16286;">{</span>
              current = current + 1; <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#40664;&#35748;&#34892;&#20026;&#65292;&#19979;&#19968;&#24352;&#22270;&#29255;</span>
          <span style="color: #b16286;">}</span>
          <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">current = current + 1 &gt; images.length-1 ? 0 : current + 1;</span>
          renderImage<span style="color: #b16286;">()</span>;
      <span style="color: #458588;">}</span>

      <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#32465;&#23450;&#21709;&#24212;&#20107;&#20214;</span>
      document.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">'.prev'</span><span style="color: #458588;">)</span>.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'click'</span>, prevImage<span style="color: #458588;">)</span>;
      document.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">'.next'</span><span style="color: #458588;">)</span>.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'click'</span>, nextImage<span style="color: #458588;">)</span>;

      <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21021;&#22987;&#21270;&#28210;&#26579;&#65292;&#31532;&#19968;&#24352;&#22270;&#29255;</span>
      renderImage<span style="color: #458588;">()</span>;
    <span style="color: #458588;">&lt;</span>/script<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">html</span><span style="color: #458588;">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3c5e451" class="outline-3">
<h3 id="org3c5e451"><span class="section-number-3">8.3.</span> 第三步</h3>
<div class="outline-text-3" id="text-8-3">
<p>
绑定键盘的事件:
</p>
<div class="org-src-container">
<pre class="src src-js">document.body.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'keydown'</span>, <span style="color: #fb4933;">function</span> <span style="color: #b16286;">(</span><span style="color: #83a598;">e</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
    <span style="color: #fb4933;">if</span> <span style="color: #8ec07c;">(</span>e.keyCode == 37<span style="color: #8ec07c;">)</span> prevImage<span style="color: #8ec07c;">()</span>;
    <span style="color: #fb4933;">if</span> <span style="color: #8ec07c;">(</span>e.keyCode == 39<span style="color: #8ec07c;">)</span> nextImage<span style="color: #8ec07c;">()</span>;
<span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;
</pre>
</div>

<p>
假如要求每隔 5 秒，自动跳到下一张，那么只需要额外绑定一个定时任务即可:
</p>
<div class="org-src-container">
<pre class="src src-js">window.setInterval<span style="color: #458588;">(</span>nextImage, 5000<span style="color: #458588;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfdb1e83" class="outline-3">
<h3 id="orgfdb1e83"><span class="section-number-3">8.4.</span> 第四步</h3>
<div class="outline-text-3" id="text-8-4">
<p>
隐藏元素:
</p>
<ul class="org-ul">
<li>不要使用 js 将其移除掉，移除不是隐藏</li>
<li>使用 display:none 可以将元素进行隐藏</li>
<li>在实践中，借助 class 样式类，是更合理的一种行为</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #fb4933;">const</span> <span style="color: #83a598;">img</span> = document.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">'img'</span><span style="color: #458588;">)</span>;
img.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'mouseover'</span>, <span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">e</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
    <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">document.querySelector('footer').style.display = 'none';</span>
    document.querySelector<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'footer'</span><span style="color: #8ec07c;">)</span>.classList.add<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'yincangdiao'</span><span style="color: #8ec07c;">)</span>;
<span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;
img.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'mouseout'</span>, <span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">e</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
    document.querySelector<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'footer'</span><span style="color: #8ec07c;">)</span>.classList.remove<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'yincangdiao'</span><span style="color: #8ec07c;">)</span>;
<span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org1229ca6" class="outline-3">
<h3 id="org1229ca6"><span class="section-number-3">8.5.</span> 第五步</h3>
<div class="outline-text-3" id="text-8-5">
<p>
纯粹的 CSS 样式问题:
</p>
<ol class="org-ol">
<li>怎么样控制一个元素的透明度 (opacity)</li>
<li>怎么样控制鼠标放上去的样式 (伪类 :hover)</li>
<li>怎么样控制渐变的效果 (transition)</li>
</ol>

<div class="org-src-container">
<pre class="src src-css"><span style="color: #fabd2f;">img</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">width</span>: 200px;
    <span style="color: #fb4933;">height</span>: 200px;
    <span style="color: #fb4933;">transition</span>: all 2s;
<span style="color: #458588;">}</span>
<span style="color: #fabd2f;">img:hover</span> <span style="color: #458588;">{</span>
    <span style="color: #fb4933;">opacity</span>: 30%;
    <span style="color: #fb4933;">height</span>: 100px;
    <span style="color: #fb4933;">margin-left</span>: 30px;
<span style="color: #458588;">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9941a7d" class="outline-3">
<h3 id="org9941a7d"><span class="section-number-3">8.6.</span> 最终的代码</h3>
<div class="outline-text-3" id="text-8-6">
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #fb4933;">!doctype</span> html&gt;
<span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">html</span> <span style="color: #83a598;">lang</span>=<span style="color: #b8bb26;">"en"</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">meta</span> <span style="color: #83a598;">charset</span>=<span style="color: #b8bb26;">"UTF-8"</span>/<span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">&#22270;&#29255;&#36718;&#25773;</span><span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">title</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">style</span><span style="color: #458588;">&gt;</span>
      <span style="color: #fabd2f;">img</span> <span style="color: #458588;">{</span>
          <span style="color: #fb4933;">width</span>: 200px;
          <span style="color: #fb4933;">height</span>: 200px;
          <span style="color: #fb4933;">transition</span>: all 2s;
      <span style="color: #458588;">}</span>
      <span style="color: #fabd2f;">img:hover</span> <span style="color: #458588;">{</span>
          <span style="color: #fb4933;">opacity</span>: 30%;
          <span style="color: #fb4933;">height</span>: 100px;
          <span style="color: #fb4933;">margin-left</span>: 30px;
      <span style="color: #458588;">}</span>
      <span style="color: #fabd2f;">.yincangdiao</span> <span style="color: #458588;">{</span>
          <span style="color: #fb4933;">display</span>: none; <span style="color: #7c6f64;">/* </span><span style="color: #7c6f64;">inline/block</span><span style="color: #7c6f64;"> */</span>
      <span style="color: #458588;">}</span>
    <span style="color: #458588;">&lt;</span>/style<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">head</span><span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
    <span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#25918;&#32622;&#22270;&#29255;</span><span style="color: #7c6f64;"> --&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">img</span> <span style="color: #83a598;">src</span>=<span style="color: #b8bb26;">""</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">div</span><span style="color: #458588;">&gt;</span>

    <span style="color: #7c6f64;">&lt;!-- </span><span style="color: #7c6f64;">&#25918;&#32622;&#25353;&#38062;</span><span style="color: #7c6f64;"> --&gt;</span>
    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">footer</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">class</span>=<span style="color: #b8bb26;">"prev"</span><span style="color: #458588;">&gt;</span>&#19978;&#19968;&#24352;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
      <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">button</span> <span style="color: #83a598;">class</span>=<span style="color: #b8bb26;">"next"</span><span style="color: #458588;">&gt;</span>&#19979;&#19968;&#24352;<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">button</span><span style="color: #458588;">&gt;</span>
    <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">footer</span><span style="color: #458588;">&gt;</span>

    <span style="color: #458588;">&lt;</span><span style="color: #fabd2f;">script</span><span style="color: #458588;">&gt;</span>
      <span style="color: #fb4933;">let</span> <span style="color: #83a598;">current</span> = 0;
      <span style="color: #fb4933;">const</span> <span style="color: #83a598;">images</span> = <span style="color: #458588;">[</span>
          <span style="color: #b8bb26;">"images/a.jpg"</span>,
          <span style="color: #b8bb26;">"images/b.jpg"</span>,
          <span style="color: #b8bb26;">"images/c.jpg"</span>,
          <span style="color: #b8bb26;">"images/d.jpg"</span>
      <span style="color: #458588;">]</span>;

      <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#22788;&#29702;&#30340;&#36923;&#36753;</span>
      <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">renderImage</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
          <span style="color: #fb4933;">let</span> <span style="color: #83a598;">img</span> = document.querySelector<span style="color: #b16286;">(</span><span style="color: #b8bb26;">'img'</span><span style="color: #b16286;">)</span>;
          img.src = images<span style="color: #b16286;">[</span>current<span style="color: #b16286;">]</span>;
      <span style="color: #458588;">}</span>

      <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">prevImage</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span> <span style="color: #7c6f64;">/* </span><span style="color: #7c6f64;">0...length-1</span><span style="color: #7c6f64;"> */</span>
          current = current - 1 &lt; 0 ? images.length-1 : current - 1;
          renderImage<span style="color: #b16286;">()</span>;
      <span style="color: #458588;">}</span>

      <span style="color: #fb4933;">function</span> <span style="color: #fabd2f;">nextImage</span><span style="color: #458588;">()</span> <span style="color: #458588;">{</span>
          current = current + 1 &gt; images.length-1 ? 0 : current + 1;
          renderImage<span style="color: #b16286;">()</span>;
      <span style="color: #458588;">}</span>

      <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#32465;&#23450;&#21709;&#24212;&#20107;&#20214;</span>
      document.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">'.prev'</span><span style="color: #458588;">)</span>.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'click'</span>, prevImage<span style="color: #458588;">)</span>;
      document.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">'.next'</span><span style="color: #458588;">)</span>.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'click'</span>, nextImage<span style="color: #458588;">)</span>;
      document.body.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'keydown'</span>, <span style="color: #fb4933;">function</span> <span style="color: #b16286;">(</span><span style="color: #83a598;">e</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
          <span style="color: #fb4933;">if</span> <span style="color: #8ec07c;">(</span>e.keyCode == 37<span style="color: #8ec07c;">)</span> prevImage<span style="color: #8ec07c;">()</span>;
          <span style="color: #fb4933;">if</span> <span style="color: #8ec07c;">(</span>e.keyCode == 39<span style="color: #8ec07c;">)</span> nextImage<span style="color: #8ec07c;">()</span>;
      <span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;
      <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">window.setInterval(nextImage, 5000);</span>

      <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#32465;&#23450;&#40736;&#26631;&#24748;&#20572;&#20107;&#20214;</span>
      <span style="color: #fb4933;">const</span> <span style="color: #83a598;">img</span> = document.querySelector<span style="color: #458588;">(</span><span style="color: #b8bb26;">'img'</span><span style="color: #458588;">)</span>;
      img.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'mouseover'</span>, <span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">e</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
          <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">document.querySelector('footer').style.display = 'none';</span>
          document.querySelector<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'footer'</span><span style="color: #8ec07c;">)</span>.classList.add<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'yincangdiao'</span><span style="color: #8ec07c;">)</span>;
      <span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;
      img.addEventListener<span style="color: #458588;">(</span><span style="color: #b8bb26;">'mouseout'</span>, <span style="color: #fb4933;">function</span><span style="color: #b16286;">(</span><span style="color: #83a598;">e</span><span style="color: #b16286;">)</span> <span style="color: #b16286;">{</span>
          document.querySelector<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'footer'</span><span style="color: #8ec07c;">)</span>.classList.remove<span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">'yincangdiao'</span><span style="color: #8ec07c;">)</span>;
      <span style="color: #b16286;">}</span><span style="color: #458588;">)</span>;

      <span style="color: #7c6f64;">// </span><span style="color: #7c6f64;">&#21021;&#22987;&#21270;&#28210;&#26579;&#65292;&#31532;&#19968;&#24352;&#22270;&#29255;</span>
      renderImage<span style="color: #458588;">()</span>;
    <span style="color: #458588;">&lt;</span>/script<span style="color: #458588;">&gt;</span>
  <span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">body</span><span style="color: #458588;">&gt;</span>
<span style="color: #458588;">&lt;</span>/<span style="color: #fabd2f;">html</span><span style="color: #458588;">&gt;</span>
</pre>
</div>
</div>
</div>
</section>
</div>
<div id="postamble" class="status">
<p class="author">Author: 31415929</p>
<p class="date">Created: 2024-03-07</p>
<p class="validation">Go ahead, never stop.</p>
</div>
</body>
</html>
